(function(B,C){var A=function(F,K){var D=B.extend({},B.fn.ace_colorpicker.defaults,K);var J=B(F);var G="";var E="";var H=null;var L=[];J.addClass("hide").find("option").each(function(){var M="colorpick-btn";var N=this.value.replace(/[^\w\s,#\(\)\.]/g,"");if(this.value!=N){this.value=N}if(this.selected){M+=" selected";E=N}L.push(N);G+='<li><a class="'+M+'" href="#" style="background-color:'+N+';" data-color="'+N+'"></a></li>'}).end().on("change.color",function(){J.next().find(".btn-colorpicker").css("background-color",this.value)}).after('<div class="dropdown dropdown-colorpicker">		<a data-toggle="dropdown" class="dropdown-toggle" '+(D.auto_pos?'data-position="auto"':"")+' href="#"><span class="btn-colorpicker" style="background-color:'+E+'"></span></a><ul class="dropdown-menu'+(D.caret?" dropdown-caret":"")+(D.pull_right?" dropdown-menu-right":"")+'">'+G+"</ul></div>");var I=J.next().find(".dropdown-menu");I.on(ace.click_event,function(N){var M=B(N.target);if(!M.is(".colorpick-btn")){return false}if(H){H.removeClass("selected")}H=M;H.addClass("selected");var O=H.data("color");J.val(O).trigger("change");N.preventDefault();return true});H=J.next().find("a.selected");this.pick=function(O,N){if(typeof O==="number"){if(O>=L.length){return}F.selectedIndex=O;I.find("a:eq("+O+")").trigger(ace.click_event)}else{if(typeof O==="string"){var M=O.replace(/[^\w\s,#\(\)\.]/g,"");O=L.indexOf(M);if(O==-1&&N===true){L.push(M);B("<option />").appendTo(J).val(M);B('<li><a class="colorpick-btn" href="#"></a></li>').appendTo(I).find("a").css("background-color",M).data("color",M);O=L.length-1}if(O==-1){return}I.find("a:eq("+O+")").trigger(ace.click_event)}}};this.destroy=function(){J.removeClass("hide").off("change.color").next().remove();L=[]}};B.fn.ace_colorpicker=function(G,D){var F;var E=this.each(function(){var I=B(this);var J=I.data("ace_colorpicker");var H=typeof G==="object"&&G;if(!J){I.data("ace_colorpicker",(J=new A(this,H)))}if(typeof G==="string"){F=J[G](D)}});return(F===C)?E:F};B.fn.ace_colorpicker.defaults={"pull_right":false,"caret":true,"auto_pos":true}})(window.jQuery);