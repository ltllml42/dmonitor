/* jQuery UI - v1.11.2 - 2014-10-28
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, slider.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */
(function(A){if(typeof define==="function"&&define.amd){define(["jquery"],A)}else{A(jQuery)}}(function(E){
/*
 * jQuery UI Core 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */
E.ui=E.ui||{};E.extend(E.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});E.fn.extend({scrollParent:function(P){var T=this.css("position"),S=T==="absolute",Q=P?/(auto|scroll|hidden)/:/(auto|scroll)/,R=this.parents().filter(function(){var U=E(this);if(S&&U.css("position")==="static"){return false}return Q.test(U.css("overflow")+U.css("overflow-y")+U.css("overflow-x"))}).eq(0);return T==="fixed"||!R.length?E(this[0].ownerDocument||document):R},uniqueId:(function(){var P=0;return function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++P)}})}})(),removeUniqueId:function(){return this.each(function(){if(/^ui-id-\d+$/.test(this.id)){E(this).removeAttr("id")}})}});function M(S,P){var T,U,R,Q=S.nodeName.toLowerCase();if("area"===Q){T=S.parentNode;U=T.name;if(!S.href||!U||T.nodeName.toLowerCase()!=="map"){return false}R=E("img[usemap='#"+U+"']")[0];return !!R&&I(R)}return(/input|select|textarea|button|object/.test(Q)?!S.disabled:"a"===Q?S.href||P:P)&&I(S)}function I(P){return E.expr.filters.visible(P)&&!E(P).parents().addBack().filter(function(){return E.css(this,"visibility")==="hidden"}).length}E.extend(E.expr[":"],{data:E.expr.createPseudo?E.expr.createPseudo(function(P){return function(Q){return !!E.data(Q,P)}}):function(Q,R,P){return !!E.data(Q,P[3])},focusable:function(P){return M(P,!isNaN(E.attr(P,"tabindex")))},tabbable:function(R){var P=E.attr(R,"tabindex"),Q=isNaN(P);return(Q||P>=0)&&M(R,!Q)}});if(!E("<a>").outerWidth(1).jquery){E.each(["Width","Height"],function(T,Q){var P=Q==="Width"?["Left","Right"]:["Top","Bottom"],S=Q.toLowerCase(),R={innerWidth:E.fn.innerWidth,innerHeight:E.fn.innerHeight,outerWidth:E.fn.outerWidth,outerHeight:E.fn.outerHeight};function U(W,V,X,Y){E.each(P,function(){V-=parseFloat(E.css(W,"padding"+this))||0;if(X){V-=parseFloat(E.css(W,"border"+this+"Width"))||0}if(Y){V-=parseFloat(E.css(W,"margin"+this))||0}});return V}E.fn["inner"+Q]=function(V){if(V===undefined){return R["inner"+Q].call(this)}return this.each(function(){E(this).css(S,U(this,V)+"px")})};E.fn["outer"+Q]=function(V,W){if(typeof V!=="number"){return R["outer"+Q].call(this,V)}return this.each(function(){E(this).css(S,U(this,V,true,W)+"px")})}})}if(!E.fn.addBack){E.fn.addBack=function(P){return this.add(P==null?this.prevObject:this.prevObject.filter(P))}}if(E("<a>").data("a-b","a").removeData("a-b").data("a-b")){E.fn.removeData=(function(P){return function(Q){if(arguments.length){return P.call(this,E.camelCase(Q))}else{return P.call(this)}}})(E.fn.removeData)}E.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());E.fn.extend({focus:(function(P){return function(R,Q){return typeof R==="number"?this.each(function(){var S=this;setTimeout(function(){E(S).focus();if(Q){Q.call(S)}},R)}):P.apply(this,arguments)}})(E.fn.focus),disableSelection:(function(){var P="onselectstart" in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(P+".ui-disableSelection",function(Q){Q.preventDefault()})}})(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(R){if(R!==undefined){return this.css("zIndex",R)}if(this.length){var Q=E(this[0]),S,P;while(Q.length&&Q[0]!==document){S=Q.css("position");if(S==="absolute"||S==="relative"||S==="fixed"){P=parseInt(Q.css("zIndex"),10);if(!isNaN(P)&&P!==0){return P}}Q=Q.parent()}}return 0}});E.ui.plugin={add:function(R,S,P){var T,Q=E.ui[R].prototype;for(T in P){Q.plugins[T]=Q.plugins[T]||[];Q.plugins[T].push([S,P[T]])}},call:function(S,Q,R,U){var T,P=S.plugins[Q];if(!P){return}if(!U&&(!S.element[0].parentNode||S.element[0].parentNode.nodeType===11)){return}for(T=0;T<P.length;T++){if(S.options[P[T][0]]){P[T][1].apply(S.element,R)}}}};
/*
 * jQuery UI Widget 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
var G=0,H=Array.prototype.slice;E.cleanData=(function(P){return function(U){var R,Q,S;for(S=0;(Q=U[S])!=null;S++){try{R=E._data(Q,"events");if(R&&R.remove){E(Q).triggerHandler("remove")}}catch(T){}}P(U)}})(E.cleanData);E.widget=function(T,R,V){var X,U,P,Q,W={},S=T.split(".")[0];T=T.split(".")[1];X=S+"-"+T;if(!V){V=R;R=E.Widget}E.expr[":"][X.toLowerCase()]=function(Y){return !!E.data(Y,X)};E[S]=E[S]||{};U=E[S][T];P=E[S][T]=function(Y,Z){if(!this._createWidget){return new P(Y,Z)}if(arguments.length){this._createWidget(Y,Z)}};E.extend(P,U,{version:V.version,_proto:E.extend({},V),_childConstructors:[]});Q=new R();Q.options=E.widget.extend({},Q.options);E.each(V,function(Z,Y){if(!E.isFunction(Y)){W[Z]=Y;return}W[Z]=(function(){var a=function(){return R.prototype[Z].apply(this,arguments)},b=function(c){return R.prototype[Z].apply(this,c)};return function(){var e=this._super,c=this._superApply,d;this._super=a;this._superApply=b;d=Y.apply(this,arguments);this._super=e;this._superApply=c;return d}})()});P.prototype=E.widget.extend(Q,{widgetEventPrefix:U?(Q.widgetEventPrefix||T):T},W,{constructor:P,namespace:S,widgetName:T,widgetFullName:X});if(U){E.each(U._childConstructors,function(a,Z){var Y=Z.prototype;E.widget(Y.namespace+"."+Y.widgetName,P,Z._proto)});delete U._childConstructors}else{R._childConstructors.push(P)}E.widget.bridge(T,P);return P};E.widget.extend=function(S){var R=H.call(arguments,1),P=0,Q=R.length,T,U;for(;P<Q;P++){for(T in R[P]){U=R[P][T];if(R[P].hasOwnProperty(T)&&U!==undefined){if(E.isPlainObject(U)){S[T]=E.isPlainObject(S[T])?E.widget.extend({},S[T],U):E.widget.extend({},U)}else{S[T]=U}}}}return S};E.widget.bridge=function(P,Q){var R=Q.prototype.widgetFullName||P;E.fn[P]=function(V){var U=typeof V==="string",T=H.call(arguments,1),S=this;V=!U&&T.length?E.widget.extend.apply(null,[V].concat(T)):V;if(U){this.each(function(){var W,X=E.data(this,R);if(V==="instance"){S=X;return false}if(!X){return E.error("cannot call methods on "+P+" prior to initialization; attempted to call method '"+V+"'")}if(!E.isFunction(X[V])||V.charAt(0)==="_"){return E.error("no such method '"+V+"' for "+P+" widget instance")}W=X[V].apply(X,T);if(W!==X&&W!==undefined){S=W&&W.jquery?S.pushStack(W.get()):W;return false}})}else{this.each(function(){var W=E.data(this,R);if(W){W.option(V||{});if(W._init){W._init()}}else{E.data(this,R,new Q(V,this))}})}return S}};E.Widget=function(){};E.Widget._childConstructors=[];E.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(P,Q){Q=E(Q||this.defaultElement||this)[0];this.element=E(Q);this.uuid=G++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=E();this.hoverable=E();this.focusable=E();if(Q!==this){E.data(Q,this.widgetFullName,this);this._on(true,this.element,{remove:function(R){if(R.target===Q){this.destroy()}}});this.document=E(Q.style?Q.ownerDocument:Q.document||Q);this.window=E(this.document[0].defaultView||this.document[0].parentWindow)}this.options=E.widget.extend({},this.options,this._getCreateOptions(),P);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:E.noop,_getCreateEventData:E.noop,_create:E.noop,_init:E.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(E.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:E.noop,widget:function(){return this.element},option:function(Q,P){var S=Q,U,T,R;if(arguments.length===0){return E.widget.extend({},this.options)}if(typeof Q==="string"){S={};U=Q.split(".");Q=U.shift();if(U.length){T=S[Q]=E.widget.extend({},this.options[Q]);for(R=0;R<U.length-1;R++){T[U[R]]=T[U[R]]||{};T=T[U[R]]}Q=U.pop();if(arguments.length===1){return T[Q]===undefined?null:T[Q]}T[Q]=P}else{if(arguments.length===1){return this.options[Q]===undefined?null:this.options[Q]}S[Q]=P}}this._setOptions(S);return this},_setOptions:function(Q){var P;for(P in Q){this._setOption(P,Q[P])}return this},_setOption:function(Q,P){this.options[Q]=P;if(Q==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled",!!P);if(P){this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}}return this},enable:function(){return this._setOptions({disabled:false})},disable:function(){return this._setOptions({disabled:true})},_on:function(P,R,T){var Q,S=this;if(typeof P!=="boolean"){T=R;R=P;P=false}if(!T){T=R;R=this.element;Q=this.widget()}else{R=Q=E(R);this.bindings=this.bindings.add(R)}E.each(T,function(X,V){function Y(){if(!P&&(S.options.disabled===true||E(this).hasClass("ui-state-disabled"))){return}return(typeof V==="string"?S[V]:V).apply(S,arguments)}if(typeof V!=="string"){Y.guid=V.guid=V.guid||Y.guid||E.guid++}var W=X.match(/^([\w:-]*)\s*(.*)$/),Z=W[1]+S.eventNamespace,U=W[2];if(U){Q.delegate(U,Z,Y)}else{R.bind(Z,Y)}})},_off:function(P,Q){Q=(Q||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;P.unbind(Q).undelegate(Q);this.bindings=E(this.bindings.not(P).get());this.focusable=E(this.focusable.not(P).get());this.hoverable=E(this.hoverable.not(P).get())},_delay:function(P,S){function Q(){return(typeof P==="string"?R[P]:P).apply(R,arguments)}var R=this;return setTimeout(Q,S||0)},_hoverable:function(P){this.hoverable=this.hoverable.add(P);this._on(P,{mouseenter:function(Q){E(Q.currentTarget).addClass("ui-state-hover")},mouseleave:function(Q){E(Q.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(P){this.focusable=this.focusable.add(P);this._on(P,{focusin:function(Q){E(Q.currentTarget).addClass("ui-state-focus")},focusout:function(Q){E(Q.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(S,U,T){var P,Q,R=this.options[S];T=T||{};U=E.Event(U);U.type=(S===this.widgetEventPrefix?S:this.widgetEventPrefix+S).toLowerCase();U.target=this.element[0];Q=U.originalEvent;if(Q){for(P in Q){if(!(P in U)){U[P]=Q[P]}}}this.element.trigger(U,T);return !(E.isFunction(R)&&R.apply(this.element[0],[U].concat(T))===false||U.isDefaultPrevented())}};E.each({show:"fadeIn",hide:"fadeOut"},function(P,Q){E.Widget.prototype["_"+P]=function(T,U,V){if(typeof U==="string"){U={effect:U}}var R,S=!U?P:U===true||typeof U==="number"?Q:U.effect||Q;U=U||{};if(typeof U==="number"){U={duration:U}}R=!E.isEmptyObject(U);U.complete=V;if(U.delay){T.delay(U.delay)}if(R&&E.effects&&E.effects.effect[S]){T[P](U)}else{if(S!==P&&T[S]){T[S](U.duration,U.easing,V)}else{T.queue(function(W){E(this)[P]();if(V){V.call(T[0])}W()})}}}});var F=E.widget;
/*
 * jQuery UI Mouse 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */
var N=false;E(document).mouseup(function(){N=false});var D=E.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var P=this;this.element.bind("mousedown."+this.widgetName,function(Q){return P._mouseDown(Q)}).bind("click."+this.widgetName,function(Q){if(true===E.data(Q.target,P.widgetName+".preventClickEvent")){E.removeData(Q.target,P.widgetName+".preventClickEvent");Q.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(R){if(N){return}this._mouseMoved=false;(this._mouseStarted&&this._mouseUp(R));this._mouseDownEvent=R;var P=this,Q=(R.which===1),S=(typeof this.options.cancel==="string"&&R.target.nodeName?E(R.target).closest(this.options.cancel).length:false);if(!Q||S||!this._mouseCapture(R)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){P.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(R)&&this._mouseDelayMet(R)){this._mouseStarted=(this._mouseStart(R)!==false);if(!this._mouseStarted){R.preventDefault();return true}}if(true===E.data(R.target,this.widgetName+".preventClickEvent")){E.removeData(R.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(T){return P._mouseMove(T)};this._mouseUpDelegate=function(T){return P._mouseUp(T)};this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);R.preventDefault();N=true;return true},_mouseMove:function(P){if(this._mouseMoved){if(E.ui.ie&&(!document.documentMode||document.documentMode<9)&&!P.button){return this._mouseUp(P)}else{if(!P.which){return this._mouseUp(P)}}}if(P.which||P.button){this._mouseMoved=true}if(this._mouseStarted){this._mouseDrag(P);return P.preventDefault()}if(this._mouseDistanceMet(P)&&this._mouseDelayMet(P)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,P)!==false);(this._mouseStarted?this._mouseDrag(P):this._mouseUp(P))}return !this._mouseStarted},_mouseUp:function(P){this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(P.target===this._mouseDownEvent.target){E.data(P.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(P)}N=false;return false},_mouseDistanceMet:function(P){return(Math.max(Math.abs(this._mouseDownEvent.pageX-P.pageX),Math.abs(this._mouseDownEvent.pageY-P.pageY))>=this.options.distance)},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}});
/*
 * jQuery UI Position 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
(function(){E.ui=E.ui||{};var Q,V,X=Math.max,R=Math.abs,U=Math.round,b=/left|center|right/,W=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,P=/^\w+/,a=/%$/,S=E.fn.position;function Z(f,e,d){return[parseFloat(f[0])*(a.test(f[0])?e/100:1),parseFloat(f[1])*(a.test(f[1])?d/100:1)]}function T(e,d){return parseInt(E.css(e,d),10)||0}function Y(d){var e=d[0];if(e.nodeType===9){return{width:d.width(),height:d.height(),offset:{top:0,left:0}}}if(E.isWindow(e)){return{width:d.width(),height:d.height(),offset:{top:d.scrollTop(),left:d.scrollLeft()}}}if(e.preventDefault){return{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}}return{width:d.outerWidth(),height:d.outerHeight(),offset:d.offset()}}E.position={scrollbarWidth:function(){if(Q!==undefined){return Q}var g,f,e=E("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),d=e.children()[0];E("body").append(e);g=d.offsetWidth;e.css("overflow","scroll");f=d.offsetWidth;if(g===f){f=e[0].clientWidth}e.remove();return(Q=g-f)},getScrollInfo:function(d){var f=d.isWindow||d.isDocument?"":d.element.css("overflow-x"),e=d.isWindow||d.isDocument?"":d.element.css("overflow-y"),h=f==="scroll"||(f==="auto"&&d.width<d.element[0].scrollWidth),g=e==="scroll"||(e==="auto"&&d.height<d.element[0].scrollHeight);return{width:g?E.position.scrollbarWidth():0,height:h?E.position.scrollbarWidth():0}},getWithinInfo:function(g){var f=E(g||window),e=E.isWindow(f[0]),d=!!f[0]&&f[0].nodeType===9;return{element:f,isWindow:e,isDocument:d,offset:f.offset()||{left:0,top:0},scrollLeft:f.scrollLeft(),scrollTop:f.scrollTop(),width:e||d?f.width():f.outerWidth(),height:e||d?f.height():f.outerHeight()}}};E.fn.position=function(d){if(!d||!d.of){return S.apply(this,arguments)}d=E.extend({},d);var j,e,l,g,f,m,n=E(d.of),o=E.position.getWithinInfo(d.within),k=E.position.getScrollInfo(o),i=(d.collision||"flip").split(" "),h={};m=Y(n);if(n[0].preventDefault){d.at="left top"}e=m.width;l=m.height;g=m.offset;f=E.extend({},g);E.each(["my","at"],function(){var q=(d[this]||"").split(" "),p,r;if(q.length===1){q=b.test(q[0])?q.concat(["center"]):W.test(q[0])?["center"].concat(q):["center","center"]}q[0]=b.test(q[0])?q[0]:"center";q[1]=W.test(q[1])?q[1]:"center";p=c.exec(q[0]);r=c.exec(q[1]);h[this]=[p?p[0]:0,r?r[0]:0];d[this]=[P.exec(q[0])[0],P.exec(q[1])[0]]});if(i.length===1){i[1]=i[0]}if(d.at[0]==="right"){f.left+=e}else{if(d.at[0]==="center"){f.left+=e/2}}if(d.at[1]==="bottom"){f.top+=l}else{if(d.at[1]==="center"){f.top+=l/2}}j=Z(h.at,e,l);f.left+=j[0];f.top+=j[1];return this.each(function(){var z,r,y=E(this),v=y.outerWidth(),u=y.outerHeight(),x=T(this,"marginLeft"),t=T(this,"marginTop"),p=v+x+T(this,"marginRight")+k.width,w=u+t+T(this,"marginBottom")+k.height,q=E.extend({},f),s=Z(h.my,y.outerWidth(),y.outerHeight());if(d.my[0]==="right"){q.left-=v}else{if(d.my[0]==="center"){q.left-=v/2}}if(d.my[1]==="bottom"){q.top-=u}else{if(d.my[1]==="center"){q.top-=u/2}}q.left+=s[0];q.top+=s[1];if(!V){q.left=U(q.left);q.top=U(q.top)}z={marginLeft:x,marginTop:t};E.each(["left","top"],function(Ab,Aa){if(E.ui.position[i[Ab]]){E.ui.position[i[Ab]][Aa](q,{targetWidth:e,targetHeight:l,elemWidth:v,elemHeight:u,collisionPosition:z,collisionWidth:p,collisionHeight:w,offset:[j[0]+s[0],j[1]+s[1]],my:d.my,at:d.at,within:o,elem:y})}});if(d.using){r=function(Aa){var Ad=g.left-q.left,Ab=Ad+e-v,Ae=g.top-q.top,Af=Ae+l-u,Ac={target:{element:n,left:g.left,top:g.top,width:e,height:l},element:{element:y,left:q.left,top:q.top,width:v,height:u},horizontal:Ab<0?"left":Ad>0?"right":"center",vertical:Af<0?"top":Ae>0?"bottom":"middle"};if(e<v&&R(Ad+Ab)<e){Ac.horizontal="center"}if(l<u&&R(Ae+Af)<l){Ac.vertical="middle"}if(X(R(Ad),R(Ab))>X(R(Ae),R(Af))){Ac.important="horizontal"}else{Ac.important="vertical"}d.using.call(this,Aa,Ac)}}y.offset(E.extend(q,{using:r}))})};E.ui.position={fit:{left:function(d,f){var e=f.within,h=e.isWindow?e.scrollLeft:e.offset.left,i=e.width,j=d.left-f.collisionPosition.marginLeft,l=h-j,k=j+f.collisionWidth-i-h,g;if(f.collisionWidth>i){if(l>0&&k<=0){g=d.left+l+f.collisionWidth-i-h;d.left+=l-g}else{if(k>0&&l<=0){d.left=h}else{if(l>k){d.left=h+i-f.collisionWidth}else{d.left=h}}}}else{if(l>0){d.left+=l}else{if(k>0){d.left-=k}else{d.left=X(d.left-j,d.left)}}}},top:function(d,g){var j=g.within,h=j.isWindow?j.scrollTop:j.offset.top,i=g.within.height,e=d.top-g.collisionPosition.marginTop,l=h-e,k=e+g.collisionHeight-i-h,f;if(g.collisionHeight>i){if(l>0&&k<=0){f=d.top+l+g.collisionHeight-i-h;d.top+=l-f}else{if(k>0&&l<=0){d.top=h}else{if(l>k){d.top=h+i-g.collisionHeight}else{d.top=h}}}}else{if(l>0){d.top+=l}else{if(k>0){d.top-=k}else{d.top=X(d.top-e,d.top)}}}}},flip:{left:function(g,j){var q=j.within,l=q.offset.left+q.scrollLeft,m=q.width,d=q.isWindow?q.scrollLeft:q.offset.left,n=g.left-j.collisionPosition.marginLeft,i=n-d,h=n+j.collisionWidth-m-d,p=j.my[0]==="left"?-j.elemWidth:j.my[0]==="right"?j.elemWidth:0,e=j.at[0]==="left"?j.targetWidth:j.at[0]==="right"?-j.targetWidth:0,f=-2*j.offset[0],k,o;if(i<0){k=g.left+p+e+f+j.collisionWidth-m-l;if(k<0||k<R(i)){g.left+=p+e+f}}else{if(h>0){o=g.left-j.collisionPosition.marginLeft+p+e+f-d;if(o>0||R(o)<h){g.left+=p+e+f}}}},top:function(f,i){var o=i.within,j=o.offset.top+o.scrollTop,m=o.height,r=o.isWindow?o.scrollTop:o.offset.top,g=f.top-i.collisionPosition.marginTop,h=g-r,p=g+i.collisionHeight-m-r,e=i.my[1]==="top",n=e?-i.elemHeight:i.my[1]==="bottom"?i.elemHeight:0,l=i.at[1]==="top"?i.targetHeight:i.at[1]==="bottom"?-i.targetHeight:0,d=-2*i.offset[1],k,q;if(h<0){q=f.top+n+l+d+i.collisionHeight-m-j;if((f.top+n+l+d)>h&&(q<0||q<R(h))){f.top+=n+l+d}}else{if(p>0){k=f.top-i.collisionPosition.marginTop+n+l+d-r;if((f.top+n+l+d)>p&&(k>0||R(k)<p)){f.top+=n+l+d}}}}},flipfit:{left:function(){E.ui.position.flip.left.apply(this,arguments);E.ui.position.fit.left.apply(this,arguments)},top:function(){E.ui.position.flip.top.apply(this,arguments);E.ui.position.fit.top.apply(this,arguments)}}};(function(){var j,d,g,f,k,h=document.getElementsByTagName("body")[0],e=document.createElement("div");j=document.createElement(h?"div":"body");g={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(h){E.extend(g,{position:"absolute",left:"-1000px",top:"-1000px"})}for(k in g){j.style[k]=g[k]}j.appendChild(e);d=h||document.documentElement;d.insertBefore(j,d.firstChild);e.style.cssText="position: absolute; left: 10.7432222px;";f=E(e).offset().left;V=f>10&&f<11;j.innerHTML="";d.removeChild(j)})()})();var C=E.ui.position;
/*
 * jQuery UI Draggable 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */
E.widget("ui.draggable",E.ui.mouse,{version:"1.11.2",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"){this._setPositionRelative()}if(this.options.addClasses){this.element.addClass("ui-draggable")}if(this.options.disabled){this.element.addClass("ui-draggable-disabled")}this._setHandleClassName();this._mouseInit()},_setOption:function(Q,P){this._super(Q,P);if(Q==="handle"){this._removeHandleClassName();this._setHandleClassName()}},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging")){this.destroyOnClear=true;return}this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._removeHandleClassName();this._mouseDestroy()},_mouseCapture:function(Q){var P=this.options;this._blurActiveElement(Q);if(this.helper||P.disabled||E(Q.target).closest(".ui-resizable-handle").length>0){return false}this.handle=this._getHandle(Q);if(!this.handle){return false}this._blockFrames(P.iframeFix===true?"iframe":P.iframeFix);return true},_blockFrames:function(P){this.iframeBlocks=this.document.find(P).map(function(){var Q=E(this);return E("<div>").css("position","absolute").appendTo(Q.parent()).outerWidth(Q.outerWidth()).outerHeight(Q.outerHeight()).offset(Q.offset())[0]})},_unblockFrames:function(){if(this.iframeBlocks){this.iframeBlocks.remove();delete this.iframeBlocks}},_blurActiveElement:function(Q){var P=this.document[0];if(!this.handleElement.is(Q.target)){return}try{if(P.activeElement&&P.activeElement.nodeName.toLowerCase()!=="body"){E(P.activeElement).blur()}}catch(R){}},_mouseStart:function(Q){var P=this.options;this.helper=this._createHelper(Q);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(E.ui.ddmanager){E.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(true);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=this.helper.parents().filter(function(){return E(this).css("position")==="fixed"}).length>0;this.positionAbs=this.element.offset();this._refreshOffsets(Q);this.originalPosition=this.position=this._generatePosition(Q,false);this.originalPageX=Q.pageX;this.originalPageY=Q.pageY;(P.cursorAt&&this._adjustOffsetFromHelper(P.cursorAt));this._setContainment();if(this._trigger("start",Q)===false){this._clear();return false}this._cacheHelperProportions();if(E.ui.ddmanager&&!P.dropBehaviour){E.ui.ddmanager.prepareOffsets(this,Q)}this._normalizeRightBottom();this._mouseDrag(Q,true);if(E.ui.ddmanager){E.ui.ddmanager.dragStart(this,Q)}return true},_refreshOffsets:function(P){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:false,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:P.pageX-this.offset.left,top:P.pageY-this.offset.top}},_mouseDrag:function(R,P){if(this.hasFixedAncestor){this.offset.parent=this._getParentOffset()}this.position=this._generatePosition(R,true);this.positionAbs=this._convertPositionTo("absolute");if(!P){var Q=this._uiHash();if(this._trigger("drag",R,Q)===false){this._mouseUp({});return false}this.position=Q.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";if(E.ui.ddmanager){E.ui.ddmanager.drag(this,R)}return false},_mouseStop:function(Q){var P=this,R=false;if(E.ui.ddmanager&&!this.options.dropBehaviour){R=E.ui.ddmanager.drop(this,Q)}if(this.dropped){R=this.dropped;this.dropped=false}if((this.options.revert==="invalid"&&!R)||(this.options.revert==="valid"&&R)||this.options.revert===true||(E.isFunction(this.options.revert)&&this.options.revert.call(this.element,R))){E(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(P._trigger("stop",Q)!==false){P._clear()}})}else{if(this._trigger("stop",Q)!==false){this._clear()}}return false},_mouseUp:function(P){this._unblockFrames();if(E.ui.ddmanager){E.ui.ddmanager.dragStop(this,P)}if(this.handleElement.is(P.target)){this.element.focus()}return E.ui.mouse.prototype._mouseUp.call(this,P)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(P){return this.options.handle?!!E(P.target).closest(this.element.find(this.options.handle)).length:true},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(S){var P=this.options,Q=E.isFunction(P.helper),R=Q?E(P.helper.apply(this.element[0],[S])):(P.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!R.parents("body").length){R.appendTo((P.appendTo==="parent"?this.element[0].parentNode:P.appendTo))}if(Q&&R[0]===this.element[0]){this._setPositionRelative()}if(R[0]!==this.element[0]&&!(/(fixed|absolute)/).test(R.css("position"))){R.css("position","absolute")}return R},_setPositionRelative:function(){if(!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}},_adjustOffsetFromHelper:function(P){if(typeof P==="string"){P=P.split(" ")}if(E.isArray(P)){P={left:+P[0],top:+P[1]||0}}if("left" in P){this.offset.click.left=P.left+this.margins.left}if("right" in P){this.offset.click.left=this.helperProportions.width-P.right+this.margins.left}if("top" in P){this.offset.click.top=P.top+this.margins.top}if("bottom" in P){this.offset.click.top=this.helperProportions.height-P.bottom+this.margins.top}},_isRootNode:function(P){return(/(html|body)/i).test(P.tagName)||P===this.document[0]},_getParentOffset:function(){var Q=this.offsetParent.offset(),P=this.document[0];if(this.cssPosition==="absolute"&&this.scrollParent[0]!==P&&E.contains(this.scrollParent[0],this.offsetParent[0])){Q.left+=this.scrollParent.scrollLeft();Q.top+=this.scrollParent.scrollTop()}if(this._isRootNode(this.offsetParent[0])){Q={top:0,left:0}}return{top:Q.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:Q.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition!=="relative"){return{top:0,left:0}}var Q=this.element.position(),P=this._isRootNode(this.scrollParent[0]);return{top:Q.top-(parseInt(this.helper.css("top"),10)||0)+(!P?this.scrollParent.scrollTop():0),left:Q.left-(parseInt(this.helper.css("left"),10)||0)+(!P?this.scrollParent.scrollLeft():0)}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var P,S,R,Q=this.options,T=this.document[0];this.relativeContainer=null;if(!Q.containment){this.containment=null;return}if(Q.containment==="window"){this.containment=[E(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,E(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,E(window).scrollLeft()+E(window).width()-this.helperProportions.width-this.margins.left,E(window).scrollTop()+(E(window).height()||T.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(Q.containment==="document"){this.containment=[0,0,E(T).width()-this.helperProportions.width-this.margins.left,(E(T).height()||T.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(Q.containment.constructor===Array){this.containment=Q.containment;return}if(Q.containment==="parent"){Q.containment=this.helper[0].parentNode}S=E(Q.containment);R=S[0];if(!R){return}P=/(scroll|auto)/.test(S.css("overflow"));this.containment=[(parseInt(S.css("borderLeftWidth"),10)||0)+(parseInt(S.css("paddingLeft"),10)||0),(parseInt(S.css("borderTopWidth"),10)||0)+(parseInt(S.css("paddingTop"),10)||0),(P?Math.max(R.scrollWidth,R.offsetWidth):R.offsetWidth)-(parseInt(S.css("borderRightWidth"),10)||0)-(parseInt(S.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(P?Math.max(R.scrollHeight,R.offsetHeight):R.offsetHeight)-(parseInt(S.css("borderBottomWidth"),10)||0)-(parseInt(S.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relativeContainer=S},_convertPositionTo:function(Q,P){if(!P){P=this.position}var S=Q==="absolute"?1:-1,R=this._isRootNode(this.scrollParent[0]);return{top:(P.top+this.offset.relative.top*S+this.offset.parent.top*S-((this.cssPosition==="fixed"?-this.offset.scroll.top:(R?0:this.offset.scroll.top))*S)),left:(P.left+this.offset.relative.left*S+this.offset.parent.left*S-((this.cssPosition==="fixed"?-this.offset.scroll.left:(R?0:this.offset.scroll.left))*S))}},_generatePosition:function(V,P){var W,X,R,S,U=this.options,Y=this._isRootNode(this.scrollParent[0]),Q=V.pageX,T=V.pageY;if(!Y||!this.offset.scroll){this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}}if(P){if(this.containment){if(this.relativeContainer){X=this.relativeContainer.offset();W=[this.containment[0]+X.left,this.containment[1]+X.top,this.containment[2]+X.left,this.containment[3]+X.top]}else{W=this.containment}if(V.pageX-this.offset.click.left<W[0]){Q=W[0]+this.offset.click.left}if(V.pageY-this.offset.click.top<W[1]){T=W[1]+this.offset.click.top}if(V.pageX-this.offset.click.left>W[2]){Q=W[2]+this.offset.click.left}if(V.pageY-this.offset.click.top>W[3]){T=W[3]+this.offset.click.top}}if(U.grid){R=U.grid[1]?this.originalPageY+Math.round((T-this.originalPageY)/U.grid[1])*U.grid[1]:this.originalPageY;T=W?((R-this.offset.click.top>=W[1]||R-this.offset.click.top>W[3])?R:((R-this.offset.click.top>=W[1])?R-U.grid[1]:R+U.grid[1])):R;S=U.grid[0]?this.originalPageX+Math.round((Q-this.originalPageX)/U.grid[0])*U.grid[0]:this.originalPageX;Q=W?((S-this.offset.click.left>=W[0]||S-this.offset.click.left>W[2])?S:((S-this.offset.click.left>=W[0])?S-U.grid[0]:S+U.grid[0])):S}if(U.axis==="y"){Q=this.originalPageX}if(U.axis==="x"){T=this.originalPageY}}return{top:(T-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.offset.scroll.top:(Y?0:this.offset.scroll.top))),left:(Q-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.offset.scroll.left:(Y?0:this.offset.scroll.left)))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false;if(this.destroyOnClear){this.destroy()}},_normalizeRightBottom:function(){if(this.options.axis!=="y"&&this.helper.css("right")!=="auto"){this.helper.width(this.helper.width());this.helper.css("right","auto")}if(this.options.axis!=="x"&&this.helper.css("bottom")!=="auto"){this.helper.height(this.helper.height());this.helper.css("bottom","auto")}},_trigger:function(Q,R,P){P=P||this._uiHash();E.ui.plugin.call(this,Q,[R,P,this],true);if(/^(drag|start|stop)/.test(Q)){this.positionAbs=this._convertPositionTo("absolute");P.offset=this.positionAbs}return E.Widget.prototype._trigger.call(this,Q,R,P)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});E.ui.plugin.add("draggable","connectToSortable",{start:function(R,Q,S){var P=E.extend({},Q,{item:S.element});S.sortables=[];E(S.options.connectToSortable).each(function(){var T=E(this).sortable("instance");if(T&&!T.options.disabled){S.sortables.push(T);T.refreshPositions();T._trigger("activate",R,P)}})},stop:function(R,Q,S){var P=E.extend({},Q,{item:S.element});S.cancelHelperRemoval=false;E.each(S.sortables,function(){var T=this;if(T.isOver){T.isOver=0;S.cancelHelperRemoval=true;T.cancelHelperRemoval=false;T._storedCSS={position:T.placeholder.css("position"),top:T.placeholder.css("top"),left:T.placeholder.css("left")};T._mouseStop(R);T.options.helper=T.options._helper}else{T.cancelHelperRemoval=true;T._trigger("deactivate",R,P)}})},drag:function(Q,P,R){E.each(R.sortables,function(){var T=false,S=this;S.positionAbs=R.positionAbs;S.helperProportions=R.helperProportions;S.offset.click=R.offset.click;if(S._intersectsWith(S.containerCache)){T=true;E.each(R.sortables,function(){this.positionAbs=R.positionAbs;this.helperProportions=R.helperProportions;this.offset.click=R.offset.click;if(this!==S&&this._intersectsWith(this.containerCache)&&E.contains(S.element[0],this.element[0])){T=false}return T})}if(T){if(!S.isOver){S.isOver=1;S.currentItem=P.helper.appendTo(S.element).data("ui-sortable-item",true);S.options._helper=S.options.helper;S.options.helper=function(){return P.helper[0]};Q.target=S.currentItem[0];S._mouseCapture(Q,true);S._mouseStart(Q,true,true);S.offset.click.top=R.offset.click.top;S.offset.click.left=R.offset.click.left;S.offset.parent.left-=R.offset.parent.left-S.offset.parent.left;S.offset.parent.top-=R.offset.parent.top-S.offset.parent.top;R._trigger("toSortable",Q);R.dropped=S.element;E.each(R.sortables,function(){this.refreshPositions()});R.currentItem=R.element;S.fromOutside=R}if(S.currentItem){S._mouseDrag(Q);P.position=S.position}}else{if(S.isOver){S.isOver=0;S.cancelHelperRemoval=true;S.options._revert=S.options.revert;S.options.revert=false;S._trigger("out",Q,S._uiHash(S));S._mouseStop(Q,true);S.options.revert=S.options._revert;S.options.helper=S.options._helper;if(S.placeholder){S.placeholder.remove()}R._refreshOffsets(Q);P.position=R._generatePosition(Q,true);R._trigger("fromSortable",Q);R.dropped=false;E.each(R.sortables,function(){this.refreshPositions()})}}})}});E.ui.plugin.add("draggable","cursor",{start:function(R,Q,S){var P=E("body"),T=S.options;if(P.css("cursor")){T._cursor=P.css("cursor")}P.css("cursor",T.cursor)},stop:function(R,Q,S){var P=S.options;if(P._cursor){E("body").css("cursor",P._cursor)}}});E.ui.plugin.add("draggable","opacity",{start:function(R,Q,S){var P=E(Q.helper),T=S.options;if(P.css("opacity")){T._opacity=P.css("opacity")}P.css("opacity",T.opacity)},stop:function(R,Q,S){var P=S.options;if(P._opacity){E(Q.helper).css("opacity",P._opacity)}}});E.ui.plugin.add("draggable","scroll",{start:function(Q,P,R){if(!R.scrollParentNotHidden){R.scrollParentNotHidden=R.helper.scrollParent(false)}if(R.scrollParentNotHidden[0]!==R.document[0]&&R.scrollParentNotHidden[0].tagName!=="HTML"){R.overflowOffset=R.scrollParentNotHidden.offset()}},drag:function(U,T,V){var R=V.options,P=false,S=V.scrollParentNotHidden[0],Q=V.document[0];if(S!==Q&&S.tagName!=="HTML"){if(!R.axis||R.axis!=="x"){if((V.overflowOffset.top+S.offsetHeight)-U.pageY<R.scrollSensitivity){S.scrollTop=P=S.scrollTop+R.scrollSpeed}else{if(U.pageY-V.overflowOffset.top<R.scrollSensitivity){S.scrollTop=P=S.scrollTop-R.scrollSpeed}}}if(!R.axis||R.axis!=="y"){if((V.overflowOffset.left+S.offsetWidth)-U.pageX<R.scrollSensitivity){S.scrollLeft=P=S.scrollLeft+R.scrollSpeed}else{if(U.pageX-V.overflowOffset.left<R.scrollSensitivity){S.scrollLeft=P=S.scrollLeft-R.scrollSpeed}}}}else{if(!R.axis||R.axis!=="x"){if(U.pageY-E(Q).scrollTop()<R.scrollSensitivity){P=E(Q).scrollTop(E(Q).scrollTop()-R.scrollSpeed)}else{if(E(window).height()-(U.pageY-E(Q).scrollTop())<R.scrollSensitivity){P=E(Q).scrollTop(E(Q).scrollTop()+R.scrollSpeed)}}}if(!R.axis||R.axis!=="y"){if(U.pageX-E(Q).scrollLeft()<R.scrollSensitivity){P=E(Q).scrollLeft(E(Q).scrollLeft()-R.scrollSpeed)}else{if(E(window).width()-(U.pageX-E(Q).scrollLeft())<R.scrollSensitivity){P=E(Q).scrollLeft(E(Q).scrollLeft()+R.scrollSpeed)}}}}if(P!==false&&E.ui.ddmanager&&!R.dropBehaviour){E.ui.ddmanager.prepareOffsets(V,U)}}});E.ui.plugin.add("draggable","snap",{start:function(R,Q,S){var P=S.options;S.snapElements=[];E(P.snap.constructor!==String?(P.snap.items||":data(ui-draggable)"):P.snap).each(function(){var U=E(this),T=U.offset();if(this!==S.element[0]){S.snapElements.push({item:this,width:U.outerWidth(),height:U.outerHeight(),top:T.top,left:T.left})}})},drag:function(Q,W,k){var P,V,R,j,Y,S,U,e,X,T,Z=k.options,f=Z.snapTolerance,a=W.offset.left,g=a+k.helperProportions.width,c=W.offset.top,h=c+k.helperProportions.height;for(X=k.snapElements.length-1;X>=0;X--){Y=k.snapElements[X].left-k.margins.left;S=Y+k.snapElements[X].width;U=k.snapElements[X].top-k.margins.top;e=U+k.snapElements[X].height;if(g<Y-f||a>S+f||h<U-f||c>e+f||!E.contains(k.snapElements[X].item.ownerDocument,k.snapElements[X].item)){if(k.snapElements[X].snapping){(k.options.snap.release&&k.options.snap.release.call(k.element,Q,E.extend(k._uiHash(),{snapItem:k.snapElements[X].item})))}k.snapElements[X].snapping=false;continue}if(Z.snapMode!=="inner"){P=Math.abs(U-h)<=f;V=Math.abs(e-c)<=f;R=Math.abs(Y-g)<=f;j=Math.abs(S-a)<=f;if(P){W.position.top=k._convertPositionTo("relative",{top:U-k.helperProportions.height,left:0}).top}if(V){W.position.top=k._convertPositionTo("relative",{top:e,left:0}).top}if(R){W.position.left=k._convertPositionTo("relative",{top:0,left:Y-k.helperProportions.width}).left}if(j){W.position.left=k._convertPositionTo("relative",{top:0,left:S}).left}}T=(P||V||R||j);if(Z.snapMode!=="outer"){P=Math.abs(U-c)<=f;V=Math.abs(e-h)<=f;R=Math.abs(Y-a)<=f;j=Math.abs(S-g)<=f;if(P){W.position.top=k._convertPositionTo("relative",{top:U,left:0}).top}if(V){W.position.top=k._convertPositionTo("relative",{top:e-k.helperProportions.height,left:0}).top}if(R){W.position.left=k._convertPositionTo("relative",{top:0,left:Y}).left}if(j){W.position.left=k._convertPositionTo("relative",{top:0,left:S-k.helperProportions.width}).left}}if(!k.snapElements[X].snapping&&(P||V||R||j||T)){(k.options.snap.snap&&k.options.snap.snap.call(k.element,Q,E.extend(k._uiHash(),{snapItem:k.snapElements[X].item})))}k.snapElements[X].snapping=(P||V||R||j||T)}}});E.ui.plugin.add("draggable","stack",{start:function(S,R,T){var Q,P=T.options,U=E.makeArray(E(P.stack)).sort(function(V,W){return(parseInt(E(V).css("zIndex"),10)||0)-(parseInt(E(W).css("zIndex"),10)||0)});if(!U.length){return}Q=parseInt(E(U[0]).css("zIndex"),10)||0;E(U).each(function(V){E(this).css("zIndex",Q+V)});this.css("zIndex",(Q+U.length))}});E.ui.plugin.add("draggable","zIndex",{start:function(R,Q,S){var P=E(Q.helper),T=S.options;if(P.css("zIndex")){T._zIndex=P.css("zIndex")}P.css("zIndex",T.zIndex)},stop:function(R,Q,S){var P=S.options;if(P._zIndex){E(Q.helper).css("zIndex",P._zIndex)}}});var L=E.ui.draggable;
/*
 * jQuery UI Droppable 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/droppable/
 */
E.widget("ui.droppable",{version:"1.11.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var Q,P=this.options,R=P.accept;this.isover=false;this.isout=true;this.accept=E.isFunction(R)?R:function(S){return S.is(R)};this.proportions=function(){if(arguments.length){Q=arguments[0]}else{return Q?Q:Q={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}}};this._addToManager(P.scope);P.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(P){E.ui.ddmanager.droppables[P]=E.ui.ddmanager.droppables[P]||[];E.ui.ddmanager.droppables[P].push(this)},_splice:function(Q){var P=0;for(;P<Q.length;P++){if(Q[P]===this){Q.splice(P,1)}}},_destroy:function(){var P=E.ui.ddmanager.droppables[this.options.scope];this._splice(P);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(Q,P){if(Q==="accept"){this.accept=E.isFunction(P)?P:function(S){return S.is(P)}}else{if(Q==="scope"){var R=E.ui.ddmanager.droppables[this.options.scope];this._splice(R);this._addToManager(P)}}this._super(Q,P)},_activate:function(P){var Q=E.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass)}if(Q){this._trigger("activate",P,this.ui(Q))}},_deactivate:function(P){var Q=E.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(Q){this._trigger("deactivate",P,this.ui(Q))}},_over:function(P){var Q=E.ui.ddmanager.current;if(!Q||(Q.currentItem||Q.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],(Q.currentItem||Q.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass)}this._trigger("over",P,this.ui(Q))}},_out:function(P){var Q=E.ui.ddmanager.current;if(!Q||(Q.currentItem||Q.element)[0]===this.element[0]){return}if(this.accept.call(this.element[0],(Q.currentItem||Q.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("out",P,this.ui(Q))}},_drop:function(Q,S){var R=S||E.ui.ddmanager.current,P=false;if(!R||(R.currentItem||R.element)[0]===this.element[0]){return false}this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var T=E(this).droppable("instance");if(T.options.greedy&&!T.options.disabled&&T.options.scope===R.options.scope&&T.accept.call(T.element[0],(R.currentItem||R.element))&&E.ui.intersect(R,E.extend(T,{offset:T.element.offset()}),T.options.tolerance,Q)){P=true;return false}});if(P){return false}if(this.accept.call(this.element[0],(R.currentItem||R.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass)}if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass)}this._trigger("drop",Q,this.ui(R));return this.element}return false},ui:function(P){return{draggable:(P.currentItem||P.element),helper:P.helper,position:P.position,offset:P.positionAbs}}});E.ui.intersect=(function(){function P(R,S,Q){return(R>=S)&&(R<(S+Q))}return function(T,Q,R,U){if(!Q.offset){return false}var a=(T.positionAbs||T.position.absolute).left+T.margins.left,c=(T.positionAbs||T.position.absolute).top+T.margins.top,Y=a+T.helperProportions.width,V=c+T.helperProportions.height,S=Q.offset.left,Z=Q.offset.top,X=S+Q.proportions().width,W=Z+Q.proportions().height;switch(R){case"fit":return(S<=a&&Y<=X&&Z<=c&&V<=W);case"intersect":return(S<a+(T.helperProportions.width/2)&&Y-(T.helperProportions.width/2)<X&&Z<c+(T.helperProportions.height/2)&&V-(T.helperProportions.height/2)<W);case"pointer":return P(U.pageY,Z,Q.proportions().height)&&P(U.pageX,S,Q.proportions().width);case"touch":return((c>=Z&&c<=W)||(V>=Z&&V<=W)||(c<Z&&V>W))&&((a>=S&&a<=X)||(Y>=S&&Y<=X)||(a<S&&Y>X));default:return false}}})();E.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(Q,S){var T,U,P=E.ui.ddmanager.droppables[Q.options.scope]||[],V=S?S.type:null,R=(Q.currentItem||Q.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(T=0;T<P.length;T++){if(P[T].options.disabled||(Q&&!P[T].accept.call(P[T].element[0],(Q.currentItem||Q.element)))){continue}for(U=0;U<R.length;U++){if(R[U]===P[T].element[0]){P[T].proportions().height=0;continue droppablesLoop}}P[T].visible=P[T].element.css("display")!=="none";if(!P[T].visible){continue}if(V==="mousedown"){P[T]._activate.call(P[T],S)}P[T].offset=P[T].element.offset();P[T].proportions({width:P[T].element[0].offsetWidth,height:P[T].element[0].offsetHeight})}},drop:function(P,R){var Q=false;E.each((E.ui.ddmanager.droppables[P.options.scope]||[]).slice(),function(){if(!this.options){return}if(!this.options.disabled&&this.visible&&E.ui.intersect(P,this,this.options.tolerance,R)){Q=this._drop.call(this,R)||Q}if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(P.currentItem||P.element))){this.isout=true;this.isover=false;this._deactivate.call(this,R)}});return Q},dragStart:function(P,Q){P.element.parentsUntil("body").bind("scroll.droppable",function(){if(!P.options.refreshPositions){E.ui.ddmanager.prepareOffsets(P,Q)}})},drag:function(P,Q){if(P.options.refreshPositions){E.ui.ddmanager.prepareOffsets(P,Q)}E.each(E.ui.ddmanager.droppables[P.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var R,V,S,U=E.ui.intersect(P,this,this.options.tolerance,Q),T=!U&&this.isover?"isout":(U&&!this.isover?"isover":null);if(!T){return}if(this.options.greedy){V=this.options.scope;S=this.element.parents(":data(ui-droppable)").filter(function(){return E(this).droppable("instance").options.scope===V});if(S.length){R=E(S[0]).droppable("instance");R.greedyChild=(T==="isover")}}if(R&&T==="isover"){R.isover=false;R.isout=true;R._out.call(R,Q)}this[T]=true;this[T==="isout"?"isover":"isout"]=false;this[T==="isover"?"_over":"_out"].call(this,Q);if(R&&T==="isout"){R.isout=false;R.isover=true;R._over.call(R,Q)}})},dragStop:function(P,Q){P.element.parentsUntil("body").unbind("scroll.droppable");if(!P.options.refreshPositions){E.ui.ddmanager.prepareOffsets(P,Q)}}};var A=E.ui.droppable;
/*
 * jQuery UI Resizable 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */
E.widget("ui.resizable",E.ui.mouse,{version:"1.11.2",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(P){return parseInt(P,10)||0},_isNumber:function(P){return !isNaN(parseInt(P,10))},_hasScroll:function(P,Q){if(E(P).css("overflow")==="hidden"){return false}var R=(Q&&Q==="left")?"scrollLeft":"scrollTop",S=false;if(P[R]>0){return true}P[R]=1;S=(P[R]>0);P[R]=0;return S},_create:function(){var P,S,V,T,Q,R=this,U=this.options;this.element.addClass("ui-resizable");E.extend(this,{_aspectRatio:!!(U.aspectRatio),aspectRatio:U.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:U.helper||U.ghost||U.animate?U.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap(E("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=U.handles||(!E(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw"}P=this.handles.split(",");this.handles={};for(S=0;S<P.length;S++){V=E.trim(P[S]);Q="ui-resizable-"+V;T=E("<div class='ui-resizable-handle "+Q+"'></div>");T.css({zIndex:U.zIndex});if("se"===V){T.addClass("ui-icon ui-icon-gripsmall-diagonal-se")}this.handles[V]=".ui-resizable-"+V;this.element.append(T)}}this._renderAxis=function(Y){var Z,a,X,W;Y=Y||this.element;for(Z in this.handles){if(this.handles[Z].constructor===String){this.handles[Z]=this.element.children(this.handles[Z]).first().show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){a=E(this.handles[Z],this.element);W=/sw|ne|nw|se|n|s/.test(Z)?a.outerHeight():a.outerWidth();X=["padding",/ne|nw|n/.test(Z)?"Top":/se|sw|s/.test(Z)?"Bottom":/^e$/.test(Z)?"Right":"Left"].join("");Y.css(X,W);this._proportionallyResize()}if(!E(this.handles[Z]).length){continue}}};this._renderAxis(this.element);this._handles=E(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!R.resizing){if(this.className){T=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}R.axis=T&&T[1]?T[1]:"se"}});if(U.autoHide){this._handles.hide();E(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(U.disabled){return}E(this).removeClass("ui-resizable-autohide");R._handles.show()}).mouseleave(function(){if(U.disabled){return}if(!R.resizing){E(this).addClass("ui-resizable-autohide");R._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var Q,P=function(R){E(R).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){P(this.element);Q=this.element;this.originalElement.css({position:Q.css("position"),width:Q.outerWidth(),height:Q.outerHeight(),top:Q.css("top"),left:Q.css("left")}).insertAfter(Q);Q.remove()}this.originalElement.css("resize",this.originalResizeStyle);P(this.originalElement);return this},_mouseCapture:function(Q){var R,S,P=false;for(R in this.handles){S=E(this.handles[R])[0];if(S===Q.target||E.contains(S,Q.target)){P=true}}return !this.options.disabled&&P},_mouseStart:function(U){var S,T,Q,R=this.options,P=this.element;this.resizing=true;this._renderProxy();S=this._num(this.helper.css("left"));T=this._num(this.helper.css("top"));if(R.containment){S+=E(R.containment).scrollLeft()||0;T+=E(R.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:S,top:T};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:P.width(),height:P.height()};this.originalSize=this._helper?{width:P.outerWidth(),height:P.outerHeight()}:{width:P.width(),height:P.height()};this.sizeDiff={width:P.outerWidth()-P.width(),height:P.outerHeight()-P.height()};this.originalPosition={left:S,top:T};this.originalMousePosition={left:U.pageX,top:U.pageY};this.aspectRatio=(typeof R.aspectRatio==="number")?R.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);Q=E(".ui-resizable-"+this.axis).css("cursor");E("body").css("cursor",Q==="auto"?this.axis+"-resize":Q);P.addClass("ui-resizable-resizing");this._propagate("start",U);return true},_mouseDrag:function(V){var T,Q,R=this.originalMousePosition,S=this.axis,U=(V.pageX-R.left)||0,W=(V.pageY-R.top)||0,P=this._change[S];this._updatePrevProperties();if(!P){return false}T=P.apply(this,[V,U,W]);this._updateVirtualBoundaries(V.shiftKey);if(this._aspectRatio||V.shiftKey){T=this._updateRatio(T,V)}T=this._respectSize(T,V);this._updateCache(T);this._propagate("resize",V);Q=this._applyChanges();if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}if(!E.isEmptyObject(Q)){this._updatePrevProperties();this._trigger("resize",V,this.ui());this._applyChanges()}return false},_mouseStop:function(U){this.resizing=false;var X,V,Q,W,Y,R,P,T=this.options,S=this;if(this._helper){X=this._proportionallyResizeElements;V=X.length&&(/textarea/i).test(X[0].nodeName);Q=V&&this._hasScroll(X[0],"left")?0:S.sizeDiff.height;W=V?0:S.sizeDiff.width;Y={width:(S.helper.width()-W),height:(S.helper.height()-Q)};R=(parseInt(S.element.css("left"),10)+(S.position.left-S.originalPosition.left))||null;P=(parseInt(S.element.css("top"),10)+(S.position.top-S.originalPosition.top))||null;if(!T.animate){this.element.css(E.extend(Y,{top:P,left:R}))}S.helper.height(S.size.height);S.helper.width(S.size.width);if(this._helper&&!T.animate){this._proportionallyResize()}}E("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",U);if(this._helper){this.helper.remove()}return false},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var P={};if(this.position.top!==this.prevPosition.top){P.top=this.position.top+"px"}if(this.position.left!==this.prevPosition.left){P.left=this.position.left+"px"}if(this.size.width!==this.prevSize.width){P.width=this.size.width+"px"}if(this.size.height!==this.prevSize.height){P.height=this.size.height+"px"}this.helper.css(P);return P},_updateVirtualBoundaries:function(V){var S,U,Q,T,R,P=this.options;R={minWidth:this._isNumber(P.minWidth)?P.minWidth:0,maxWidth:this._isNumber(P.maxWidth)?P.maxWidth:Infinity,minHeight:this._isNumber(P.minHeight)?P.minHeight:0,maxHeight:this._isNumber(P.maxHeight)?P.maxHeight:Infinity};if(this._aspectRatio||V){S=R.minHeight*this.aspectRatio;Q=R.minWidth/this.aspectRatio;U=R.maxHeight*this.aspectRatio;T=R.maxWidth/this.aspectRatio;if(S>R.minWidth){R.minWidth=S}if(Q>R.minHeight){R.minHeight=Q}if(U<R.maxWidth){R.maxWidth=U}if(T<R.maxHeight){R.maxHeight=T}}this._vBoundaries=R},_updateCache:function(P){this.offset=this.helper.offset();if(this._isNumber(P.left)){this.position.left=P.left}if(this._isNumber(P.top)){this.position.top=P.top}if(this._isNumber(P.height)){this.size.height=P.height}if(this._isNumber(P.width)){this.size.width=P.width}},_updateRatio:function(S){var R=this.position,P=this.size,Q=this.axis;if(this._isNumber(S.height)){S.width=(S.height*this.aspectRatio)}else{if(this._isNumber(S.width)){S.height=(S.width/this.aspectRatio)}}if(Q==="sw"){S.left=R.left+(P.width-S.width);S.top=null}if(Q==="nw"){S.top=R.top+(P.height-S.height);S.left=R.left+(P.width-S.width)}return S},_respectSize:function(S){var P=this._vBoundaries,R=this.axis,Z=this._isNumber(S.width)&&P.maxWidth&&(P.maxWidth<S.width),W=this._isNumber(S.height)&&P.maxHeight&&(P.maxHeight<S.height),U=this._isNumber(S.width)&&P.minWidth&&(P.minWidth>S.width),Q=this._isNumber(S.height)&&P.minHeight&&(P.minHeight>S.height),T=this.originalPosition.left+this.originalSize.width,Y=this.position.top+this.size.height,V=/sw|nw|w/.test(R),X=/nw|ne|n/.test(R);if(U){S.width=P.minWidth}if(Q){S.height=P.minHeight}if(Z){S.width=P.maxWidth}if(W){S.height=P.maxHeight}if(U&&V){S.left=T-P.minWidth}if(Z&&V){S.left=T-P.maxWidth}if(Q&&X){S.top=Y-P.minHeight}if(W&&X){S.top=Y-P.maxHeight}if(!S.width&&!S.height&&!S.left&&S.top){S.top=null}else{if(!S.width&&!S.height&&!S.top&&S.left){S.left=null}}return S},_getPaddingPlusBorderDimensions:function(T){var R=0,Q=[],S=[T.css("borderTopWidth"),T.css("borderRightWidth"),T.css("borderBottomWidth"),T.css("borderLeftWidth")],P=[T.css("paddingTop"),T.css("paddingRight"),T.css("paddingBottom"),T.css("paddingLeft")];for(;R<4;R++){Q[R]=(parseInt(S[R],10)||0);Q[R]+=(parseInt(P[R],10)||0)}return{height:Q[0]+Q[2],width:Q[1]+Q[3]}},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var Q,P=0,R=this.helper||this.element;for(;P<this._proportionallyResizeElements.length;P++){Q=this._proportionallyResizeElements[P];if(!this.outerDimensions){this.outerDimensions=this._getPaddingPlusBorderDimensions(Q)}Q.css({height:(R.height()-this.outerDimensions.height)||0,width:(R.width()-this.outerDimensions.width)||0})}},_renderProxy:function(){var Q=this.element,P=this.options;this.elementOffset=Q.offset();if(this._helper){this.helper=this.helper||E("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++P.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(P,Q){return{width:this.originalSize.width+Q}},w:function(Q,S){var R=this.originalSize,P=this.originalPosition;return{left:P.left+S,width:R.width-S}},n:function(Q,T,R){var S=this.originalSize,P=this.originalPosition;return{top:P.top+R,height:S.height-R}},s:function(P,R,Q){return{height:this.originalSize.height+Q}},se:function(P,R,Q){return E.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[P,R,Q]))},sw:function(P,R,Q){return E.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[P,R,Q]))},ne:function(P,R,Q){return E.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[P,R,Q]))},nw:function(P,R,Q){return E.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[P,R,Q]))}},_propagate:function(P,Q){E.ui.plugin.call(this,P,[Q,this.ui()]);(P!=="resize"&&this._trigger(P,Q,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});E.ui.plugin.add("resizable","animate",{stop:function(U){var S=E(this).resizable("instance"),T=S.options,X=S._proportionallyResizeElements,V=X.length&&(/textarea/i).test(X[0].nodeName),Q=V&&S._hasScroll(X[0],"left")?0:S.sizeDiff.height,W=V?0:S.sizeDiff.width,Y={width:(S.size.width-W),height:(S.size.height-Q)},R=(parseInt(S.element.css("left"),10)+(S.position.left-S.originalPosition.left))||null,P=(parseInt(S.element.css("top"),10)+(S.position.top-S.originalPosition.top))||null;S.element.animate(E.extend(Y,P&&R?{top:P,left:R}:{}),{duration:T.animateDuration,easing:T.animateEasing,step:function(){var Z={width:parseInt(S.element.css("width"),10),height:parseInt(S.element.css("height"),10),top:parseInt(S.element.css("top"),10),left:parseInt(S.element.css("left"),10)};if(X&&X.length){E(X[0]).css({width:Z.width,height:Z.height})}S._updateCache(Z);S._propagate("resize",U)}})}});E.ui.plugin.add("resizable","containment",{start:function(){var R,X,W,Y,T,P,V,Q=E(this).resizable("instance"),S=Q.options,U=Q.element,a=S.containment,Z=(a instanceof E)?a.get(0):(/parent/.test(a))?U.parent().get(0):a;if(!Z){return}Q.containerElement=E(Z);if(/document/.test(a)||a===document){Q.containerOffset={left:0,top:0};Q.containerPosition={left:0,top:0};Q.parentData={element:E(document),left:0,top:0,width:E(document).width(),height:E(document).height()||document.body.parentNode.scrollHeight}}else{R=E(Z);X=[];E(["Top","Right","Left","Bottom"]).each(function(c,b){X[c]=Q._num(R.css("padding"+b))});Q.containerOffset=R.offset();Q.containerPosition=R.position();Q.containerSize={height:(R.innerHeight()-X[3]),width:(R.innerWidth()-X[1])};W=Q.containerOffset;Y=Q.containerSize.height;T=Q.containerSize.width;P=(Q._hasScroll(Z,"left")?Z.scrollWidth:T);V=(Q._hasScroll(Z)?Z.scrollHeight:Y);Q.parentData={element:Z,left:W.left,top:W.top,width:P,height:V}}},resize:function(T){var V,P,Y,U,Q=E(this).resizable("instance"),S=Q.options,W=Q.containerOffset,X=Q.position,Z=Q._aspectRatio||T.shiftKey,a={top:0,left:0},b=Q.containerElement,R=true;if(b[0]!==document&&(/static/).test(b.css("position"))){a=W}if(X.left<(Q._helper?W.left:0)){Q.size.width=Q.size.width+(Q._helper?(Q.position.left-W.left):(Q.position.left-a.left));if(Z){Q.size.height=Q.size.width/Q.aspectRatio;R=false}Q.position.left=S.helper?W.left:0}if(X.top<(Q._helper?W.top:0)){Q.size.height=Q.size.height+(Q._helper?(Q.position.top-W.top):Q.position.top);if(Z){Q.size.width=Q.size.height*Q.aspectRatio;R=false}Q.position.top=Q._helper?W.top:0}Y=Q.containerElement.get(0)===Q.element.parent().get(0);U=/relative|absolute/.test(Q.containerElement.css("position"));if(Y&&U){Q.offset.left=Q.parentData.left+Q.position.left;Q.offset.top=Q.parentData.top+Q.position.top}else{Q.offset.left=Q.element.offset().left;Q.offset.top=Q.element.offset().top}V=Math.abs(Q.sizeDiff.width+(Q._helper?Q.offset.left-a.left:(Q.offset.left-W.left)));P=Math.abs(Q.sizeDiff.height+(Q._helper?Q.offset.top-a.top:(Q.offset.top-W.top)));if(V+Q.size.width>=Q.parentData.width){Q.size.width=Q.parentData.width-V;if(Z){Q.size.height=Q.size.width/Q.aspectRatio;R=false}}if(P+Q.size.height>=Q.parentData.height){Q.size.height=Q.parentData.height-P;if(Z){Q.size.width=Q.size.height*Q.aspectRatio;R=false}}if(!R){Q.position.left=Q.prevPosition.left;Q.position.top=Q.prevPosition.top;Q.size.width=Q.prevSize.width;Q.size.height=Q.prevSize.height}},stop:function(){var Q=E(this).resizable("instance"),S=Q.options,T=Q.containerOffset,U=Q.containerPosition,V=Q.containerElement,R=E(Q.helper),P=R.offset(),W=R.outerWidth()-Q.sizeDiff.width,X=R.outerHeight()-Q.sizeDiff.height;if(Q._helper&&!S.animate&&(/relative/).test(V.css("position"))){E(this).css({left:P.left-U.left-T.left,width:W,height:X})}if(Q._helper&&!S.animate&&(/static/).test(V.css("position"))){E(this).css({left:P.left-U.left-T.left,width:W,height:X})}}});E.ui.plugin.add("resizable","alsoResize",{start:function(){var P=E(this).resizable("instance"),Q=P.options,R=function(S){E(S).each(function(){var T=E(this);T.data("ui-resizable-alsoresize",{width:parseInt(T.width(),10),height:parseInt(T.height(),10),left:parseInt(T.css("left"),10),top:parseInt(T.css("top"),10)})})};if(typeof(Q.alsoResize)==="object"&&!Q.alsoResize.parentNode){if(Q.alsoResize.length){Q.alsoResize=Q.alsoResize[0];R(Q.alsoResize)}else{E.each(Q.alsoResize,function(S){R(S)})}}else{R(Q.alsoResize)}},resize:function(S,V){var Q=E(this).resizable("instance"),R=Q.options,W=Q.originalSize,U=Q.originalPosition,P={height:(Q.size.height-W.height)||0,width:(Q.size.width-W.width)||0,top:(Q.position.top-U.top)||0,left:(Q.position.left-U.left)||0},T=function(X,Y){E(X).each(function(){var a=E(this),b=E(this).data("ui-resizable-alsoresize"),c={},Z=Y&&Y.length?Y:a.parents(V.originalElement[0]).length?["width","height"]:["width","height","top","left"];E.each(Z,function(d,f){var e=(b[f]||0)+(P[f]||0);if(e&&e>=0){c[f]=e||null}});a.css(c)})};if(typeof(R.alsoResize)==="object"&&!R.alsoResize.nodeType){E.each(R.alsoResize,function(X,Y){T(X,Y)})}else{T(R.alsoResize)}},stop:function(){E(this).removeData("resizable-alsoresize")}});E.ui.plugin.add("resizable","ghost",{start:function(){var P=E(this).resizable("instance"),Q=P.options,R=P.size;P.ghost=P.originalElement.clone();P.ghost.css({opacity:0.25,display:"block",position:"relative",height:R.height,width:R.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof Q.ghost==="string"?Q.ghost:"");P.ghost.appendTo(P.helper)},resize:function(){var P=E(this).resizable("instance");if(P.ghost){P.ghost.css({position:"relative",height:P.size.height,width:P.size.width})}},stop:function(){var P=E(this).resizable("instance");if(P.ghost&&P.helper){P.helper.get(0).removeChild(P.ghost.get(0))}}});E.ui.plugin.add("resizable","grid",{resize:function(){var V,f=E(this).resizable("instance"),d=f.options,X=f.size,U=f.originalSize,T=f.originalPosition,c=f.axis,b=typeof d.grid==="number"?[d.grid,d.grid]:d.grid,h=(b[0]||1),g=(b[1]||1),P=Math.round((X.width-U.width)/h)*h,Z=Math.round((X.height-U.height)/g)*g,Y=U.width+P,R=U.height+Z,S=d.maxWidth&&(d.maxWidth<Y),e=d.maxHeight&&(d.maxHeight<R),Q=d.minWidth&&(d.minWidth>Y),W=d.minHeight&&(d.minHeight>R);d.grid=b;if(Q){Y+=h}if(W){R+=g}if(S){Y-=h}if(e){R-=g}if(/^(se|s|e)$/.test(c)){f.size.width=Y;f.size.height=R}else{if(/^(ne)$/.test(c)){f.size.width=Y;f.size.height=R;f.position.top=T.top-Z}else{if(/^(sw)$/.test(c)){f.size.width=Y;f.size.height=R;f.position.left=T.left-P}else{if(R-g<=0||Y-h<=0){V=f._getPaddingPlusBorderDimensions(this)}if(R-g>0){f.size.height=R;f.position.top=T.top-Z}else{R=g-V.height;f.size.height=R;f.position.top=T.top+U.height-R}if(Y-h>0){f.size.width=Y;f.position.left=T.left-P}else{Y=g-V.height;f.size.width=Y;f.position.left=T.left+U.width-Y}}}}}});var K=E.ui.resizable;
/*
 * jQuery UI Selectable 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectable/
 */
var O=E.widget("ui.selectable",E.ui.mouse,{version:"1.11.2",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var P,Q=this;this.element.addClass("ui-selectable");this.dragged=false;this.refresh=function(){P=E(Q.options.filter,Q.element[0]);P.addClass("ui-selectee");P.each(function(){var S=E(this),R=S.offset();E.data(this,"selectable-item",{element:this,$element:S,left:R.left,top:R.top,right:R.left+S.outerWidth(),bottom:R.top+S.outerHeight(),startselected:false,selected:S.hasClass("ui-selected"),selecting:S.hasClass("ui-selecting"),unselecting:S.hasClass("ui-unselecting")})})};this.refresh();this.selectees=P.addClass("ui-selectee");this._mouseInit();this.helper=E("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(Q){var P=this,R=this.options;this.opos=[Q.pageX,Q.pageY];if(this.options.disabled){return}this.selectees=E(R.filter,this.element[0]);this._trigger("start",Q);E(R.appendTo).append(this.helper);this.helper.css({"left":Q.pageX,"top":Q.pageY,"width":0,"height":0});if(R.autoRefresh){this.refresh()}this.selectees.filter(".ui-selected").each(function(){var S=E.data(this,"selectable-item");S.startselected=true;if(!Q.metaKey&&!Q.ctrlKey){S.$element.removeClass("ui-selected");S.selected=false;S.$element.addClass("ui-unselecting");S.unselecting=true;P._trigger("unselecting",Q,{unselecting:S.element})}});E(Q.target).parents().addBack().each(function(){var S,T=E.data(this,"selectable-item");if(T){S=(!Q.metaKey&&!Q.ctrlKey)||!T.$element.hasClass("ui-selected");T.$element.removeClass(S?"ui-unselecting":"ui-selected").addClass(S?"ui-selecting":"ui-unselecting");T.unselecting=!S;T.selecting=S;T.selected=S;if(S){P._trigger("selecting",Q,{selecting:T.element})}else{P._trigger("unselecting",Q,{unselecting:T.element})}return false}})},_mouseDrag:function(W){this.dragged=true;if(this.options.disabled){return}var T,Q=this,P=this.options,V=this.opos[0],R=this.opos[1],S=W.pageX,U=W.pageY;if(V>S){T=S;S=V;V=T}if(R>U){T=U;U=R;R=T}this.helper.css({left:V,top:R,width:S-V,height:U-R});this.selectees.each(function(){var X=E.data(this,"selectable-item"),Y=false;if(!X||X.element===Q.element[0]){return}if(P.tolerance==="touch"){Y=(!(X.left>S||X.right<V||X.top>U||X.bottom<R))}else{if(P.tolerance==="fit"){Y=(X.left>V&&X.right<S&&X.top>R&&X.bottom<U)}}if(Y){if(X.selected){X.$element.removeClass("ui-selected");X.selected=false}if(X.unselecting){X.$element.removeClass("ui-unselecting");X.unselecting=false}if(!X.selecting){X.$element.addClass("ui-selecting");X.selecting=true;Q._trigger("selecting",W,{selecting:X.element})}}else{if(X.selecting){if((W.metaKey||W.ctrlKey)&&X.startselected){X.$element.removeClass("ui-selecting");X.selecting=false;X.$element.addClass("ui-selected");X.selected=true}else{X.$element.removeClass("ui-selecting");X.selecting=false;if(X.startselected){X.$element.addClass("ui-unselecting");X.unselecting=true}Q._trigger("unselecting",W,{unselecting:X.element})}}if(X.selected){if(!W.metaKey&&!W.ctrlKey&&!X.startselected){X.$element.removeClass("ui-selected");X.selected=false;X.$element.addClass("ui-unselecting");X.unselecting=true;Q._trigger("unselecting",W,{unselecting:X.element})}}}});return false},_mouseStop:function(Q){var P=this;this.dragged=false;E(".ui-unselecting",this.element[0]).each(function(){var R=E.data(this,"selectable-item");R.$element.removeClass("ui-unselecting");R.unselecting=false;R.startselected=false;P._trigger("unselected",Q,{unselected:R.element})});E(".ui-selecting",this.element[0]).each(function(){var R=E.data(this,"selectable-item");R.$element.removeClass("ui-selecting").addClass("ui-selected");R.selecting=false;R.selected=true;R.startselected=true;P._trigger("selected",Q,{selected:R.element})});this._trigger("stop",Q);this.helper.remove();return false}});
/*
 * jQuery UI Sortable 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/sortable/
 */
var B=E.widget("ui.sortable",E.ui.mouse,{version:"1.11.2",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(Q,R,P){return(Q>=R)&&(Q<(R+P))},_isFloating:function(P){return(/left|right/).test(P.css("float"))||(/inline|table-cell/).test(P.css("display"))},_create:function(){var P=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?P.axis==="x"||this._isFloating(this.items[0].item):false;this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=true},_setOption:function(Q,P){this._super(Q,P);if(Q==="handle"){this._setHandleClassName()}},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle");E.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle");this._mouseDestroy();for(var P=this.items.length-1;P>=0;P--){this.items[P].item.removeData(this.widgetName+"-item")}return this},_mouseCapture:function(S,R){var Q=null,P=false,T=this;if(this.reverting){return false}if(this.options.disabled||this.options.type==="static"){return false}this._refreshItems(S);E(S.target).parents().each(function(){if(E.data(this,T.widgetName+"-item")===T){Q=E(this);return false}});if(E.data(S.target,T.widgetName+"-item")===T){Q=E(S.target)}if(!Q){return false}if(this.options.handle&&!R){E(this.options.handle,Q).find("*").addBack().each(function(){if(this===S.target){P=true}});if(!P){return false}}this.currentItem=Q;this._removeCurrentsFromItems();return true},_mouseStart:function(S,R,Q){var T,P,U=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(S);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};E.extend(this.offset,{click:{left:S.pageX-this.offset.left,top:S.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(S);this.originalPageX=S.pageX;this.originalPageY=S.pageY;(U.cursorAt&&this._adjustOffsetFromHelper(U.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(U.containment){this._setContainment()}if(U.cursor&&U.cursor!=="auto"){P=this.document.find("body");this.storedCursor=P.css("cursor");P.css("cursor",U.cursor);this.storedStylesheet=E("<style>*{ cursor: "+U.cursor+" !important; }</style>").appendTo(P)}if(U.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",U.opacity)}if(U.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",U.zIndex)}if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",S,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!Q){for(T=this.containers.length-1;T>=0;T--){this.containers[T]._trigger("activate",S,this._uiHash(this))}}if(E.ui.ddmanager){E.ui.ddmanager.current=this}if(E.ui.ddmanager&&!U.dropBehaviour){E.ui.ddmanager.prepareOffsets(this,S)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(S);return true},_mouseDrag:function(S){var T,U,V,R,Q=this.options,P=false;this.position=this._generatePosition(S);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-S.pageY<Q.scrollSensitivity){this.scrollParent[0].scrollTop=P=this.scrollParent[0].scrollTop+Q.scrollSpeed}else{if(S.pageY-this.overflowOffset.top<Q.scrollSensitivity){this.scrollParent[0].scrollTop=P=this.scrollParent[0].scrollTop-Q.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-S.pageX<Q.scrollSensitivity){this.scrollParent[0].scrollLeft=P=this.scrollParent[0].scrollLeft+Q.scrollSpeed}else{if(S.pageX-this.overflowOffset.left<Q.scrollSensitivity){this.scrollParent[0].scrollLeft=P=this.scrollParent[0].scrollLeft-Q.scrollSpeed}}}else{if(S.pageY-E(document).scrollTop()<Q.scrollSensitivity){P=E(document).scrollTop(E(document).scrollTop()-Q.scrollSpeed)}else{if(E(window).height()-(S.pageY-E(document).scrollTop())<Q.scrollSensitivity){P=E(document).scrollTop(E(document).scrollTop()+Q.scrollSpeed)}}if(S.pageX-E(document).scrollLeft()<Q.scrollSensitivity){P=E(document).scrollLeft(E(document).scrollLeft()-Q.scrollSpeed)}else{if(E(window).width()-(S.pageX-E(document).scrollLeft())<Q.scrollSensitivity){P=E(document).scrollLeft(E(document).scrollLeft()+Q.scrollSpeed)}}}if(P!==false&&E.ui.ddmanager&&!Q.dropBehaviour){E.ui.ddmanager.prepareOffsets(this,S)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px"}for(T=this.items.length-1;T>=0;T--){U=this.items[T];V=U.item[0];R=this._intersectsWithPointer(U);if(!R){continue}if(U.instance!==this.currentContainer){continue}if(V!==this.currentItem[0]&&this.placeholder[R===1?"next":"prev"]()[0]!==V&&!E.contains(this.placeholder[0],V)&&(this.options.type==="semi-dynamic"?!E.contains(this.element[0],V):true)){this.direction=R===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(U)){this._rearrange(S,U)}else{break}this._trigger("change",S,this._uiHash());break}}this._contactContainers(S);if(E.ui.ddmanager){E.ui.ddmanager.drag(this,S)}this._trigger("sort",S,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(S,R){if(!S){return}if(E.ui.ddmanager&&!this.options.dropBehaviour){E.ui.ddmanager.drop(this,S)}if(this.options.revert){var Q=this,U=this.placeholder.offset(),T=this.options.axis,P={};if(!T||T==="x"){P.left=U.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)}if(!T||T==="y"){P.top=U.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)}this.reverting=true;E(this.helper).animate(P,parseInt(this.options.revert,10)||500,function(){Q._clear(S)})}else{this._clear(S,R)}return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var P=this.containers.length-1;P>=0;P--){this.containers[P]._trigger("deactivate",null,this._uiHash(this));if(this.containers[P].containerCache.over){this.containers[P]._trigger("out",null,this._uiHash(this));this.containers[P].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}E.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){E(this.domPosition.prev).after(this.currentItem)}else{E(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(P){var R=this._getItemsAsjQuery(P&&P.connected),Q=[];P=P||{};E(R).each(function(){var S=(E(P.item||this).attr(P.attribute||"id")||"").match(P.expression||(/(.+)[\-=_](.+)/));if(S){Q.push((P.key||S[1]+"[]")+"="+(P.key&&P.expression?S[1]:S[2]))}});if(!Q.length&&P.key){Q.push(P.key+"=")}return Q.join("&")},toArray:function(P){var Q=this._getItemsAsjQuery(P&&P.connected),R=[];P=P||{};Q.each(function(){R.push(E(P.item||this).attr(P.attribute||"id")||"")});return R},_intersectsWith:function(R){var c=this.positionAbs.left,T=c+this.helperProportions.width,d=this.positionAbs.top,U=d+this.helperProportions.height,Q=R.left,Z=Q+R.width,a=R.top,V=a+R.height,Y=this.offset.click.top,X=this.offset.click.left,W=(this.options.axis==="x")||((d+Y)>a&&(d+Y)<V),P=(this.options.axis==="y")||((c+X)>Q&&(c+X)<Z),S=W&&P;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>R[this.floating?"width":"height"])){return S}else{return(Q<c+(this.helperProportions.width/2)&&T-(this.helperProportions.width/2)<Z&&a<d+(this.helperProportions.height/2)&&U-(this.helperProportions.height/2)<V)}},_intersectsWithPointer:function(T){var P=(this.options.axis==="x")||this._isOverAxis(this.positionAbs.top+this.offset.click.top,T.top,T.height),R=(this.options.axis==="y")||this._isOverAxis(this.positionAbs.left+this.offset.click.left,T.left,T.width),S=P&&R,Q=this._getDragVerticalDirection(),U=this._getDragHorizontalDirection();if(!S){return false}return this.floating?(((U&&U==="right")||Q==="down")?2:1):(Q&&(Q==="down"?2:1))},_intersectsWithSides:function(R){var T=this._isOverAxis(this.positionAbs.top+this.offset.click.top,R.top+(R.height/2),R.height),Q=this._isOverAxis(this.positionAbs.left+this.offset.click.left,R.left+(R.width/2),R.width),P=this._getDragVerticalDirection(),S=this._getDragHorizontalDirection();if(this.floating&&S){return((S==="right"&&Q)||(S==="left"&&!Q))}else{return P&&((P==="down"&&T)||(P==="up"&&!T))}},_getDragVerticalDirection:function(){var P=this.positionAbs.top-this.lastPositionAbs.top;return P!==0&&(P>0?"down":"up")},_getDragHorizontalDirection:function(){var P=this.positionAbs.left-this.lastPositionAbs.left;return P!==0&&(P>0?"right":"left")},refresh:function(P){this._refreshItems(P);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var P=this.options;return P.connectWith.constructor===String?[P.connectWith]:P.connectWith},_getItemsAsjQuery:function(S){var V,Q,P,T,R=[],U=[],W=this._connectWith();if(W&&S){for(V=W.length-1;V>=0;V--){P=E(W[V]);for(Q=P.length-1;Q>=0;Q--){T=E.data(P[Q],this.widgetFullName);if(T&&T!==this&&!T.options.disabled){U.push([E.isFunction(T.options.items)?T.options.items.call(T.element):E(T.options.items,T.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),T])}}}}U.push([E.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):E(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);function X(){R.push(this)}for(V=U.length-1;V>=0;V--){U[V][0].each(X)}return E(R)},_removeCurrentsFromItems:function(){var P=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=E.grep(this.items,function(R){for(var Q=0;Q<P.length;Q++){if(P[Q]===R.item[0]){return false}}return true})},_refreshItems:function(U){this.items=[];this.containers=[this];var P,Q,W,V,Z,T,S,a,R=this.items,X=[[E.isFunction(this.options.items)?this.options.items.call(this.element[0],U,{item:this.currentItem}):E(this.options.items,this.element),this]],Y=this._connectWith();if(Y&&this.ready){for(P=Y.length-1;P>=0;P--){W=E(Y[P]);for(Q=W.length-1;Q>=0;Q--){V=E.data(W[Q],this.widgetFullName);if(V&&V!==this&&!V.options.disabled){X.push([E.isFunction(V.options.items)?V.options.items.call(V.element[0],U,{item:this.currentItem}):E(V.options.items,V.element),V]);this.containers.push(V)}}}}for(P=X.length-1;P>=0;P--){Z=X[P][1];T=X[P][0];for(Q=0,a=T.length;Q<a;Q++){S=E(T[Q]);S.data(this.widgetName+"-item",Z);R.push({item:S,instance:Z,width:0,height:0,left:0,top:0})}}},refreshPositions:function(T){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}var R,S,P,Q;for(R=this.items.length-1;R>=0;R--){S=this.items[R];if(S.instance!==this.currentContainer&&this.currentContainer&&S.item[0]!==this.currentItem[0]){continue}P=this.options.toleranceElement?E(this.options.toleranceElement,S.item):S.item;if(!T){S.width=P.outerWidth();S.height=P.outerHeight()}Q=P.offset();S.left=Q.left;S.top=Q.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(R=this.containers.length-1;R>=0;R--){Q=this.containers[R].element.offset();this.containers[R].containerCache.left=Q.left;this.containers[R].containerCache.top=Q.top;this.containers[R].containerCache.width=this.containers[R].element.outerWidth();this.containers[R].containerCache.height=this.containers[R].element.outerHeight()}}return this},_createPlaceholder:function(P){P=P||this;var R,Q=P.options;if(!Q.placeholder||Q.placeholder.constructor===String){R=Q.placeholder;Q.placeholder={element:function(){var S=P.currentItem[0].nodeName.toLowerCase(),T=E("<"+S+">",P.document[0]).addClass(R||P.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(S==="tr"){P.currentItem.children().each(function(){E("<td>&#160;</td>",P.document[0]).attr("colspan",E(this).attr("colspan")||1).appendTo(T)})}else{if(S==="img"){T.attr("src",P.currentItem.attr("src"))}}if(!R){T.css("visibility","hidden")}return T},update:function(S,T){if(R&&!Q.forcePlaceholderSize){return}if(!T.height()){T.height(P.currentItem.innerHeight()-parseInt(P.currentItem.css("paddingTop")||0,10)-parseInt(P.currentItem.css("paddingBottom")||0,10))}if(!T.width()){T.width(P.currentItem.innerWidth()-parseInt(P.currentItem.css("paddingLeft")||0,10)-parseInt(P.currentItem.css("paddingRight")||0,10))}}}}P.placeholder=E(Q.placeholder.element.call(P.element,P.currentItem));P.currentItem.after(P.placeholder);Q.placeholder.update(P,P.placeholder)},_contactContainers:function(U){var P,Q,X,T,a,R,Z,V,b,W,S=null,Y=null;for(P=this.containers.length-1;P>=0;P--){if(E.contains(this.currentItem[0],this.containers[P].element[0])){continue}if(this._intersectsWith(this.containers[P].containerCache)){if(S&&E.contains(this.containers[P].element[0],S.element[0])){continue}S=this.containers[P];Y=P}else{if(this.containers[P].containerCache.over){this.containers[P]._trigger("out",U,this._uiHash(this));this.containers[P].containerCache.over=0}}}if(!S){return}if(this.containers.length===1){if(!this.containers[Y].containerCache.over){this.containers[Y]._trigger("over",U,this._uiHash(this));this.containers[Y].containerCache.over=1}}else{X=10000;T=null;b=S.floating||this._isFloating(this.currentItem);a=b?"left":"top";R=b?"width":"height";W=b?"clientX":"clientY";for(Q=this.items.length-1;Q>=0;Q--){if(!E.contains(this.containers[Y].element[0],this.items[Q].item[0])){continue}if(this.items[Q].item[0]===this.currentItem[0]){continue}Z=this.items[Q].item.offset()[a];V=false;if(U[W]-Z>this.items[Q][R]/2){V=true}if(Math.abs(U[W]-Z)<X){X=Math.abs(U[W]-Z);T=this.items[Q];this.direction=V?"up":"down"}}if(!T&&!this.options.dropOnEmpty){return}if(this.currentContainer===this.containers[Y]){if(!this.currentContainer.containerCache.over){this.containers[Y]._trigger("over",U,this._uiHash());this.currentContainer.containerCache.over=1}return}T?this._rearrange(U,T,null,true):this._rearrange(U,null,this.containers[Y].element,true);this._trigger("change",U,this._uiHash());this.containers[Y]._trigger("change",U,this._uiHash(this));this.currentContainer=this.containers[Y];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[Y]._trigger("over",U,this._uiHash(this));this.containers[Y].containerCache.over=1}},_createHelper:function(R){var P=this.options,Q=E.isFunction(P.helper)?E(P.helper.apply(this.element[0],[R,this.currentItem])):(P.helper==="clone"?this.currentItem.clone():this.currentItem);if(!Q.parents("body").length){E(P.appendTo!=="parent"?P.appendTo:this.currentItem[0].parentNode)[0].appendChild(Q[0])}if(Q[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!Q[0].style.width||P.forceHelperSize){Q.width(this.currentItem.width())}if(!Q[0].style.height||P.forceHelperSize){Q.height(this.currentItem.height())}return Q},_adjustOffsetFromHelper:function(P){if(typeof P==="string"){P=P.split(" ")}if(E.isArray(P)){P={left:+P[0],top:+P[1]||0}}if("left" in P){this.offset.click.left=P.left+this.margins.left}if("right" in P){this.offset.click.left=this.helperProportions.width-P.right+this.margins.left}if("top" in P){this.offset.click.top=P.top+this.margins.top}if("bottom" in P){this.offset.click.top=this.helperProportions.height-P.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var P=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&E.contains(this.scrollParent[0],this.offsetParent[0])){P.left+=this.scrollParent.scrollLeft();P.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]===document.body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&E.ui.ie)){P={top:0,left:0}}return{top:P.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:P.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var P=this.currentItem.position();return{top:P.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:P.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var R,S,P,Q=this.options;if(Q.containment==="parent"){Q.containment=this.helper[0].parentNode}if(Q.containment==="document"||Q.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,E(Q.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(E(Q.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(Q.containment)){R=E(Q.containment)[0];S=E(Q.containment).offset();P=(E(R).css("overflow")!=="hidden");this.containment=[S.left+(parseInt(E(R).css("borderLeftWidth"),10)||0)+(parseInt(E(R).css("paddingLeft"),10)||0)-this.margins.left,S.top+(parseInt(E(R).css("borderTopWidth"),10)||0)+(parseInt(E(R).css("paddingTop"),10)||0)-this.margins.top,S.left+(P?Math.max(R.scrollWidth,R.offsetWidth):R.offsetWidth)-(parseInt(E(R).css("borderLeftWidth"),10)||0)-(parseInt(E(R).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,S.top+(P?Math.max(R.scrollHeight,R.offsetHeight):R.offsetHeight)-(parseInt(E(R).css("borderTopWidth"),10)||0)-(parseInt(E(R).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(R,Q){if(!Q){Q=this.position}var T=R==="absolute"?1:-1,P=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&E.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,S=(/(html|body)/i).test(P[0].tagName);return{top:(Q.top+this.offset.relative.top*T+this.offset.parent.top*T-((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(S?0:P.scrollTop()))*T)),left:(Q.left+this.offset.relative.left*T+this.offset.parent.left*T-((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():S?0:P.scrollLeft())*T))}},_generatePosition:function(U){var Q,P,T=this.options,R=U.pageX,S=U.pageY,W=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&E.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,V=(/(html|body)/i).test(W[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}if(this.originalPosition){if(this.containment){if(U.pageX-this.offset.click.left<this.containment[0]){R=this.containment[0]+this.offset.click.left}if(U.pageY-this.offset.click.top<this.containment[1]){S=this.containment[1]+this.offset.click.top}if(U.pageX-this.offset.click.left>this.containment[2]){R=this.containment[2]+this.offset.click.left}if(U.pageY-this.offset.click.top>this.containment[3]){S=this.containment[3]+this.offset.click.top}}if(T.grid){Q=this.originalPageY+Math.round((S-this.originalPageY)/T.grid[1])*T.grid[1];S=this.containment?((Q-this.offset.click.top>=this.containment[1]&&Q-this.offset.click.top<=this.containment[3])?Q:((Q-this.offset.click.top>=this.containment[1])?Q-T.grid[1]:Q+T.grid[1])):Q;P=this.originalPageX+Math.round((R-this.originalPageX)/T.grid[0])*T.grid[0];R=this.containment?((P-this.offset.click.left>=this.containment[0]&&P-this.offset.click.left<=this.containment[2])?P:((P-this.offset.click.left>=this.containment[0])?P-T.grid[0]:P+T.grid[0])):P}}return{top:(S-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(V?0:W.scrollTop())))),left:(R-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():V?0:W.scrollLeft())))}},_rearrange:function(R,S,Q,T){Q?Q[0].appendChild(this.placeholder[0]):S.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?S.item[0]:S.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var P=this.counter;this._delay(function(){if(P===this.counter){this.refreshPositions(!T)}})},_clear:function(R,Q){this.reverting=false;var S,T=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(S in this._storedCSS){if(this._storedCSS[S]==="auto"||this._storedCSS[S]==="static"){this._storedCSS[S]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!Q){T.push(function(U){this._trigger("receive",U,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!Q){T.push(function(U){this._trigger("update",U,this._uiHash())})}if(this!==this.currentContainer){if(!Q){T.push(function(U){this._trigger("remove",U,this._uiHash())});T.push((function(U){return function(V){U._trigger("receive",V,this._uiHash(this))}}).call(this,this.currentContainer));T.push((function(U){return function(V){U._trigger("update",V,this._uiHash(this))}}).call(this,this.currentContainer))}}function P(V,W,U){return function(X){U._trigger(V,X,W._uiHash(W))}}for(S=this.containers.length-1;S>=0;S--){if(!Q){T.push(P("deactivate",this,this.containers[S]))}if(this.containers[S].containerCache.over){T.push(P("out",this,this.containers[S]));this.containers[S].containerCache.over=0}}if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove()}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex)}this.dragging=false;if(!Q){this._trigger("beforeStop",R,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(!this.cancelHelperRemoval){if(this.helper[0]!==this.currentItem[0]){this.helper.remove()}this.helper=null}if(!Q){for(S=0;S<T.length;S++){T[S].call(this,R)}this._trigger("stop",R,this._uiHash())}this.fromOutside=false;return !this.cancelHelperRemoval},_trigger:function(){if(E.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(Q){var P=Q||this;return{helper:P.helper,placeholder:P.placeholder||E([]),position:P.position,originalPosition:P.originalPosition,offset:P.positionAbs,item:P.currentItem,sender:Q?Q.element:null}}});
/*
 * jQuery UI Slider 1.11.2
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slider/
 */
var J=E.widget("ui.slider",E.ui.mouse,{version:"1.11.2",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=false},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var S,R,T=this.options,Q=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),U="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",P=[];R=(T.values&&T.values.length)||1;if(Q.length>R){Q.slice(R).remove();Q=Q.slice(0,R)}for(S=Q.length;S<R;S++){P.push(U)}this.handles=Q.add(E(P.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(V){E(this).data("ui-slider-handle-index",V)})},_createRange:function(){var Q=this.options,P="";if(Q.range){if(Q.range===true){if(!Q.values){Q.values=[this._valueMin(),this._valueMin()]}else{if(Q.values.length&&Q.values.length!==2){Q.values=[Q.values[0],Q.values[0]]}else{if(E.isArray(Q.values)){Q.values=Q.values.slice(0)}}}}if(!this.range||!this.range.length){this.range=E("<div></div>").appendTo(this.element);P="ui-slider-range ui-widget-header ui-corner-all"}else{this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({"left":"","bottom":""})}this.range.addClass(P+((Q.range==="min"||Q.range==="max")?" ui-slider-range-"+Q.range:""))}else{if(this.range){this.range.remove()}this.range=null}},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();if(this.range){this.range.remove()}this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(U){var R,X,V,P,W,Z,Q,Y,S=this,T=this.options;if(T.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();R={x:U.pageX,y:U.pageY};X=this._normValueFromMouse(R);V=this._valueMax()-this._valueMin()+1;this.handles.each(function(b){var a=Math.abs(X-S.values(b));if((V>a)||(V===a&&(b===S._lastChangedValue||S.values(b)===T.min))){V=a;P=E(this);W=b}});Z=this._start(U,W);if(Z===false){return false}this._mouseSliding=true;this._handleIndex=W;P.addClass("ui-state-active").focus();Q=P.offset();Y=!E(U.target).parents().addBack().is(".ui-slider-handle");this._clickOffset=Y?{left:0,top:0}:{left:U.pageX-Q.left-(P.width()/2),top:U.pageY-Q.top-(P.height()/2)-(parseInt(P.css("borderTopWidth"),10)||0)-(parseInt(P.css("borderBottomWidth"),10)||0)+(parseInt(P.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(U,W,X)}this._animateOff=true;return true},_mouseStart:function(){return true},_mouseDrag:function(Q){var R={x:Q.pageX,y:Q.pageY},P=this._normValueFromMouse(R);this._slide(Q,this._handleIndex,P);return false},_mouseStop:function(P){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(P,this._handleIndex);this._change(P,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(U){var P,Q,T,R,S;if(this.orientation==="horizontal"){P=this.elementSize.width;Q=U.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{P=this.elementSize.height;Q=U.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}T=(Q/P);if(T>1){T=1}if(T<0){T=0}if(this.orientation==="vertical"){T=1-T}R=this._valueMax()-this._valueMin();S=this._valueMin()+T*R;return this._trimAlignValue(S)},_start:function(Q,R){var P={handle:this.handles[R],value:this.value()};if(this.options.values&&this.options.values.length){P.value=this.values(R);P.values=this.values()}return this._trigger("start",Q,P)},_slide:function(S,U,R){var P,T,Q;if(this.options.values&&this.options.values.length){P=this.values(U?0:1);if((this.options.values.length===2&&this.options.range===true)&&((U===0&&R>P)||(U===1&&R<P))){R=P}if(R!==this.values(U)){T=this.values();T[U]=R;Q=this._trigger("slide",S,{handle:this.handles[U],value:R,values:T});P=this.values(U?0:1);if(Q!==false){this.values(U,R)}}}else{if(R!==this.value()){Q=this._trigger("slide",S,{handle:this.handles[U],value:R});if(Q!==false){this.value(R)}}}},_stop:function(Q,R){var P={handle:this.handles[R],value:this.value()};if(this.options.values&&this.options.values.length){P.value=this.values(R);P.values=this.values()}this._trigger("stop",Q,P)},_change:function(Q,R){if(!this._keySliding&&!this._mouseSliding){var P={handle:this.handles[R],value:this.value()};if(this.options.values&&this.options.values.length){P.value=this.values(R);P.values=this.values()}this._lastChangedValue=R;this._trigger("change",Q,P)}},value:function(P){if(arguments.length){this.options.value=this._trimAlignValue(P);this._refreshValue();this._change(null,0);return}return this._value()},values:function(S,R){var T,P,Q;if(arguments.length>1){this.options.values[S]=this._trimAlignValue(R);this._refreshValue();this._change(null,S);return}if(arguments.length){if(E.isArray(arguments[0])){T=this.options.values;P=arguments[0];for(Q=0;Q<T.length;Q+=1){T[Q]=this._trimAlignValue(P[Q]);this._change(null,Q)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(S)}else{return this.value()}}}else{return this._values()}},_setOption:function(Q,P){var S,R=0;if(Q==="range"&&this.options.range===true){if(P==="min"){this.options.value=this._values(0);this.options.values=null}else{if(P==="max"){this.options.value=this._values(this.options.values.length-1);this.options.values=null}}}if(E.isArray(this.options.values)){R=this.options.values.length}if(Q==="disabled"){this.element.toggleClass("ui-state-disabled",!!P)}this._super(Q,P);switch(Q){case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();this.handles.css(P==="horizontal"?"bottom":"left","");break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(S=0;S<R;S+=1){this._change(null,S)}this._animateOff=false;break;case"step":case"min":case"max":this._animateOff=true;this._calculateNewMax();this._refreshValue();this._animateOff=false;break;case"range":this._animateOff=true;this._refresh();this._animateOff=false;break}},_value:function(){var P=this.options.value;P=this._trimAlignValue(P);return P},_values:function(R){var P,S,Q;if(arguments.length){P=this.options.values[R];P=this._trimAlignValue(P);return P}else{if(this.options.values&&this.options.values.length){S=this.options.values.slice();for(Q=0;Q<S.length;Q+=1){S[Q]=this._trimAlignValue(S[Q])}return S}else{return[]}}},_trimAlignValue:function(R){if(R<=this._valueMin()){return this._valueMin()}if(R>=this._valueMax()){return this._valueMax()}var P=(this.options.step>0)?this.options.step:1,Q=(R-this._valueMin())%P,S=R-Q;if(Math.abs(Q)*2>=P){S+=(Q>0)?P:(-P)}return parseFloat(S.toFixed(5))},_calculateNewMax:function(){var P=(this.options.max-this._valueMin())%this.options.step;this.max=this.options.max-P},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var V,X,U,W,P,Y=this.options.range,R=this.options,Q=this,S=(!this._animateOff)?R.animate:false,T={};if(this.options.values&&this.options.values.length){this.handles.each(function(Z){X=(Q.values(Z)-Q._valueMin())/(Q._valueMax()-Q._valueMin())*100;T[Q.orientation==="horizontal"?"left":"bottom"]=X+"%";E(this).stop(1,1)[S?"animate":"css"](T,R.animate);if(Q.options.range===true){if(Q.orientation==="horizontal"){if(Z===0){Q.range.stop(1,1)[S?"animate":"css"]({left:X+"%"},R.animate)}if(Z===1){Q.range[S?"animate":"css"]({width:(X-V)+"%"},{queue:false,duration:R.animate})}}else{if(Z===0){Q.range.stop(1,1)[S?"animate":"css"]({bottom:(X)+"%"},R.animate)}if(Z===1){Q.range[S?"animate":"css"]({height:(X-V)+"%"},{queue:false,duration:R.animate})}}}V=X})}else{U=this.value();W=this._valueMin();P=this._valueMax();X=(P!==W)?(U-W)/(P-W)*100:0;T[this.orientation==="horizontal"?"left":"bottom"]=X+"%";this.handle.stop(1,1)[S?"animate":"css"](T,R.animate);if(Y==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[S?"animate":"css"]({width:X+"%"},R.animate)}if(Y==="max"&&this.orientation==="horizontal"){this.range[S?"animate":"css"]({width:(100-X)+"%"},{queue:false,duration:R.animate})}if(Y==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[S?"animate":"css"]({height:X+"%"},R.animate)}if(Y==="max"&&this.orientation==="vertical"){this.range[S?"animate":"css"]({height:(100-X)+"%"},{queue:false,duration:R.animate})}}},_handleEvents:{keydown:function(S){var T,P,R,Q,U=E(S.target).data("ui-slider-handle-index");switch(S.keyCode){case E.ui.keyCode.HOME:case E.ui.keyCode.END:case E.ui.keyCode.PAGE_UP:case E.ui.keyCode.PAGE_DOWN:case E.ui.keyCode.UP:case E.ui.keyCode.RIGHT:case E.ui.keyCode.DOWN:case E.ui.keyCode.LEFT:S.preventDefault();if(!this._keySliding){this._keySliding=true;E(S.target).addClass("ui-state-active");T=this._start(S,U);if(T===false){return}}break}Q=this.options.step;if(this.options.values&&this.options.values.length){P=R=this.values(U)}else{P=R=this.value()}switch(S.keyCode){case E.ui.keyCode.HOME:R=this._valueMin();break;case E.ui.keyCode.END:R=this._valueMax();break;case E.ui.keyCode.PAGE_UP:R=this._trimAlignValue(P+((this._valueMax()-this._valueMin())/this.numPages));break;case E.ui.keyCode.PAGE_DOWN:R=this._trimAlignValue(P-((this._valueMax()-this._valueMin())/this.numPages));break;case E.ui.keyCode.UP:case E.ui.keyCode.RIGHT:if(P===this._valueMax()){return}R=this._trimAlignValue(P+Q);break;case E.ui.keyCode.DOWN:case E.ui.keyCode.LEFT:if(P===this._valueMin()){return}R=this._trimAlignValue(P-Q);break}this._slide(S,U,R)},keyup:function(P){var Q=E(P.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(P,Q);this._change(P,Q);E(P.target).removeClass("ui-state-active")}}}})}));