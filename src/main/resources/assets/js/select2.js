(function(A){if(typeof A.fn.each2=="undefined"){A.extend(A.fn,{each2:function(B){var D=A([0]),C=-1,E=this.length;while(++C<E&&(D.context=D[0]=this[C])&&B.call(D[0],C,D)!==false){}return this}})}})(jQuery);(function(K,A){if(window.Select2!==A){return}var B,S,Q,J,X,O={x:0,y:0},W,Y,h={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(p){p=p.which?p.which:p;switch(p){case h.LEFT:case h.RIGHT:case h.UP:case h.DOWN:return true}return false},isControl:function(p){var q=p.which;switch(q){case h.SHIFT:case h.CTRL:case h.ALT:return true}if(p.metaKey){return true}return false},isFunctionKey:function(p){p=p.which?p.which:p;return p>=112&&p<=123}},d="<div class='select2-measure-scrollbar'></div>",g={"\u24B6":"A","\uFF21":"A","\u00C0":"A","\u00C1":"A","\u00C2":"A","\u1EA6":"A","\u1EA4":"A","\u1EAA":"A","\u1EA8":"A","\u00C3":"A","\u0100":"A","\u0102":"A","\u1EB0":"A","\u1EAE":"A","\u1EB4":"A","\u1EB2":"A","\u0226":"A","\u01E0":"A","\u00C4":"A","\u01DE":"A","\u1EA2":"A","\u00C5":"A","\u01FA":"A","\u01CD":"A","\u0200":"A","\u0202":"A","\u1EA0":"A","\u1EAC":"A","\u1EB6":"A","\u1E00":"A","\u0104":"A","\u023A":"A","\u2C6F":"A","\uA732":"AA","\u00C6":"AE","\u01FC":"AE","\u01E2":"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY","\u24B7":"B","\uFF22":"B","\u1E02":"B","\u1E04":"B","\u1E06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24B8":"C","\uFF23":"C","\u0106":"C","\u0108":"C","\u010A":"C","\u010C":"C","\u00C7":"C","\u1E08":"C","\u0187":"C","\u023B":"C","\uA73E":"C","\u24B9":"D","\uFF24":"D","\u1E0A":"D","\u010E":"D","\u1E0C":"D","\u1E10":"D","\u1E12":"D","\u1E0E":"D","\u0110":"D","\u018B":"D","\u018A":"D","\u0189":"D","\uA779":"D","\u01F1":"DZ","\u01C4":"DZ","\u01F2":"Dz","\u01C5":"Dz","\u24BA":"E","\uFF25":"E","\u00C8":"E","\u00C9":"E","\u00CA":"E","\u1EC0":"E","\u1EBE":"E","\u1EC4":"E","\u1EC2":"E","\u1EBC":"E","\u0112":"E","\u1E14":"E","\u1E16":"E","\u0114":"E","\u0116":"E","\u00CB":"E","\u1EBA":"E","\u011A":"E","\u0204":"E","\u0206":"E","\u1EB8":"E","\u1EC6":"E","\u0228":"E","\u1E1C":"E","\u0118":"E","\u1E18":"E","\u1E1A":"E","\u0190":"E","\u018E":"E","\u24BB":"F","\uFF26":"F","\u1E1E":"F","\u0191":"F","\uA77B":"F","\u24BC":"G","\uFF27":"G","\u01F4":"G","\u011C":"G","\u1E20":"G","\u011E":"G","\u0120":"G","\u01E6":"G","\u0122":"G","\u01E4":"G","\u0193":"G","\uA7A0":"G","\uA77D":"G","\uA77E":"G","\u24BD":"H","\uFF28":"H","\u0124":"H","\u1E22":"H","\u1E26":"H","\u021E":"H","\u1E24":"H","\u1E28":"H","\u1E2A":"H","\u0126":"H","\u2C67":"H","\u2C75":"H","\uA78D":"H","\u24BE":"I","\uFF29":"I","\u00CC":"I","\u00CD":"I","\u00CE":"I","\u0128":"I","\u012A":"I","\u012C":"I","\u0130":"I","\u00CF":"I","\u1E2E":"I","\u1EC8":"I","\u01CF":"I","\u0208":"I","\u020A":"I","\u1ECA":"I","\u012E":"I","\u1E2C":"I","\u0197":"I","\u24BF":"J","\uFF2A":"J","\u0134":"J","\u0248":"J","\u24C0":"K","\uFF2B":"K","\u1E30":"K","\u01E8":"K","\u1E32":"K","\u0136":"K","\u1E34":"K","\u0198":"K","\u2C69":"K","\uA740":"K","\uA742":"K","\uA744":"K","\uA7A2":"K","\u24C1":"L","\uFF2C":"L","\u013F":"L","\u0139":"L","\u013D":"L","\u1E36":"L","\u1E38":"L","\u013B":"L","\u1E3C":"L","\u1E3A":"L","\u0141":"L","\u023D":"L","\u2C62":"L","\u2C60":"L","\uA748":"L","\uA746":"L","\uA780":"L","\u01C7":"LJ","\u01C8":"Lj","\u24C2":"M","\uFF2D":"M","\u1E3E":"M","\u1E40":"M","\u1E42":"M","\u2C6E":"M","\u019C":"M","\u24C3":"N","\uFF2E":"N","\u01F8":"N","\u0143":"N","\u00D1":"N","\u1E44":"N","\u0147":"N","\u1E46":"N","\u0145":"N","\u1E4A":"N","\u1E48":"N","\u0220":"N","\u019D":"N","\uA790":"N","\uA7A4":"N","\u01CA":"NJ","\u01CB":"Nj","\u24C4":"O","\uFF2F":"O","\u00D2":"O","\u00D3":"O","\u00D4":"O","\u1ED2":"O","\u1ED0":"O","\u1ED6":"O","\u1ED4":"O","\u00D5":"O","\u1E4C":"O","\u022C":"O","\u1E4E":"O","\u014C":"O","\u1E50":"O","\u1E52":"O","\u014E":"O","\u022E":"O","\u0230":"O","\u00D6":"O","\u022A":"O","\u1ECE":"O","\u0150":"O","\u01D1":"O","\u020C":"O","\u020E":"O","\u01A0":"O","\u1EDC":"O","\u1EDA":"O","\u1EE0":"O","\u1EDE":"O","\u1EE2":"O","\u1ECC":"O","\u1ED8":"O","\u01EA":"O","\u01EC":"O","\u00D8":"O","\u01FE":"O","\u0186":"O","\u019F":"O","\uA74A":"O","\uA74C":"O","\u01A2":"OI","\uA74E":"OO","\u0222":"OU","\u24C5":"P","\uFF30":"P","\u1E54":"P","\u1E56":"P","\u01A4":"P","\u2C63":"P","\uA750":"P","\uA752":"P","\uA754":"P","\u24C6":"Q","\uFF31":"Q","\uA756":"Q","\uA758":"Q","\u024A":"Q","\u24C7":"R","\uFF32":"R","\u0154":"R","\u1E58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1E5A":"R","\u1E5C":"R","\u0156":"R","\u1E5E":"R","\u024C":"R","\u2C64":"R","\uA75A":"R","\uA7A6":"R","\uA782":"R","\u24C8":"S","\uFF33":"S","\u1E9E":"S","\u015A":"S","\u1E64":"S","\u015C":"S","\u1E60":"S","\u0160":"S","\u1E66":"S","\u1E62":"S","\u1E68":"S","\u0218":"S","\u015E":"S","\u2C7E":"S","\uA7A8":"S","\uA784":"S","\u24C9":"T","\uFF34":"T","\u1E6A":"T","\u0164":"T","\u1E6C":"T","\u021A":"T","\u0162":"T","\u1E70":"T","\u1E6E":"T","\u0166":"T","\u01AC":"T","\u01AE":"T","\u023E":"T","\uA786":"T","\uA728":"TZ","\u24CA":"U","\uFF35":"U","\u00D9":"U","\u00DA":"U","\u00DB":"U","\u0168":"U","\u1E78":"U","\u016A":"U","\u1E7A":"U","\u016C":"U","\u00DC":"U","\u01DB":"U","\u01D7":"U","\u01D5":"U","\u01D9":"U","\u1EE6":"U","\u016E":"U","\u0170":"U","\u01D3":"U","\u0214":"U","\u0216":"U","\u01AF":"U","\u1EEA":"U","\u1EE8":"U","\u1EEE":"U","\u1EEC":"U","\u1EF0":"U","\u1EE4":"U","\u1E72":"U","\u0172":"U","\u1E76":"U","\u1E74":"U","\u0244":"U","\u24CB":"V","\uFF36":"V","\u1E7C":"V","\u1E7E":"V","\u01B2":"V","\uA75E":"V","\u0245":"V","\uA760":"VY","\u24CC":"W","\uFF37":"W","\u1E80":"W","\u1E82":"W","\u0174":"W","\u1E86":"W","\u1E84":"W","\u1E88":"W","\u2C72":"W","\u24CD":"X","\uFF38":"X","\u1E8A":"X","\u1E8C":"X","\u24CE":"Y","\uFF39":"Y","\u1EF2":"Y","\u00DD":"Y","\u0176":"Y","\u1EF8":"Y","\u0232":"Y","\u1E8E":"Y","\u0178":"Y","\u1EF6":"Y","\u1EF4":"Y","\u01B3":"Y","\u024E":"Y","\u1EFE":"Y","\u24CF":"Z","\uFF3A":"Z","\u0179":"Z","\u1E90":"Z","\u017B":"Z","\u017D":"Z","\u1E92":"Z","\u1E94":"Z","\u01B5":"Z","\u0224":"Z","\u2C7F":"Z","\u2C6B":"Z","\uA762":"Z","\u24D0":"a","\uFF41":"a","\u1E9A":"a","\u00E0":"a","\u00E1":"a","\u00E2":"a","\u1EA7":"a","\u1EA5":"a","\u1EAB":"a","\u1EA9":"a","\u00E3":"a","\u0101":"a","\u0103":"a","\u1EB1":"a","\u1EAF":"a","\u1EB5":"a","\u1EB3":"a","\u0227":"a","\u01E1":"a","\u00E4":"a","\u01DF":"a","\u1EA3":"a","\u00E5":"a","\u01FB":"a","\u01CE":"a","\u0201":"a","\u0203":"a","\u1EA1":"a","\u1EAD":"a","\u1EB7":"a","\u1E01":"a","\u0105":"a","\u2C65":"a","\u0250":"a","\uA733":"aa","\u00E6":"ae","\u01FD":"ae","\u01E3":"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay","\u24D1":"b","\uFF42":"b","\u1E03":"b","\u1E05":"b","\u1E07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24D2":"c","\uFF43":"c","\u0107":"c","\u0109":"c","\u010B":"c","\u010D":"c","\u00E7":"c","\u1E09":"c","\u0188":"c","\u023C":"c","\uA73F":"c","\u2184":"c","\u24D3":"d","\uFF44":"d","\u1E0B":"d","\u010F":"d","\u1E0D":"d","\u1E11":"d","\u1E13":"d","\u1E0F":"d","\u0111":"d","\u018C":"d","\u0256":"d","\u0257":"d","\uA77A":"d","\u01F3":"dz","\u01C6":"dz","\u24D4":"e","\uFF45":"e","\u00E8":"e","\u00E9":"e","\u00EA":"e","\u1EC1":"e","\u1EBF":"e","\u1EC5":"e","\u1EC3":"e","\u1EBD":"e","\u0113":"e","\u1E15":"e","\u1E17":"e","\u0115":"e","\u0117":"e","\u00EB":"e","\u1EBB":"e","\u011B":"e","\u0205":"e","\u0207":"e","\u1EB9":"e","\u1EC7":"e","\u0229":"e","\u1E1D":"e","\u0119":"e","\u1E19":"e","\u1E1B":"e","\u0247":"e","\u025B":"e","\u01DD":"e","\u24D5":"f","\uFF46":"f","\u1E1F":"f","\u0192":"f","\uA77C":"f","\u24D6":"g","\uFF47":"g","\u01F5":"g","\u011D":"g","\u1E21":"g","\u011F":"g","\u0121":"g","\u01E7":"g","\u0123":"g","\u01E5":"g","\u0260":"g","\uA7A1":"g","\u1D79":"g","\uA77F":"g","\u24D7":"h","\uFF48":"h","\u0125":"h","\u1E23":"h","\u1E27":"h","\u021F":"h","\u1E25":"h","\u1E29":"h","\u1E2B":"h","\u1E96":"h","\u0127":"h","\u2C68":"h","\u2C76":"h","\u0265":"h","\u0195":"hv","\u24D8":"i","\uFF49":"i","\u00EC":"i","\u00ED":"i","\u00EE":"i","\u0129":"i","\u012B":"i","\u012D":"i","\u00EF":"i","\u1E2F":"i","\u1EC9":"i","\u01D0":"i","\u0209":"i","\u020B":"i","\u1ECB":"i","\u012F":"i","\u1E2D":"i","\u0268":"i","\u0131":"i","\u24D9":"j","\uFF4A":"j","\u0135":"j","\u01F0":"j","\u0249":"j","\u24DA":"k","\uFF4B":"k","\u1E31":"k","\u01E9":"k","\u1E33":"k","\u0137":"k","\u1E35":"k","\u0199":"k","\u2C6A":"k","\uA741":"k","\uA743":"k","\uA745":"k","\uA7A3":"k","\u24DB":"l","\uFF4C":"l","\u0140":"l","\u013A":"l","\u013E":"l","\u1E37":"l","\u1E39":"l","\u013C":"l","\u1E3D":"l","\u1E3B":"l","\u017F":"l","\u0142":"l","\u019A":"l","\u026B":"l","\u2C61":"l","\uA749":"l","\uA781":"l","\uA747":"l","\u01C9":"lj","\u24DC":"m","\uFF4D":"m","\u1E3F":"m","\u1E41":"m","\u1E43":"m","\u0271":"m","\u026F":"m","\u24DD":"n","\uFF4E":"n","\u01F9":"n","\u0144":"n","\u00F1":"n","\u1E45":"n","\u0148":"n","\u1E47":"n","\u0146":"n","\u1E4B":"n","\u1E49":"n","\u019E":"n","\u0272":"n","\u0149":"n","\uA791":"n","\uA7A5":"n","\u01CC":"nj","\u24DE":"o","\uFF4F":"o","\u00F2":"o","\u00F3":"o","\u00F4":"o","\u1ED3":"o","\u1ED1":"o","\u1ED7":"o","\u1ED5":"o","\u00F5":"o","\u1E4D":"o","\u022D":"o","\u1E4F":"o","\u014D":"o","\u1E51":"o","\u1E53":"o","\u014F":"o","\u022F":"o","\u0231":"o","\u00F6":"o","\u022B":"o","\u1ECF":"o","\u0151":"o","\u01D2":"o","\u020D":"o","\u020F":"o","\u01A1":"o","\u1EDD":"o","\u1EDB":"o","\u1EE1":"o","\u1EDF":"o","\u1EE3":"o","\u1ECD":"o","\u1ED9":"o","\u01EB":"o","\u01ED":"o","\u00F8":"o","\u01FF":"o","\u0254":"o","\uA74B":"o","\uA74D":"o","\u0275":"o","\u01A3":"oi","\u0223":"ou","\uA74F":"oo","\u24DF":"p","\uFF50":"p","\u1E55":"p","\u1E57":"p","\u01A5":"p","\u1D7D":"p","\uA751":"p","\uA753":"p","\uA755":"p","\u24E0":"q","\uFF51":"q","\u024B":"q","\uA757":"q","\uA759":"q","\u24E1":"r","\uFF52":"r","\u0155":"r","\u1E59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1E5B":"r","\u1E5D":"r","\u0157":"r","\u1E5F":"r","\u024D":"r","\u027D":"r","\uA75B":"r","\uA7A7":"r","\uA783":"r","\u24E2":"s","\uFF53":"s","\u00DF":"s","\u015B":"s","\u1E65":"s","\u015D":"s","\u1E61":"s","\u0161":"s","\u1E67":"s","\u1E63":"s","\u1E69":"s","\u0219":"s","\u015F":"s","\u023F":"s","\uA7A9":"s","\uA785":"s","\u1E9B":"s","\u24E3":"t","\uFF54":"t","\u1E6B":"t","\u1E97":"t","\u0165":"t","\u1E6D":"t","\u021B":"t","\u0163":"t","\u1E71":"t","\u1E6F":"t","\u0167":"t","\u01AD":"t","\u0288":"t","\u2C66":"t","\uA787":"t","\uA729":"tz","\u24E4":"u","\uFF55":"u","\u00F9":"u","\u00FA":"u","\u00FB":"u","\u0169":"u","\u1E79":"u","\u016B":"u","\u1E7B":"u","\u016D":"u","\u00FC":"u","\u01DC":"u","\u01D8":"u","\u01D6":"u","\u01DA":"u","\u1EE7":"u","\u016F":"u","\u0171":"u","\u01D4":"u","\u0215":"u","\u0217":"u","\u01B0":"u","\u1EEB":"u","\u1EE9":"u","\u1EEF":"u","\u1EED":"u","\u1EF1":"u","\u1EE5":"u","\u1E73":"u","\u0173":"u","\u1E77":"u","\u1E75":"u","\u0289":"u","\u24E5":"v","\uFF56":"v","\u1E7D":"v","\u1E7F":"v","\u028B":"v","\uA75F":"v","\u028C":"v","\uA761":"vy","\u24E6":"w","\uFF57":"w","\u1E81":"w","\u1E83":"w","\u0175":"w","\u1E87":"w","\u1E85":"w","\u1E98":"w","\u1E89":"w","\u2C73":"w","\u24E7":"x","\uFF58":"x","\u1E8B":"x","\u1E8D":"x","\u24E8":"y","\uFF59":"y","\u1EF3":"y","\u00FD":"y","\u0177":"y","\u1EF9":"y","\u0233":"y","\u1E8F":"y","\u00FF":"y","\u1EF7":"y","\u1E99":"y","\u1EF5":"y","\u01B4":"y","\u024F":"y","\u1EFF":"y","\u24E9":"z","\uFF5A":"z","\u017A":"z","\u1E91":"z","\u017C":"z","\u017E":"z","\u1E93":"z","\u1E95":"z","\u01B6":"z","\u0225":"z","\u0240":"z","\u2C6C":"z","\uA763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038A":"\u0399","\u03AA":"\u0399","\u038C":"\u039F","\u038E":"\u03A5","\u03AB":"\u03A5","\u038F":"\u03A9","\u03AC":"\u03B1","\u03AD":"\u03B5","\u03AE":"\u03B7","\u03AF":"\u03B9","\u03CA":"\u03B9","\u0390":"\u03B9","\u03CC":"\u03BF","\u03CD":"\u03C5","\u03CB":"\u03C5","\u03B0":"\u03C5","\u03C9":"\u03C9","\u03C2":"\u03C3"};W=K(document);J=(function(){var p=1;return function(){return p++}}());function G(q){var p=K(document.createTextNode(""));q.before(p);p.before(q);p.remove()}function n(q){function p(r){return g[r]||r}return q.replace(/[^\u0000-\u007E]/g,p)}function i(p,r){var q=0,s=r.length;for(;q<s;q=q+1){if(e(p,r[q])){return q}}return -1}function f(){var p=K(d);p.appendTo(document.body);var q={width:p.width()-p[0].clientWidth,height:p.height()-p[0].clientHeight};p.remove();return q}function e(p,q){if(p===q){return true}if(p===A||q===A){return false}if(p===null||q===null){return false}if(p.constructor===String){return p+""===q+""}if(q.constructor===String){return q+""===p+""}return false}function T(q,p,u){var t,s,r;if(q===null||q.length<1){return[]}t=q.split(p);for(s=0,r=t.length;s<r;s=s+1){t[s]=u(t[s])}return t}function o(p){return p.outerWidth(false)-p.width()}function l(q){var p="keyup-change-value";q.on("keydown",function(){if(K.data(q,p)===A){K.data(q,p,q.val())}});q.on("keyup",function(){var r=K.data(q,p);if(r!==A&&q.val()!==r){K.removeData(q,p);q.trigger("keyup-change")}})}function V(p){p.on("mousemove",function(r){var q=O;if(q===A||q.x!==r.pageX||q.y!==r.pageY){K(r.target).trigger("mousemove-filtered",r)}})}function c(r,p,q){q=q||A;var s;return function(){var t=arguments;window.clearTimeout(s);s=window.setTimeout(function(){p.apply(q,t)},r)}}function b(p,q){var r=c(p,function(s){q.trigger("scroll-debounced",s)});q.on("scroll",function(s){if(i(s.target,q.get())>=0){r(s)}})}function N(p){if(p[0]===document.activeElement){return}window.setTimeout(function(){var r=p[0],s=p.val().length,q;p.focus();var t=(r.offsetWidth>0||r.offsetHeight>0);if(t&&r===document.activeElement){if(r.setSelectionRange){r.setSelectionRange(s,s)}else{if(r.createTextRange){q=r.createTextRange();q.collapse(false);q.select()}}}},0)}function R(p){p=K(p)[0];var r=0;var s=0;if("selectionStart" in p){r=p.selectionStart;s=p.selectionEnd-r}else{if("selection" in document){p.focus();var q=document.selection.createRange();s=document.selection.createRange().text.length;q.moveStart("character",-p.value.length);r=q.text.length-s}}return{offset:r,length:s}}function j(p){p.preventDefault();p.stopPropagation()}function H(p){p.preventDefault();p.stopImmediatePropagation()}function D(q){if(!X){var p=q[0].currentStyle||window.getComputedStyle(q[0],null);X=K(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:p.fontSize,fontFamily:p.fontFamily,fontStyle:p.fontStyle,fontWeight:p.fontWeight,letterSpacing:p.letterSpacing,textTransform:p.textTransform,whiteSpace:"nowrap"});X.attr("class","select2-sizer");K(document.body).append(X)}X.text(q.val());return X.width()}function a(u,s,r){var p,q=[],t;p=K.trim(u.attr("class"));if(p){p=""+p;K(p.split(/\s+/)).each2(function(){if(this.indexOf("select2-")===0){q.push(this)}})}p=K.trim(s.attr("class"));if(p){p=""+p;K(p.split(/\s+/)).each2(function(){if(this.indexOf("select2-")!==0){t=r(this);if(t){q.push(t)}}})}u.attr("class",q.join(" "))}function U(u,t,q,r){var p=n(u.toUpperCase()).indexOf(n(t.toUpperCase())),s=t.length;if(p<0){q.push(r(u));return}q.push(r(u.substring(0,p)));q.push("<span class='select2-match'>");q.push(r(u.substring(p,p+s)));q.push("</span>");q.push(r(u.substring(p+s,u.length)))}function F(p){var q={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(p).replace(/[&<>"'\/\\]/g,function(r){return q[r]})}function L(s){var u,p=null,t=s.quietMillis||100,q=s.url,r=this;return function(v){window.clearTimeout(u);u=window.setTimeout(function(){var Aa=s.data,x=q,z=s.transport||K.fn.select2.ajaxDefaults.transport,y={type:s.type||"GET",cache:s.cache||false,jsonpCallback:s.jsonpCallback||A,dataType:s.dataType||"json"},w=K.extend({},K.fn.select2.ajaxDefaults.params,y);Aa=Aa?Aa.call(r,v.term,v.page,v.context):null;x=(typeof x==="function")?x.call(r,v.term,v.page,v.context):x;if(p&&typeof p.abort==="function"){p.abort()}if(s.params){if(K.isFunction(s.params)){K.extend(w,s.params.call(r))}else{K.extend(w,s.params)}}K.extend(w,{url:x,dataType:s.dataType,data:Aa,success:function(Ac){var Ab=s.results(Ac,v.page,v);v.callback(Ab)},error:function(Ad,Ab,Ac){var Ae={hasError:true,jqXHR:Ad,textStatus:Ab,errorThrown:Ac};v.callback(Ae)}});p=z.call(r,w)},t)}}function m(r){var u=r,p,t,q=function(v){return""+v.text};if(K.isArray(u)){t=u;u={results:t}}if(K.isFunction(u)===false){t=u;u=function(){return t}}var s=u();if(s.text){q=s.text;if(!K.isFunction(q)){p=s.text;q=function(v){return v[p]}}}return function(y){var v=y.term,w={results:[]},x;if(v===""){y.callback(u());return}x=function(Ab,z){var Aa,Ac;Ab=Ab[0];if(Ab.children){Aa={};for(Ac in Ab){if(Ab.hasOwnProperty(Ac)){Aa[Ac]=Ab[Ac]}}Aa.children=[];K(Ab.children).each2(function(Ae,Ad){x(Ad,Aa.children)});if(Aa.children.length||y.matcher(v,q(Aa),Ab)){z.push(Aa)}}else{if(y.matcher(v,q(Ab),Ab)){z.push(Ab)}}};K(u().results).each2(function(z,Aa){x(Aa,w.results)});y.callback(w)}}function E(q){var p=K.isFunction(q);return function(v){var r=v.term,u={results:[]};var s=p?q(v):q;if(K.isArray(s)){K(s).each(function(){var t=this.text!==A,w=t?this.text:this;if(r===""||v.matcher(r,w)){u.results.push(t?this:{id:this,text:this})}});v.callback(u)}}}function I(p,q){if(K.isFunction(p)){return true}if(!p){return false}if(typeof(p)==="string"){return true}throw new Error(q+" must be a string, function, or falsy value")}function k(r,q){if(K.isFunction(r)){var p=Array.prototype.slice.call(arguments,2);return r.apply(q,p)}return r}function P(q){var p=0;K.each(q,function(r,s){if(s.children){p+=P(s.children)}else{p++}});return p}function C(u,q,y,z){var v=u,x=false,t,s,p,r,w;if(!z.createSearchChoice||!z.tokenSeparators||z.tokenSeparators.length<1){return A}while(true){s=-1;for(p=0,r=z.tokenSeparators.length;p<r;p++){w=z.tokenSeparators[p];s=u.indexOf(w);if(s>=0){break}}if(s<0){break}t=u.substring(0,s);u=u.substring(s+w.length);if(t.length>0){t=z.createSearchChoice.call(this,t,q);if(t!==A&&t!==null&&z.id(t)!==A&&z.id(t)!==null){x=false;for(p=0,r=q.length;p<r;p++){if(e(z.id(t),z.id(q[p]))){x=true;break}}if(!x){y(t)}}}}if(v!==u){return u}}function Z(){var p=this;K.each(arguments,function(q,r){p[r].remove();p[r]=null})}function M(q,r){var p=function(){};p.prototype=new q;p.prototype.constructor=p;p.prototype.parent=q.prototype;p.prototype=K.extend(p.prototype,r);return p}B=M(Object,{bind:function(q){var p=this;return function(){q.apply(p,arguments)}},init:function(p){var t,r,s=".select2-results";this.opts=p=this.prepareOpts(p);this.id=p.id;if(p.element.data("select2")!==A&&p.element.data("select2")!==null){p.element.data("select2").destroy()}this.container=this.createContainer();this.liveRegion=K(".select2-hidden-accessible");if(this.liveRegion.length==0){this.liveRegion=K("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)}this.containerId="s2id_"+(p.element.attr("id")||"autogen"+J());this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.container.attr("title",p.element.attr("title"));this.body=K(document.body);a(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",p.element.attr("style"));this.container.css(k(p.containerCss,this.opts.element));this.container.addClass(k(p.containerCssClass,this.opts.element));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",j);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");a(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(k(p.dropdownCssClass,this.opts.element));this.dropdown.data("select2",this);this.dropdown.on("click",j);this.results=t=this.container.find(s);this.search=r=this.container.find("input.select2-input");this.queryCount=0;this.resultsPage=0;this.context=null;this.initContainer();this.container.on("click",j);V(this.results);this.dropdown.on("mousemove-filtered",s,this.bind(this.highlightUnderEvent));this.dropdown.on("touchstart touchmove touchend",s,this.bind(function(v){this._touchEvent=true;this.highlightUnderEvent(v)}));this.dropdown.on("touchmove",s,this.bind(this.touchMoved));this.dropdown.on("touchstart touchend",s,this.bind(this.clearTouchMoved));this.dropdown.on("click",this.bind(function(v){if(this._touchEvent){this._touchEvent=false;this.selectHighlighted()}}));b(80,this.results);this.dropdown.on("scroll-debounced",s,this.bind(this.loadMoreIfNeeded));K(this.container).on("change",".select2-input",function(v){v.stopPropagation()});K(this.dropdown).on("change",".select2-input",function(v){v.stopPropagation()});if(K.fn.mousewheel){t.mousewheel(function(y,x,z,v){var w=t.scrollTop();if(v>0&&w-v<=0){t.scrollTop(0);j(y)}else{if(v<0&&t.get(0).scrollHeight-t.scrollTop()+v<=t.height()){t.scrollTop(t.get(0).scrollHeight-t.height());j(y)}}})}l(r);r.on("keyup-change input paste",this.bind(this.updateResults));r.on("focus",function(){r.addClass("select2-focused")});r.on("blur",function(){r.removeClass("select2-focused")});this.dropdown.on("mouseup",s,this.bind(function(v){if(K(v.target).closest(".select2-result-selectable").length>0){this.highlightUnderEvent(v);this.selectHighlighted(v)}}));this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(v){v.stopPropagation()});this.nextSearchTerm=A;if(K.isFunction(this.opts.initSelection)){this.initSelection();this.monitorSource()}if(p.maximumInputLength!==null){this.search.attr("maxlength",p.maximumInputLength)}var u=p.element.prop("disabled");if(u===A){u=false}this.enable(!u);var q=p.element.prop("readonly");if(q===A){q=false}this.readonly(q);Y=Y||f();this.autofocus=p.element.prop("autofocus");p.element.prop("autofocus",false);if(this.autofocus){this.focus()}this.search.attr("placeholder",p.searchInputPlaceholder)},destroy:function(){var r=this.opts.element,p=r.data("select2"),q=this;this.close();if(r.length&&r[0].detachEvent&&q._sync){r.each(function(){if(q._sync){this.detachEvent("onpropertychange",q._sync)}})}if(this.propertyObserver){this.propertyObserver.disconnect();this.propertyObserver=null}this._sync=null;if(p!==A){p.container.remove();p.liveRegion.remove();p.dropdown.remove();r.show().removeData("select2").off(".select2").prop("autofocus",this.autofocus||false);if(this.elementTabIndex){r.attr({tabindex:this.elementTabIndex})}else{r.removeAttr("tabindex")}r.show()}Z.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(p){if(p.is("option")){return{id:p.prop("value"),text:p.text(),element:p.get(),css:p.attr("class"),disabled:p.prop("disabled"),locked:e(p.attr("locked"),"locked")||e(p.data("locked"),true)}}else{if(p.is("optgroup")){return{text:p.attr("label"),children:[],element:p.get(),css:p.attr("class")}}}},prepareOpts:function(p){var u,q,r,s,t=this;u=p.element;if(u.get(0).tagName.toLowerCase()==="select"){this.select=q=p.element}if(q){K.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in p){throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}})}p=K.extend({},{populateResults:function(w,z,y){var Aa,v=this.opts.id,x=this.liveRegion;Aa=function(Ag,Ae,Ac){var Ab,Ad,Ao,Aj,Ak,Af,Ah,Al,Ai,Am;Ag=p.sortResults(Ag,Ae,y);var An=[];for(Ab=0,Ad=Ag.length;Ab<Ad;Ab=Ab+1){Ao=Ag[Ab];Ak=(Ao.disabled===true);Aj=(!Ak)&&(v(Ao)!==A);Af=Ao.children&&Ao.children.length>0;Ah=K("<li></li>");Ah.addClass("select2-results-dept-"+Ac);Ah.addClass("select2-result");Ah.addClass(Aj?"select2-result-selectable":"select2-result-unselectable");if(Ak){Ah.addClass("select2-disabled")}if(Af){Ah.addClass("select2-result-with-children")}Ah.addClass(t.opts.formatResultCssClass(Ao));Ah.attr("role","presentation");Al=K(document.createElement("div"));Al.addClass("select2-result-label");Al.attr("id","select2-result-label-"+J());Al.attr("role","option");Am=p.formatResult(Ao,Al,y,t.opts.escapeMarkup);if(Am!==A){Al.html(Am);Ah.append(Al)}if(Af){Ai=K("<ul></ul>");Ai.addClass("select2-result-sub");Aa(Ao.children,Ai,Ac+1);Ah.append(Ai)}Ah.data("select2-data",Ao);An.push(Ah[0])}Ae.append(An);x.text(p.formatMatches(Ag.length))};Aa(z,w,0)}},K.fn.select2.defaults,p);if(typeof(p.id)!=="function"){r=p.id;p.id=function(v){return v[r]}}if(K.isArray(p.element.data("select2Tags"))){if("tags" in p){throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+p.element.attr("id")}p.tags=p.element.data("select2Tags")}if(q){p.query=this.bind(function(x){var Aa={results:[],more:false},z=x.term,v,w,y;y=function(Ad,Ab){var Ac;if(Ad.is("option")){if(x.matcher(z,Ad.text(),Ad)){Ab.push(t.optionToData(Ad))}}else{if(Ad.is("optgroup")){Ac=t.optionToData(Ad);Ad.children().each2(function(Af,Ae){y(Ae,Ac.children)});if(Ac.children.length>0){Ab.push(Ac)}}}};v=u.children();if(this.getPlaceholder()!==A&&v.length>0){w=this.getPlaceholderOption();if(w){v=v.not(w)}}v.each2(function(Ac,Ab){y(Ab,Aa.results)});x.callback(Aa)});p.id=function(v){return v.id}}else{if(!("query" in p)){if("ajax" in p){s=p.element.data("ajax-url");if(s&&s.length>0){p.ajax.url=s}p.query=L.call(p.element,p.ajax)}else{if("data" in p){p.query=m(p.data)}else{if("tags" in p){p.query=E(p.tags);if(p.createSearchChoice===A){p.createSearchChoice=function(v){return{id:K.trim(v),text:K.trim(v)}}}if(p.initSelection===A){p.initSelection=function(w,x){var v=[];K(T(w.val(),p.separator,p.transformVal)).each(function(){var z={id:this,text:this},y=p.tags;if(K.isFunction(y)){y=y()}K(y).each(function(){if(e(this.id,z.id)){z=this;return false}});v.push(z)});x(v)}}}}}}}if(typeof(p.query)!=="function"){throw"query function not defined for Select2 "+p.element.attr("id")}if(p.createSearchChoicePosition==="top"){p.createSearchChoicePosition=function(v,w){v.unshift(w)}}else{if(p.createSearchChoicePosition==="bottom"){p.createSearchChoicePosition=function(v,w){v.push(w)}}else{if(typeof(p.createSearchChoicePosition)!=="function"){throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function"}}}return p},monitorSource:function(){var p=this.opts.element,r,q=this;p.on("change.select2",this.bind(function(s){if(this.opts.element.data("select2-change-triggered")!==true){this.initSelection()}}));this._sync=this.bind(function(){var t=p.prop("disabled");if(t===A){t=false}this.enable(!t);var s=p.prop("readonly");if(s===A){s=false}this.readonly(s);if(this.container){a(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(k(this.opts.containerCssClass,this.opts.element))}if(this.dropdown){a(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(k(this.opts.dropdownCssClass,this.opts.element))}});if(p.length&&p[0].attachEvent){p.each(function(){this.attachEvent("onpropertychange",q._sync)})}r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(r!==A){if(this.propertyObserver){delete this.propertyObserver;this.propertyObserver=null}this.propertyObserver=new r(function(s){K.each(s,q._sync)});this.propertyObserver.observe(p.get(0),{attributes:true,subtree:false})}},triggerSelect:function(q){var p=K.Event("select2-selecting",{val:this.id(q),object:q,choice:q});this.opts.element.trigger(p);return !p.isDefaultPrevented()},triggerChange:function(p){p=p||{};p=K.extend({},p,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",true);this.opts.element.trigger(p);this.opts.element.data("select2-change-triggered",false);this.opts.element.click();if(this.opts.blurOnChange){this.opts.element.blur()}},isInterfaceEnabled:function(){return this.enabledInterface===true},enableInterface:function(){var q=this._enabled&&!this._readonly,p=!q;if(q===this.enabledInterface){return false}this.container.toggleClass("select2-container-disabled",p);this.close();this.enabledInterface=q;return true},enable:function(p){if(p===A){p=true}if(this._enabled===p){return}this._enabled=p;this.opts.element.prop("disabled",!p);this.enableInterface()},disable:function(){this.enable(false)},readonly:function(p){if(p===A){p=false}if(this._readonly===p){return}this._readonly=p;this.opts.element.prop("readonly",p);this.enableInterface()},opened:function(){return(this.container)?this.container.hasClass("select2-dropdown-open"):false},positionDropdown:function(){var Ad=this.dropdown,v=this.container,Aj=v.offset(),x=v.outerHeight(false),Ac=v.outerWidth(false),s=Ad.outerHeight(false),Ae=K(window),Ai=Ae.width(),Af=Ae.height(),Ag=Ae.scrollLeft()+Ai,t=Ae.scrollTop()+Af,q=Aj.top+x,r=Aj.left,Ab=q+s<=t,Al=(Aj.top-s)>=Ae.scrollTop(),z=Ad.outerWidth(false),u=function(){return r+z<=Ag},Am=function(){return Aj.left+Ag+v.outerWidth(false)>z},Ak=Ad.hasClass("select2-drop-above"),Aa,y,Ah,p,w;if(Ak){y=true;if(!Al&&Ab){Ah=true;y=false}}else{y=false;if(!Ab&&Al){Ah=true;y=true}}if(Ah){Ad.hide();Aj=this.container.offset();x=this.container.outerHeight(false);Ac=this.container.outerWidth(false);s=Ad.outerHeight(false);Ag=Ae.scrollLeft()+Ai;t=Ae.scrollTop()+Af;q=Aj.top+x;r=Aj.left;z=Ad.outerWidth(false);Ad.show();this.focusSearch()}if(this.opts.dropdownAutoWidth){w=K(".select2-results",Ad)[0];Ad.addClass("select2-drop-auto-width");Ad.css("width","");z=Ad.outerWidth(false)+(w.scrollHeight===w.clientHeight?0:Y.width);z>Ac?Ac=z:z=Ac;s=Ad.outerHeight(false)}else{this.container.removeClass("select2-drop-auto-width")}if(this.body.css("position")!=="static"){Aa=this.body.offset();q-=Aa.top;r-=Aa.left}if(!u()&&Am()){r=Aj.left+this.container.outerWidth(false)-z}p={left:r,width:Ac};if(y){p.top=Aj.top-s;p.bottom="auto";this.container.addClass("select2-drop-above");Ad.addClass("select2-drop-above")}else{p.top=q;p.bottom="auto";this.container.removeClass("select2-drop-above");Ad.removeClass("select2-drop-above")}p=K.extend(p,k(this.opts.dropdownCss,this.opts.element));Ad.css(p)},shouldOpen:function(){var p;if(this.opened()){return false}if(this._enabled===false||this._readonly===true){return false}p=K.Event("select2-opening");this.opts.element.trigger(p);return !p.isDefaultPrevented()},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){if(!this.shouldOpen()){return false}this.opening();W.on("mousemove.select2Event",function(p){O.x=p.pageX;O.y=p.pageY});return true},opening:function(){var s=this.containerEventName,u="scroll."+s,t="resize."+s,r="orientationchange."+s,p;this.container.addClass("select2-dropdown-open").addClass("select2-container-active");this.clearDropdownAlignmentPreference();if(this.dropdown[0]!==this.body.children().last()[0]){this.dropdown.detach().appendTo(this.body)}p=K("#select2-drop-mask");if(p.length===0){p=K(document.createElement("div"));p.attr("id","select2-drop-mask").attr("class","select2-drop-mask");p.hide();p.appendTo(this.body);p.on("mousedown touchstart click",function(x){G(p);var v=K("#select2-drop"),w;if(v.length>0){w=v.data("select2");if(w.opts.selectOnBlur){w.selectHighlighted({noFocus:true})}w.close();x.preventDefault();x.stopPropagation()}})}if(this.dropdown.prev()[0]!==p[0]){this.dropdown.before(p)}K("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");p.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");var q=this;this.container.parents().add(window).each(function(){K(this).on(t+" "+u+" "+r,function(v){if(q.opened()){q.positionDropdown()}})})},close:function(){if(!this.opened()){return}var q=this.containerEventName,s="scroll."+q,r="resize."+q,p="orientationchange."+q;this.container.parents().add(window).each(function(){K(this).off(s).off(r).off(p)});this.clearDropdownAlignmentPreference();K("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active");this.results.empty();W.off("mousemove.select2Event");this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger(K.Event("select2-close"))},externalSearch:function(p){this.open();this.search.val(p);this.updateResults(false)},clearSearch:function(){},getMaximumSelectionSize:function(){return k(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t=this.results,p,u,w,q,x,s,v,r;u=this.highlight();if(u<0){return}if(u==0){t.scrollTop(0);return}p=this.findHighlightableChoices().find(".select2-result-label");w=K(p[u]);r=(w.offset()||{}).top||0;q=r+w.outerHeight(true);if(u===p.length-1){v=t.find("li.select2-more-results");if(v.length>0){q=v.offset().top+v.outerHeight(true)}}x=t.offset().top+t.outerHeight(false);if(q>x){t.scrollTop(t.scrollTop()+(q-x))}s=r-t.offset().top;if(s<0&&w.css("display")!="none"){t.scrollTop(t.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(r){var q=this.findHighlightableChoices(),s=this.highlight();while(s>-1&&s<q.length){s+=r;var p=K(q[s]);if(p.hasClass("select2-result-selectable")&&!p.hasClass("select2-disabled")&&!p.hasClass("select2-selected")){this.highlight(s);break}}},highlight:function(r){var q=this.findHighlightableChoices(),p,s;if(arguments.length===0){return i(q.filter(".select2-highlighted")[0],q.get())}if(r>=q.length){r=q.length-1}if(r<0){r=0}this.removeHighlight();p=K(q[r]);p.addClass("select2-highlighted");this.search.attr("aria-activedescendant",p.find(".select2-result-label").attr("id"));this.ensureHighlightVisible();this.liveRegion.text(p.text());s=p.data("select2-data");if(s){this.opts.element.trigger({type:"select2-highlight",val:this.id(s),choice:s})}},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=true},clearTouchMoved:function(){this._touchMoved=false},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(r){var q=K(r.target).closest(".select2-result-selectable");if(q.length>0&&!q.is(".select2-highlighted")){var p=this.findHighlightableChoices();this.highlight(p.index(q))}else{if(q.length==0){this.removeHighlight()}}},loadMoreIfNeeded:function(){var u=this.results,v=u.find("li.select2-more-results"),r,p=this.resultsPage+1,t=this,s=this.search.val(),q=this.context;if(v.length===0){return}r=v.offset().top-u.offset().top-u.height();if(r<=this.opts.loadMorePadding){v.addClass("select2-active");this.opts.query({element:this.opts.element,term:s,page:p,context:q,matcher:this.opts.matcher,callback:this.bind(function(w){if(!t.opened()){return}t.opts.populateResults.call(this,u,w.results,{term:s,page:p,context:q});t.postprocessResults(w,false,false);if(w.more===true){v.detach().appendTo(u).html(t.opts.escapeMarkup(k(t.opts.formatLoadMore,t.opts.element,p+1)));window.setTimeout(function(){t.loadMoreIfNeeded()},10)}else{v.remove()}t.positionDropdown();t.resultsPage=p;t.context=w.context;this.opts.element.trigger({type:"select2-loaded",items:w})})})}},tokenize:function(){},updateResults:function(w){var z=this.search,t=this.results,Ab=this.opts,u,Aa=this,v,p=z.val(),s=K.data(this.container,"select2-last-term"),y;if(w!==true&&s&&e(p,s)){return}K.data(this.container,"select2-last-term",p);if(w!==true&&(this.showSearchInput===false||!this.opened())){return}function q(){z.removeClass("select2-active");Aa.positionDropdown();if(t.find(".select2-no-results,.select2-selection-limit,.select2-searching").length){Aa.liveRegion.text(t.text())}else{Aa.liveRegion.text(Aa.opts.formatMatches(t.find('.select2-result-selectable:not(".select2-selected")').length))}}function x(Ac){t.html(Ac);q()}y=++this.queryCount;var r=this.getMaximumSelectionSize();if(r>=1){u=this.data();if(K.isArray(u)&&u.length>=r&&I(Ab.formatSelectionTooBig,"formatSelectionTooBig")){x("<li class='select2-selection-limit'>"+k(Ab.formatSelectionTooBig,Ab.element,r)+"</li>");return}}if(z.val().length<Ab.minimumInputLength){if(I(Ab.formatInputTooShort,"formatInputTooShort")){x("<li class='select2-no-results'>"+k(Ab.formatInputTooShort,Ab.element,z.val(),Ab.minimumInputLength)+"</li>")}else{x("")}if(w&&this.showSearch){this.showSearch(true)}return}if(Ab.maximumInputLength&&z.val().length>Ab.maximumInputLength){if(I(Ab.formatInputTooLong,"formatInputTooLong")){x("<li class='select2-no-results'>"+k(Ab.formatInputTooLong,Ab.element,z.val(),Ab.maximumInputLength)+"</li>")}else{x("")}return}if(Ab.formatSearching&&this.findHighlightableChoices().length===0){x("<li class='select2-searching'>"+k(Ab.formatSearching,Ab.element)+"</li>")}z.addClass("select2-active");this.removeHighlight();v=this.tokenize();if(v!=A&&v!=null){z.val(v)}this.resultsPage=1;Ab.query({element:Ab.element,term:z.val(),page:this.resultsPage,context:null,matcher:Ab.matcher,callback:this.bind(function(Ad){var Ac;if(y!=this.queryCount){return}if(!this.opened()){this.search.removeClass("select2-active");return}if(Ad.hasError!==A&&I(Ab.formatAjaxError,"formatAjaxError")){x("<li class='select2-ajax-error'>"+k(Ab.formatAjaxError,Ab.element,Ad.jqXHR,Ad.textStatus,Ad.errorThrown)+"</li>");return}this.context=(Ad.context===A)?null:Ad.context;if(this.opts.createSearchChoice&&z.val()!==""){Ac=this.opts.createSearchChoice.call(Aa,z.val(),Ad.results);if(Ac!==A&&Ac!==null&&Aa.id(Ac)!==A&&Aa.id(Ac)!==null){if(K(Ad.results).filter(function(){return e(Aa.id(this),Aa.id(Ac))}).length===0){this.opts.createSearchChoicePosition(Ad.results,Ac)}}}if(Ad.results.length===0&&I(Ab.formatNoMatches,"formatNoMatches")){x("<li class='select2-no-results'>"+k(Ab.formatNoMatches,Ab.element,z.val())+"</li>");return}t.empty();Aa.opts.populateResults.call(this,t,Ad.results,{term:z.val(),page:this.resultsPage,context:null});if(Ad.more===true&&I(Ab.formatLoadMore,"formatLoadMore")){t.append("<li class='select2-more-results'>"+Ab.escapeMarkup(k(Ab.formatLoadMore,Ab.element,this.resultsPage))+"</li>");window.setTimeout(function(){Aa.loadMoreIfNeeded()},10)}this.postprocessResults(Ad,w);q();this.opts.element.trigger({type:"select2-loaded",items:Ad})})})},cancel:function(){this.close()},blur:function(){if(this.opts.selectOnBlur){this.selectHighlighted({noFocus:true})}this.close();this.container.removeClass("select2-container-active");if(this.search[0]===document.activeElement){this.search.blur()}this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){N(this.search)},selectHighlighted:function(q){if(this._touchMoved){this.clearTouchMoved();return}var r=this.highlight(),s=this.results.find(".select2-highlighted"),p=s.closest(".select2-result").data("select2-data");if(p){this.highlight(r);this.onSelect(p,q)}else{if(q&&q.noFocus){this.close()}}},getPlaceholder:function(){var p;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((p=this.getPlaceholderOption())!==A?p.text():A)},getPlaceholderOption:function(){if(this.select){var p=this.select.children("option").first();if(this.opts.placeholderOption!==A){return(this.opts.placeholderOption==="first"&&p)||(typeof this.opts.placeholderOption==="function"&&this.opts.placeholderOption(this.select))}else{if(K.trim(p.text())===""&&p.val()===""){return p}}}},initContainerWidth:function(){function q(){var s,r,t,u,w,v;if(this.opts.width==="off"){return null}else{if(this.opts.width==="element"){return this.opts.element.outerWidth(false)===0?"auto":this.opts.element.outerWidth(false)+"px"}else{if(this.opts.width==="copy"||this.opts.width==="resolve"){s=this.opts.element.attr("style");if(s!==A){r=s.split(";");for(u=0,w=r.length;u<w;u=u+1){v=r[u].replace(/\s/g,"");t=v.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i);if(t!==null&&t.length>=1){return t[1]}}}if(this.opts.width==="resolve"){s=this.opts.element.css("width");if(s.indexOf("%")>0){return s}return(this.opts.element.outerWidth(false)===0?"auto":this.opts.element.outerWidth(false)+"px")}return null}else{if(K.isFunction(this.opts.width)){return this.opts.width()}else{return this.opts.width}}}}}var p=q.call(this);if(p!==null){this.container.css("width",p)}}});S=M(B,{createContainer:function(){var p=K(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""));return p},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.focusser.prop("disabled",!this.isInterfaceEnabled())}},opening:function(){var q,p,r;if(this.opts.minimumResultsForSearch>=0){this.showSearch(true)}this.parent.opening.apply(this,arguments);if(this.showSearchInput!==false){this.search.val(this.focusser.val())}if(this.opts.shouldFocusInput(this)){this.search.focus();q=this.search.get(0);if(q.createTextRange){p=q.createTextRange();p.collapse(false);p.select()}else{if(q.setSelectionRange){r=this.search.val().length;q.setSelectionRange(r,r)}}}if(this.search.val()===""){if(this.nextSearchTerm!=A){this.search.val(this.nextSearchTerm);this.search.select()}}this.focusser.prop("disabled",true).val("");this.updateResults(true);this.opts.element.trigger(K.Event("select2-open"))},close:function(){if(!this.opened()){return}this.parent.close.apply(this,arguments);this.focusser.prop("disabled",false);if(this.opts.shouldFocusInput(this)){this.focusser.focus()}},focus:function(){if(this.opened()){this.close()}else{this.focusser.prop("disabled",false);if(this.opts.shouldFocusInput(this)){this.focusser.focus()}}},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.prop("disabled",false);if(this.opts.shouldFocusInput(this)){this.focusser.focus()}},destroy:function(){K("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);Z.call(this,"selection","focusser")},initContainer:function(){var r,q=this.container,t=this.dropdown,p=J(),u;if(this.opts.minimumResultsForSearch<0){this.showSearch(false)}else{this.showSearch(true)}this.selection=r=q.find(".select2-choice");this.focusser=q.find(".select2-focusser");r.find(".select2-chosen").attr("id","select2-chosen-"+p);this.focusser.attr("aria-labelledby","select2-chosen-"+p);this.results.attr("id","select2-results-"+p);this.search.attr("aria-owns","select2-results-"+p);this.focusser.attr("id","s2id_autogen"+p);u=K("label[for='"+this.opts.element.attr("id")+"']");this.opts.element.focus(this.bind(function(){this.focus()}));this.focusser.prev().text(u.text()).attr("for",this.focusser.attr("id"));var s=this.opts.element.attr("title");this.opts.element.attr("title",(s||u.text()));this.focusser.attr("tabindex",this.elementTabIndex);this.search.attr("id",this.focusser.attr("id")+"_search");this.search.prev().text(K("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id"));this.search.on("keydown",this.bind(function(v){if(!this.isInterfaceEnabled()){return}if(229==v.keyCode){return}if(v.which===h.PAGE_UP||v.which===h.PAGE_DOWN){j(v);return}switch(v.which){case h.UP:case h.DOWN:this.moveHighlight((v.which===h.UP)?-1:1);j(v);return;case h.ENTER:this.selectHighlighted();j(v);return;case h.TAB:this.selectHighlighted({noFocus:true});return;case h.ESC:this.cancel(v);j(v);return}}));this.search.on("blur",this.bind(function(v){if(document.activeElement===this.body.get(0)){window.setTimeout(this.bind(function(){if(this.opened()){this.search.focus()}}),0)}}));this.focusser.on("keydown",this.bind(function(v){if(!this.isInterfaceEnabled()){return}if(v.which===h.TAB||h.isControl(v)||h.isFunctionKey(v)||v.which===h.ESC){return}if(this.opts.openOnEnter===false&&v.which===h.ENTER){j(v);return}if(v.which==h.DOWN||v.which==h.UP||(v.which==h.ENTER&&this.opts.openOnEnter)){if(v.altKey||v.ctrlKey||v.shiftKey||v.metaKey){return}this.open();j(v);return}if(v.which==h.DELETE||v.which==h.BACKSPACE){if(this.opts.allowClear){this.clear()}j(v);return}}));l(this.focusser);this.focusser.on("keyup-change input",this.bind(function(v){if(this.opts.minimumResultsForSearch>=0){v.stopPropagation();if(this.opened()){return}this.open()}}));r.on("mousedown touchstart","abbr",this.bind(function(v){if(!this.isInterfaceEnabled()){return}this.clear();H(v);this.close();if(this.selection){this.selection.focus()}}));r.on("mousedown touchstart",this.bind(function(v){G(r);if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(K.Event("select2-focus"))}if(this.opened()){this.close()}else{if(this.isInterfaceEnabled()){this.open()}}j(v)}));t.on("mousedown touchstart",this.bind(function(){if(this.opts.shouldFocusInput(this)){this.search.focus()}}));r.on("focus",this.bind(function(v){j(v)}));this.focusser.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(K.Event("select2-focus"))}this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){if(!this.opened()){this.container.removeClass("select2-container-active");this.opts.element.trigger(K.Event("select2-blur"))}}));this.search.on("focus",this.bind(function(){if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(K.Event("select2-focus"))}this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.hide();this.setPlaceholder()},clear:function(r){var s=this.selection.data("select2-data");if(s){var p=K.Event("select2-clearing");this.opts.element.trigger(p);if(p.isDefaultPrevented()){return}var q=this.getPlaceholderOption();this.opts.element.val(q?q.val():"");this.selection.find(".select2-chosen").empty();this.selection.removeData("select2-data");this.setPlaceholder();if(r!==false){this.opts.element.trigger({type:"select2-removed",val:this.id(s),choice:s});this.triggerChange({removed:s})}}},initSelection:function(){var q;if(this.isPlaceholderOptionSelected()){this.updateSelection(null);this.close();this.setPlaceholder()}else{var p=this;this.opts.initSelection.call(null,this.opts.element,function(r){if(r!==A&&r!==null){p.updateSelection(r);p.close();p.setPlaceholder();p.nextSearchTerm=p.opts.nextSearchTerm(r,p.search.val())}})}},isPlaceholderOptionSelected:function(){var p;if(this.getPlaceholder()===A){return false}return((p=this.getPlaceholderOption())!==A&&p.prop("selected"))||(this.opts.element.val()==="")||(this.opts.element.val()===A)||(this.opts.element.val()===null)},prepareOpts:function(){var p=this.parent.prepareOpts.apply(this,arguments),q=this;if(p.element.get(0).tagName.toLowerCase()==="select"){p.initSelection=function(r,t){var s=r.find("option").filter(function(){return this.selected&&!this.disabled});t(q.optionToData(s))}}else{if("data" in p){p.initSelection=p.initSelection||function(s,u){var t=s.val();var r=null;p.query({matcher:function(x,y,v){var w=e(t,p.id(v));if(w){r=v}return w},callback:!K.isFunction(u)?K.noop:function(){u(r)}})}}}return p},getPlaceholder:function(){if(this.select){if(this.getPlaceholderOption()===A){return A}}return this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var p=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&p!==A){if(this.select&&this.getPlaceholderOption()===A){return}this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(p));this.selection.addClass("select2-default");this.container.removeClass("select2-allowclear")}},postprocessResults:function(v,t,u){var p=0,s=this,r=true;this.findHighlightableChoices().each2(function(x,w){if(e(s.id(w.data("select2-data")),s.opts.element.val())){p=x;return false}});if(u!==false){if(t===true&&p>=0){this.highlight(p)}else{this.highlight(0)}}if(t===true){var q=this.opts.minimumResultsForSearch;if(q>=0){this.showSearch(P(v.results)>=q)}}},showSearch:function(p){if(this.showSearchInput===p){return}this.showSearchInput=p;this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!p);this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!p);K(this.dropdown,this.container).toggleClass("select2-with-searchbox",p)},onSelect:function(s,r){if(!this.triggerSelect(s)){return}var q=this.opts.element.val(),p=this.data();this.opts.element.val(this.id(s));this.updateSelection(s);this.opts.element.trigger({type:"select2-selected",val:this.id(s),choice:s});this.nextSearchTerm=this.opts.nextSearchTerm(s,this.search.val());this.close();if((!r||!r.noFocus)&&this.opts.shouldFocusInput(this)){this.focusser.focus()}if(!e(q,this.id(s))){this.triggerChange({added:s,removed:p})}},updateSelection:function(s){var q=this.selection.find(".select2-chosen"),p,r;this.selection.data("select2-data",s);q.empty();if(s!==null){p=this.opts.formatSelection(s,q,this.opts.escapeMarkup)}if(p!==A){q.append(p)}r=this.opts.formatSelectionCssClass(s,q);if(r!==A){q.addClass(r)}this.selection.removeClass("select2-default");if(this.opts.allowClear&&this.getPlaceholder()!==A){this.container.addClass("select2-allowclear")}},val:function(){var s,r=false,t=null,q=this,p=this.data();if(arguments.length===0){return this.opts.element.val()}s=arguments[0];if(arguments.length>1){r=arguments[1]}if(this.select){this.select.val(s).find("option").filter(function(){return this.selected}).each2(function(v,u){t=q.optionToData(u);return false});this.updateSelection(t);this.setPlaceholder();if(r){this.triggerChange({added:t,removed:p})}}else{if(!s&&s!==0){this.clear(r);return}if(this.opts.initSelection===A){throw new Error("cannot call val() if initSelection() is not defined")}this.opts.element.val(s);this.opts.initSelection(this.opts.element,function(u){q.opts.element.val(!u?"":q.id(u));q.updateSelection(u);q.setPlaceholder();if(r){q.triggerChange({added:u,removed:p})}})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(p){var r,q=false;if(arguments.length===0){r=this.selection.data("select2-data");if(r==A){r=null}return r}else{if(arguments.length>1){q=arguments[1]}if(!p){this.clear(q)}else{r=this.data();this.opts.element.val(!p?"":this.id(p));this.updateSelection(p);if(q){this.triggerChange({added:p,removed:r})}}}}});Q=M(B,{createContainer:function(){var p=K(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return p},prepareOpts:function(){var p=this.parent.prepareOpts.apply(this,arguments),q=this;if(p.element.get(0).tagName.toLowerCase()==="select"){p.initSelection=function(s,t){var r=[];s.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(v,u){r.push(q.optionToData(u))});t(r)}}else{if("data" in p){p.initSelection=p.initSelection||function(t,u){var s=T(t.val(),p.separator,p.transformVal);var r=[];p.query({matcher:function(x,y,v){var w=K.grep(s,function(z){return e(z,p.id(v))}).length;if(w){r.push(v)}return w},callback:!K.isFunction(u)?K.noop:function(){var w=[];for(var y=0;y<s.length;y++){var z=s[y];for(var x=0;x<r.length;x++){var v=r[x];if(e(z,p.id(v))){w.push(v);r.splice(x,1);break}}}u(w)}})}}}return p},selectChoice:function(p){var q=this.container.find(".select2-search-choice-focus");if(q.length&&p&&p[0]==q[0]){}else{if(q.length){this.opts.element.trigger("choice-deselected",q)}q.removeClass("select2-search-choice-focus");if(p&&p.length){this.close();p.addClass("select2-search-choice-focus");this.opts.element.trigger("choice-selected",p)}}},destroy:function(){K("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments);Z.call(this,"searchContainer","selection")},initContainer:function(){var q=".select2-choices",p;this.searchContainer=this.container.find(".select2-search-field");this.selection=p=this.container.find(q);var r=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(s){r.search[0].focus();r.selectChoice(K(this))});this.search.attr("id","s2id_autogen"+J());this.search.prev().text(K("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id"));this.opts.element.focus(this.bind(function(){this.focus()}));this.search.on("input paste",this.bind(function(){if(this.search.attr("placeholder")&&this.search.val().length==0){return}if(!this.isInterfaceEnabled()){return}if(!this.opened()){this.open()}}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(w){if(!this.isInterfaceEnabled()){return}++this.keydowns;var x=p.find(".select2-search-choice-focus");var s=x.prev(".select2-search-choice:not(.select2-locked)");var t=x.next(".select2-search-choice:not(.select2-locked)");var v=R(this.search);if(x.length&&(w.which==h.LEFT||w.which==h.RIGHT||w.which==h.BACKSPACE||w.which==h.DELETE||w.which==h.ENTER)){var u=x;if(w.which==h.LEFT&&s.length){u=s}else{if(w.which==h.RIGHT){u=t.length?t:null}else{if(w.which===h.BACKSPACE){if(this.unselect(x.first())){this.search.width(10);u=s.length?s:t}}else{if(w.which==h.DELETE){if(this.unselect(x.first())){this.search.width(10);u=t.length?t:null}}else{if(w.which==h.ENTER){u=null}}}}}this.selectChoice(u);j(w);if(!u||!u.length){this.open()}return}else{if(((w.which===h.BACKSPACE&&this.keydowns==1)||w.which==h.LEFT)&&(v.offset==0&&!v.length)){this.selectChoice(p.find(".select2-search-choice:not(.select2-locked)").last());j(w);return}else{this.selectChoice(null)}}if(this.opened()){switch(w.which){case h.UP:case h.DOWN:this.moveHighlight((w.which===h.UP)?-1:1);j(w);return;case h.ENTER:this.selectHighlighted();j(w);return;case h.TAB:this.selectHighlighted({noFocus:true});this.close();return;case h.ESC:this.cancel(w);j(w);return}}if(w.which===h.TAB||h.isControl(w)||h.isFunctionKey(w)||w.which===h.BACKSPACE||w.which===h.ESC){return}if(w.which===h.ENTER){if(this.opts.openOnEnter===false){return}else{if(w.altKey||w.ctrlKey||w.shiftKey||w.metaKey){return}}}this.open();if(w.which===h.PAGE_UP||w.which===h.PAGE_DOWN){j(w)}if(w.which===h.ENTER){j(w)}}));this.search.on("keyup",this.bind(function(s){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(s){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);if(!this.opened()){this.clearSearch()}s.stopImmediatePropagation();this.opts.element.trigger(K.Event("select2-blur"))}));this.container.on("click",q,this.bind(function(s){if(!this.isInterfaceEnabled()){return}if(K(s.target).closest(".select2-search-choice").length>0){return}this.selectChoice(null);this.clearPlaceholder();if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(K.Event("select2-focus"))}this.open();this.focusSearch();s.preventDefault()}));this.container.on("focus",q,this.bind(function(){if(!this.isInterfaceEnabled()){return}if(!this.container.hasClass("select2-container-active")){this.opts.element.trigger(K.Event("select2-focus"))}this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active");this.clearPlaceholder()}));this.initContainerWidth();this.opts.element.hide();this.clearSearch()},enableInterface:function(){if(this.parent.enableInterface.apply(this,arguments)){this.search.prop("disabled",!this.isInterfaceEnabled())}},initSelection:function(){var q;if(this.opts.element.val()===""&&this.opts.element.text()===""){this.updateSelection([]);this.close();this.clearSearch()}if(this.select||this.opts.element.val()!==""){var p=this;this.opts.initSelection.call(null,this.opts.element,function(r){if(r!==A&&r!==null){p.updateSelection(r);p.close();p.clearSearch()}})}},clearSearch:function(){var p=this.getPlaceholder(),q=this.getMaxSearchWidth();if(p!==A&&this.getVal().length===0&&this.search.hasClass("select2-focused")===false){this.search.val(p).addClass("select2-default");this.search.width(q>0?q:this.container.css("width"))}else{this.search.val("").width(10)}},clearPlaceholder:function(){if(this.search.hasClass("select2-default")){this.search.val("").removeClass("select2-default")}},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();if(this.search.val()===""){if(this.nextSearchTerm!=A){this.search.val(this.nextSearchTerm);this.search.select()}}this.updateResults(true);if(this.opts.shouldFocusInput(this)){this.search.focus()}this.opts.element.trigger(K.Event("select2-open"))},close:function(){if(!this.opened()){return}this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(s){var q=[],p=[],r=this;K(s).each(function(){if(i(r.id(this),q)<0){q.push(r.id(this));p.push(this)}});s=p;this.selection.find(".select2-search-choice").remove();K(s).each(function(){r.addSelectedChoice(this)});r.postprocessResults()},tokenize:function(){var p=this.search.val();p=this.opts.tokenizer.call(this,p,this.data(),this.bind(this.onSelect),this.opts);if(p!=null&&p!=A){this.search.val(p);if(p.length>0){this.open()}}},onSelect:function(q,p){if(!this.triggerSelect(q)||q.text===""){return}this.addSelectedChoice(q);this.opts.element.trigger({type:"selected",val:this.id(q),choice:q});this.nextSearchTerm=this.opts.nextSearchTerm(q,this.search.val());this.clearSearch();this.updateResults();if(this.select||!this.opts.closeOnSelect){this.postprocessResults(q,false,this.opts.closeOnSelect===true)}if(this.opts.closeOnSelect){this.close();this.search.width(10)}else{if(this.countSelectableResults()>0){this.search.width(10);this.resizeSearch();if(this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()){this.updateResults(true)}else{if(this.nextSearchTerm!=A){this.search.val(this.nextSearchTerm);this.updateResults();this.search.select()}}this.positionDropdown()}else{this.close();this.search.width(10)}}this.triggerChange({added:q});if(!p||!p.noFocus){this.focusSearch()}},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(u){var r=!u.locked,v=K("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),q=K("<li class='select2-search-choice select2-locked'><div></div></li>");var t=r?v:q,p=this.id(u),s=this.getVal(),w,x;w=this.opts.formatSelection(u,t.find("div"),this.opts.escapeMarkup);if(w!=A){t.find("div").replaceWith(K("<div></div>").html(w))}x=this.opts.formatSelectionCssClass(u,t.find("div"));if(x!=A){t.addClass(x)}if(r){t.find(".select2-search-choice-close").on("mousedown",j).on("click dblclick",this.bind(function(y){if(!this.isInterfaceEnabled()){return}this.unselect(K(y.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");j(y);this.close();this.focusSearch()})).on("focus",this.bind(function(){if(!this.isInterfaceEnabled()){return}this.container.addClass("select2-container-active");this.dropdown.addClass("select2-drop-active")}))}t.data("select2-data",u);t.insertBefore(this.searchContainer);s.push(p);this.setVal(s)},unselect:function(s){var q=this.getVal(),t,r;s=s.closest(".select2-search-choice");if(s.length===0){throw"Invalid argument: "+s+". Must be .select2-search-choice"}t=s.data("select2-data");if(!t){return}var p=K.Event("select2-removing");p.val=this.id(t);p.choice=t;this.opts.element.trigger(p);if(p.isDefaultPrevented()){return false}while((r=i(this.id(t),q))>=0){q.splice(r,1);this.setVal(q);if(this.select){this.postprocessResults()}}s.remove();this.opts.element.trigger({type:"select2-removed",val:this.id(t),choice:t});this.triggerChange({removed:t});return true},postprocessResults:function(v,t,u){var r=this.getVal(),p=this.results.find(".select2-result"),q=this.results.find(".select2-result-with-children"),s=this;p.each2(function(x,w){var y=s.id(w.data("select2-data"));if(i(y,r)>=0){w.addClass("select2-selected");w.find(".select2-result-selectable").addClass("select2-selected")}});q.each2(function(x,w){if(!w.is(".select2-result-selectable")&&w.find(".select2-result-selectable:not(.select2-selected)").length===0){w.addClass("select2-selected")}});if(this.highlight()==-1&&u!==false&&this.opts.closeOnSelect===true){s.highlight(0)}if(!this.opts.createSearchChoice&&!p.filter(".select2-result:not(.select2-selected)").length>0){if(!v||v&&!v.more&&this.results.find(".select2-no-results").length===0){if(I(s.opts.formatNoMatches,"formatNoMatches")){this.results.append("<li class='select2-no-results'>"+k(s.opts.formatNoMatches,s.opts.element,s.search.val())+"</li>")}}}},getMaxSearchWidth:function(){return this.selection.width()-o(this.search)},resizeSearch:function(){var q,s,t,r,u,p=o(this.search);q=D(this.search)+10;s=this.search.offset().left;t=this.selection.width();r=this.selection.offset().left;u=t-(s-r)-p;if(u<q){u=t-p}if(u<40){u=t-p}if(u<=0){u=q}this.search.width(Math.floor(u))},getVal:function(){var p;if(this.select){p=this.select.val();return p===null?[]:p}else{p=this.opts.element.val();return T(p,this.opts.separator,this.opts.transformVal)}},setVal:function(q){var p;if(this.select){this.select.val(q)}else{p=[];K(q).each(function(){if(i(this,p)<0){p.push(this)}});this.opts.element.val(p.length===0?"":p.join(this.opts.separator))}},buildChangeDetails:function(q,p){var p=p.slice(0),q=q.slice(0);for(var r=0;r<p.length;r++){for(var s=0;s<q.length;s++){if(e(this.opts.id(p[r]),this.opts.id(q[s]))){p.splice(r,1);if(r>0){r--}q.splice(s,1);s--}}}return{added:p,removed:q}},val:function(s,r){var p,q=this;if(arguments.length===0){return this.getVal()}p=this.data();if(!p.length){p=[]}if(!s&&s!==0){this.opts.element.val("");this.updateSelection([]);this.clearSearch();if(r){this.triggerChange({added:this.data(),removed:p})}return}this.setVal(s);if(this.select){this.opts.initSelection(this.select,this.bind(this.updateSelection));if(r){this.triggerChange(this.buildChangeDetails(p,this.data()))}}else{if(this.opts.initSelection===A){throw new Error("val() cannot be called if initSelection() is not defined")}this.opts.initSelection(this.opts.element,function(u){var t=K.map(u,q.id);q.setVal(t);q.updateSelection(u);q.clearSearch();if(r){q.triggerChange(q.buildChangeDetails(p,q.data()))}})}this.clearSearch()},onSortStart:function(){if(this.select){throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.")}this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var q=[],p=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){q.push(p.opts.id(K(this).data("select2-data")))});this.setVal(q);this.triggerChange()},data:function(t,s){var r=this,q,p;if(arguments.length===0){return this.selection.children(".select2-search-choice").map(function(){return K(this).data("select2-data")}).get()}else{p=this.data();if(!t){t=[]}q=K.map(t,function(u){return r.opts.id(u)});this.setVal(q);this.updateSelection(t);this.clearSearch();if(s){this.triggerChange(this.buildChangeDetails(p,this.data()))}}}});K.fn.select2=function(){var u=Array.prototype.slice.call(arguments,0),y,v,s,r,t,w=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],p=["opened","isFocused","container","dropdown"],q=["val","data"],x={search:"externalSearch"};this.each(function(){if(u.length===0||typeof(u[0])==="object"){y=u.length===0?{}:K.extend({},u[0]);y.element=K(this);if(y.element.get(0).tagName.toLowerCase()==="select"){t=y.element.prop("multiple")}else{t=y.multiple||false;if("tags" in y){y.multiple=t=true}}v=t?new window.Select2["class"].multi():new window.Select2["class"].single();v.init(y)}else{if(typeof(u[0])==="string"){if(i(u[0],w)<0){throw"Unknown method: "+u[0]}r=A;v=K(this).data("select2");if(v===A){return}s=u[0];if(s==="container"){r=v.container}else{if(s==="dropdown"){r=v.dropdown}else{if(x[s]){s=x[s]}r=v[s].apply(v,u.slice(1))}}if(i(u[0],p)>=0||(i(u[0],q)>=0&&u.length==1)){return false}}else{throw"Invalid arguments to select2 plugin: "+u}}});return(r===A)?this:r};K.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:true,openOnEnter:true,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(q,p,t,r){var s=[];U(this.text(q),t.term,s,r);return s.join("")},transformVal:function(p){return K.trim(p)},formatSelection:function(r,p,q){return r?q(this.text(r)):A},sortResults:function(r,p,q){return r},formatResultCssClass:function(p){return p.css},formatSelectionCssClass:function(q,p){return A},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(p){return p==A?null:p.id},text:function(p){if(p&&this.data&&this.data.text){if(K.isFunction(this.data.text)){return this.data.text(p)}else{return p[this.data.text]}}else{return p.text}},matcher:function(p,q){return n(""+q).toUpperCase().indexOf(n(""+p).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:C,escapeMarkup:F,blurOnChange:false,selectOnBlur:false,adaptContainerCssClass:function(p){return p},adaptDropdownCssClass:function(p){return null},nextSearchTerm:function(p,q){return A},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(q){var p=(("ontouchstart" in window)||(navigator.msMaxTouchPoints>0));if(!p){return true}if(q.opts.minimumResultsForSearch<0){return false}return true}};K.fn.select2.locales=[];K.fn.select2.locales["en"]={formatMatches:function(p){if(p===1){return"One result is available, press enter to select it."}return p+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(r,p,q){return"Loading failed"},formatInputTooShort:function(r,q){var p=q-r.length;return"Please enter "+p+" or more character"+(p==1?"":"s")},formatInputTooLong:function(q,r){var p=q.length-r;return"Please delete "+p+" character"+(p==1?"":"s")},formatSelectionTooBig:function(p){return"You can only select "+p+" item"+(p==1?"":"s")},formatLoadMore:function(p){return"Loading more results…"},formatSearching:function(){return"Searching…"}};K.extend(K.fn.select2.defaults,K.fn.select2.locales["en"]);K.fn.select2.ajaxDefaults={transport:K.ajax,params:{type:"GET",cache:false,dataType:"json"}};window.Select2={query:{ajax:L,local:m,tags:E},util:{debounce:c,markMatch:U,escapeMarkup:F,stripDiacritics:n},"class":{"abstract":B,"single":S,"multi":Q}}}(jQuery));