/*
 * FullCalendar v2.1.1
 * Docs & License: http://arshaw.com/fullcalendar/
 * (c) 2013 Adam Shaw
 */
(function(A){if(typeof define==="function"&&define.amd){define(["jquery","moment"],A)}else{A(jQuery,moment)}})(function(f,Ab){var AB={lang:"en",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:false,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,weekNumbers:false,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:true,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:false,titleFormat:{month:"MMMM YYYY",week:"ll",day:"LL"},columnFormat:{month:"ddd",week:An,day:"dddd"},timeFormat:{"default":AG},displayEventEnd:{month:false,basicWeek:false,"default":true},isRTL:false,defaultButtonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:false,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:0.75,dragRevertDuration:500,dragScroll:true,unselectAuto:true,dropAccept:"*",eventLimit:false,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:true,windowResizeDelay:200};function AG(AO,AN){return AN.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")}function An(AP,AO){var AN=AO.longDateFormat("L");AN=AN.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,"");if(AP.isRTL){AN+=" ddd"}else{AN="ddd "+AN}return AN}var U={en:{columnFormat:{week:"ddd M/D"},dayPopoverFormat:"dddd, MMMM D"}};var N={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var C=f.fullCalendar={version:"2.1.1"};var b=C.views={};f.fn.fullCalendar=function(AP){var AN=Array.prototype.slice.call(arguments,1);var AO=this;this.each(function(AS,AR){var AT=f(AR);var AU=AT.data("fullCalendar");var AQ;if(typeof AP==="string"){if(AU&&f.isFunction(AU[AP])){AQ=AU[AP].apply(AU,AN);if(!AS){AO=AQ}if(AP==="destroy"){AT.removeData("fullCalendar")}}}else{if(!AU){AU=new a(AT,AP);AT.data("fullCalendar",AU);AU.render()}}});return AO};function AE(AN){i(AB,AN)}function i(AO){function AN(AQ,AR){if(f.isPlainObject(AR)&&f.isPlainObject(AO[AQ])&&!Aw(AQ)){AO[AQ]=i({},AO[AQ],AR)}else{if(AR!==undefined){AO[AQ]=AR}}}for(var AP=1;AP<arguments.length;AP++){f.each(arguments[AP],AN)}return AO}function Aw(AN){return/(Time|Duration)$/.test(AN)}C.langs=U;C.datepickerLang=function(AO,AQ,AP){var AN=U[AO];if(!AN){AN=U[AO]={}}i(AN,{isRTL:AP.isRTL,weekNumberTitle:AP.weekHeader,titleFormat:{month:AP.showMonthAfterYear?"YYYY["+AP.yearSuffix+"] MMMM":"MMMM YYYY["+AP.yearSuffix+"]"},defaultButtonText:{prev:F(AP.prevText),next:F(AP.nextText),today:F(AP.currentText)}});if(f.datepicker){f.datepicker.regional[AQ]=f.datepicker.regional[AO]=AP;f.datepicker.regional.en=f.datepicker.regional[""];f.datepicker.setDefaults(AP)}};C.lang=function(AO,AP){var AN;if(AP){AN=U[AO];if(!AN){AN=U[AO]={}}i(AN,AP||{})}AB.lang=AO};function a(A2,Bc){var Be=this;Bc=Bc||{};var Bz=i({},AB,Bc);var Bk;if(Bz.lang in U){Bk=U[Bz.lang]}else{Bk=U[AB.lang]}if(Bk){Bz=i({},AB,Bk,Bc)}if(Bz.isRTL){Bz=i({},AB,N,Bk||{},Bc)}Be.options=Bz;Be.render=Bp;Be.destroy=BE;Be.refetchEvents=AW;Be.reportEvents=BD;Be.reportEventChange=Bb;Be.rerenderEvents=AU;Be.changeView=Bi;Be.select=Bu;Be.unselect=AY;Be.prev=A8;Be.next=Bw;Be.prevYear=Bq;Be.nextYear=A3;Be.today=Ba;Be.gotoDate=A5;Be.incrementDate=AX;Be.zoomTo=A7;Be.getDate=BA;Be.getCalendar=Bo;Be.getView=Bg;Be.option=BC;Be.trigger=A1;function BG(BI){var BJ=Ab.localeData||Ab.langData;return BJ.call(Ab,BI)||BJ.call(Ab,"en")}var Bv=c(BG(Bz.lang));if(Bz.monthNames){Bv._months=Bz.monthNames}if(Bz.monthNamesShort){Bv._monthsShort=Bz.monthNamesShort}if(Bz.dayNames){Bv._weekdays=Bz.dayNames}if(Bz.dayNamesShort){Bv._weekdaysShort=Bz.dayNamesShort}if(Bz.firstDay!=null){var A6=c(Bv._week);A6.dow=Bz.firstDay;Bv._week=A6}Be.defaultAllDayEventDuration=Ab.duration(Bz.defaultAllDayEventDuration);Be.defaultTimedEventDuration=Ab.duration(Bz.defaultTimedEventDuration);Be.moment=function(){var BI;if(Bz.timezone==="local"){BI=C.moment.apply(null,arguments);if(BI.hasTime()){BI.local()}}else{if(Bz.timezone==="UTC"){BI=C.moment.utc.apply(null,arguments)}else{BI=C.moment.parseZone.apply(null,arguments)}}if("_locale" in BI){BI._locale=Bv}else{BI._lang=Bv}return BI};Be.getIsAmbigTimezone=function(){return Bz.timezone!=="local"&&Bz.timezone!=="UTC"};Be.rezoneDate=function(BI){return Be.moment(BI.toArray())};Be.getNow=function(){var BI=Bz.now;if(typeof BI==="function"){BI=BI()}return Be.moment(BI)};Be.calculateWeekNumber=function(BI){var BJ=Bz.weekNumberCalculation;if(typeof BJ==="function"){return BJ(BI)}else{if(BJ==="local"){return BI.week()}else{if(BJ.toUpperCase()==="ISO"){return BI.isoWeek()}}}};Be.getEventEnd=function(BI){if(BI.end){return BI.end.clone()}else{return Be.getDefaultEventEnd(BI.allDay,BI.start)}};Be.getDefaultEventEnd=function(BK,BI){var BJ=BI.clone();if(BK){BJ.stripTime().add(Be.defaultAllDayEventDuration)}else{BJ.add(Be.defaultTimedEventDuration)}if(Be.getIsAmbigTimezone()){BJ.stripZone()}return BJ};Be.formatRange=function(BK,BJ,BI){if(typeof BI==="function"){BI=BI.call(Be,Bz,Bv)}return d(BK,BJ,BI,null,Bz.isRTL)};Be.formatDate=function(BI,BJ){if(typeof BJ==="function"){BJ=BJ.call(Be,Bz,Bv)}return w(BI,BJ)};AC.call(Be,Bz);var AN=Be.isFetchNeeded;var Br=Be.fetchEvents;var Bn=A2[0];var Bl;var A4;var By;var Bd;var Bs;var A9;var BH;var BF=0;var AO;var Bh=[];if(Bz.defaultDate!=null){AO=Be.moment(Bz.defaultDate)}else{AO=Be.getNow()}function Bp(BI){if(!By){Bt()}else{if(A0()){Bf();AQ(BI)}}}function Bt(){Bd=Bz.theme?"ui":"fc";A2.addClass("fc");if(Bz.isRTL){A2.addClass("fc-rtl")}else{A2.addClass("fc-ltr")}if(Bz.theme){A2.addClass("ui-widget")}else{A2.addClass("fc-unthemed")}By=f("<div class='fc-view-container'/>").prependTo(A2);Bl=new l(Be,Bz);A4=Bl.render();if(A4){A2.prepend(A4)}Bi(Bz.defaultView);if(Bz.handleWindowResize){BH=AI(AV,Bz.windowResizeDelay);f(window).resize(BH)}}function BE(){if(Bs){Bs.destroy()}Bl.destroy();By.remove();A2.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget");f(window).unbind("resize",BH)}function A0(){return A2.is(":visible")}function Bi(BI){AQ(0,BI)}function AQ(BJ,BI){BF++;if(Bs&&BI&&Bs.name!==BI){Bl.deactivateButton(Bs.name);AR();if(Bs.start){Bs.destroy()}Bs.el.remove();Bs=null}if(!Bs&&BI){Bs=new b[BI](Be);Bs.el=f("<div class='fc-view fc-"+BI+"-view' />").appendTo(By);Bl.activateButton(BI)}if(Bs){if(BJ){AO=Bs.incrementDate(AO,BJ)}if(!Bs.start||BJ||!AO.isWithin(Bs.intervalStart,Bs.intervalEnd)){if(A0()){AR();if(Bs.start){Bs.destroy()}Bs.render(AO);Bj();AS();BB();AP()}}}Bj();BF--}Be.getSuggestedViewHeight=function(){if(A9===undefined){Bf()}return A9};Be.isHeightAuto=function(){return Bz.contentHeight==="auto"||Bz.height==="auto"};function AZ(BI){if(A0()){if(BI){AT()}BF++;Bs.updateSize(true);BF--;return true}}function Bf(){if(A0()){AT()}}function AT(){if(typeof Bz.contentHeight==="number"){A9=Bz.contentHeight}else{if(typeof Bz.height==="number"){A9=Bz.height-(A4?A4.outerHeight(true):0)}else{A9=Math.round(By.width()/Math.max(Bz.aspectRatio,0.5))}}}function AV(BI){if(!BF&&BI.target===window&&Bs.start){if(AZ(true)){Bs.trigger("windowResize",Bn)}}}function AW(){Bx();Bm()}function AU(){if(A0()){AR();Bs.destroyEvents();Bs.renderEvents(Bh);Bj()}}function Bx(){AR();Bs.destroyEvents();Bj()}function AP(){if(!Bz.lazyFetching||AN(Bs.start,Bs.end)){Bm()}else{AU()}}function Bm(){Br(Bs.start,Bs.end)}function BD(BI){Bh=BI;AU()}function Bb(){AU()}function AS(){Bl.updateTitle(Bs.title)}function BB(){var BI=Be.getNow();if(BI.isWithin(Bs.intervalStart,Bs.intervalEnd)){Bl.disableButton("today")}else{Bl.enableButton("today")}}function Bu(BI,BJ){BI=Be.moment(BI);if(BJ){BJ=Be.moment(BJ)}else{if(BI.hasTime()){BJ=BI.clone().add(Be.defaultTimedEventDuration)}else{BJ=BI.clone().add(Be.defaultAllDayEventDuration)}}Bs.select(BI,BJ)}function AY(){if(Bs){Bs.unselect()}}function A8(){AQ(-1)}function Bw(){AQ(1)}function Bq(){AO.add(-1,"years");AQ()}function A3(){AO.add(1,"years");AQ()}function Ba(){AO=Be.getNow();AQ()}function A5(BI){AO=Be.moment(BI);AQ()}function AX(BI){AO.add(Ab.duration(BI));AQ()}function A7(BJ,BK){var BL;var BI;if(!BK||b[BK]===undefined){BK=BK||"day";BL=Bl.getViewsWithButtons().join(" ");BI=BL.match(new RegExp("\\w+"+q(BK)));if(!BI){BI=BL.match(/\w+Day/)}BK=BI?BI[0]:"agendaDay"}AO=BJ;Bi(BK)}function BA(){return AO.clone()}function AR(){By.css({width:"100%",height:By.height(),overflow:"hidden"})}function Bj(){By.css({width:"",height:"",overflow:""})}function Bo(){return Be}function Bg(){return Bs}function BC(BI,BJ){if(BJ===undefined){return Bz[BI]}if(BI=="height"||BI=="contentHeight"||BI=="aspectRatio"){Bz[BI]=BJ;AZ(true)}}function A1(BI,BJ){if(Bz[BI]){return Bz[BI].apply(BJ||Bn,Array.prototype.slice.call(arguments,2))}}}function l(AR,AN){var AZ=this;AZ.render=AY;AZ.destroy=A0;AZ.updateTitle=AS;AZ.activateButton=AW;AZ.deactivateButton=AQ;AZ.disableButton=AT;AZ.enableButton=AO;AZ.getViewsWithButtons=AV;var A1=f();var AU=[];var AP;function AY(){var A2=AN.header;AP=AN.theme?"ui":"fc";if(A2){A1=f("<div class='fc-toolbar'/>").append(AX("left")).append(AX("right")).append(AX("center")).append('<div class="fc-clear"/>');return A1}}function A0(){A1.remove()}function AX(A4){var A2=f('<div class="fc-'+A4+'"/>');var A3=AN.header[A4];if(A3){f.each(A3.split(" "),function(A7){var A8=f();var A5=true;var A6;f.each(this.split(","),function(A9,Bc){var Be;var Bf;var Bi;var Bh;var Bd;var Bb;var Bg;var Ba;if(Bc=="title"){A8=A8.add(f("<h2>&nbsp;</h2>"));A5=false}else{if(AR[Bc]){Be=function(){AR[Bc]()}}else{if(b[Bc]){Be=function(){AR.changeView(Bc)};AU.push(Bc)}}if(Be){Bf=x(AN.themeButtonIcons,Bc);Bi=x(AN.buttonIcons,Bc);Bh=x(AN.defaultButtonText,Bc);Bd=x(AN.buttonText,Bc);if(Bd){Bb=AH(Bd)}else{if(Bf&&AN.theme){Bb="<span class='ui-icon ui-icon-"+Bf+"'></span>"}else{if(Bi&&!AN.theme){Bb="<span class='fc-icon fc-icon-"+Bi+"'></span>"}else{Bb=AH(Bh||Bc)}}}Bg=["fc-"+Bc+"-button",AP+"-button",AP+"-state-default"];Ba=f('<button type="button" class="'+Bg.join(" ")+'">'+Bb+"</button>").click(function(){if(!Ba.hasClass(AP+"-state-disabled")){Be();if(Ba.hasClass(AP+"-state-active")||Ba.hasClass(AP+"-state-disabled")){Ba.removeClass(AP+"-state-hover")}}}).mousedown(function(){Ba.not("."+AP+"-state-active").not("."+AP+"-state-disabled").addClass(AP+"-state-down")}).mouseup(function(){Ba.removeClass(AP+"-state-down")}).hover(function(){Ba.not("."+AP+"-state-active").not("."+AP+"-state-disabled").addClass(AP+"-state-hover")},function(){Ba.removeClass(AP+"-state-hover").removeClass(AP+"-state-down")});A8=A8.add(Ba)}}});if(A5){A8.first().addClass(AP+"-corner-left").end().last().addClass(AP+"-corner-right").end()}if(A8.length>1){A6=f("<div/>");if(A5){A6.addClass("fc-button-group")}A6.append(A8);A2.append(A6)}else{A2.append(A8)}})}return A2}function AS(A2){A1.find("h2").text(A2)}function AW(A2){A1.find(".fc-"+A2+"-button").addClass(AP+"-state-active")}function AQ(A2){A1.find(".fc-"+A2+"-button").removeClass(AP+"-state-active")}function AT(A2){A1.find(".fc-"+A2+"-button").attr("disabled","disabled").addClass(AP+"-state-disabled")}function AO(A2){A1.find(".fc-"+A2+"-button").removeAttr("disabled").removeClass(AP+"-state-disabled")}function AV(){return AU}}C.sourceNormalizers=[];C.sourceFetchers=[];var Ar={dataType:"json",cache:false};var p=1;function AC(AX){var A1=this;A1.isFetchNeeded=AN;A1.fetchEvents=Ba;A1.addEventSource=AY;A1.removeEventSource=A2;A1.updateEvent=Bd;A1.renderEvent=AR;A1.removeEvents=A8;A1.clientEvents=Bb;A1.mutateEvent=Bf;var A0=A1.trigger;var A4=A1.getView;var Bj=A1.reportEvents;var Bi=A1.getEventEnd;var Bc={events:[]};var A6=[Bc];var A9,Bg;var Be=0;var Bh=0;var A5=0;var AZ=[];f.each((AX.events?[AX.events]:[]).concat(AX.eventSources||[]),function(Bl,Bn){var Bm=AQ(Bn);if(Bm){A6.push(Bm)}});function AN(Bl,Bm){return !A9||Bl.clone().stripZone()<A9.clone().stripZone()||Bm.clone().stripZone()>Bg.clone().stripZone()}function Ba(Bn,Bo){A9=Bn;Bg=Bo;AZ=[];var Bm=++Be;var Bl=A6.length;Bh=Bl;for(var Bp=0;Bp<Bl;Bp++){AT(A6[Bp],Bm)}}function AT(Bm,Bl){AP(Bm,function(Bo){var Bq=f.isArray(Bm.events);var Bn;var Bp;if(Bl==Be){if(Bo){for(Bn=0;Bn<Bo.length;Bn++){Bp=Bo[Bn];if(!Bq){Bp=AV(Bp,Bm)}if(Bp){AZ.push(Bp)}}}Bh--;if(!Bh){Bj(AZ)}}})}function AP(Bx,Bz){var Bt;var Bp=C.sourceFetchers;var Bl;for(Bt=0;Bt<Bp.length;Bt++){Bl=Bp[Bt].call(A1,Bx,A9.clone(),Bg.clone(),AX.timezone,Bz);if(Bl===true){return}else{if(typeof Bl=="object"){AP(Bl,Bz);return}}}var Bu=Bx.events;if(Bu){if(f.isFunction(Bu)){A3();Bu.call(A1,A9.clone(),Bg.clone(),AX.timezone,function(BA){Bz(BA);Bk()})}else{if(f.isArray(Bu)){Bz(Bu)}else{Bz()}}}else{var Bq=Bx.url;if(Bq){var Bs=Bx.success;var Br=Bx.error;var By=Bx.complete;var Bn;if(f.isFunction(Bx.data)){Bn=Bx.data()}else{Bn=Bx.data}var Bo=f.extend({},Bn||{});var Bm=Am(Bx.startParam,AX.startParam);var Bv=Am(Bx.endParam,AX.endParam);var Bw=Am(Bx.timezoneParam,AX.timezoneParam);if(Bm){Bo[Bm]=A9.format()}if(Bv){Bo[Bv]=Bg.format()}if(AX.timezone&&AX.timezone!="local"){Bo[Bw]=AX.timezone}A3();f.ajax(f.extend({},Ar,Bx,{data:Bo,success:function(BA){BA=BA||[];var BB=Y(Bs,this,arguments);if(f.isArray(BB)){BA=BB}Bz(BA)},error:function(){Y(Br,this,arguments);Bz()},complete:function(){Y(By,this,arguments);Bk()}}))}else{Bz()}}}function AY(Bm){var Bl=AQ(Bm);if(Bl){A6.push(Bl);Bh++;AT(Bl,Be)}}function AQ(Bo){var Bl=C.sourceNormalizers;var Bn;var Bm;if(f.isFunction(Bo)||f.isArray(Bo)){Bn={events:Bo}}else{if(typeof Bo==="string"){Bn={url:Bo}}else{if(typeof Bo==="object"){Bn=f.extend({},Bo)}}}if(Bn){if(Bn.className){if(typeof Bn.className==="string"){Bn.className=Bn.className.split(/\s+/)}}else{Bn.className=[]}if(f.isArray(Bn.events)){Bn.origArray=Bn.events;Bn.events=f.map(Bn.events,function(Bp){return AV(Bp,Bn)})}for(Bm=0;Bm<Bl.length;Bm++){Bl[Bm].call(A1,Bn)}return Bn}}function A2(Bl){A6=f.grep(A6,function(Bm){return !A7(Bm,Bl)});AZ=f.grep(AZ,function(Bm){return !A7(Bm.source,Bl)});Bj(AZ)}function A7(Bm,Bl){return Bm&&Bl&&AU(Bm)==AU(Bl)}function AU(Bl){return((typeof Bl==="object")?(Bl.origArray||Bl.url||Bl.events):null)||Bl}function Bd(Bl){Bl.start=A1.moment(Bl.start);if(Bl.end){Bl.end=A1.moment(Bl.end)}Bf(Bl);AO(Bl);Bj(AZ)}var AS=["title","url","allDay","className","editable","color","backgroundColor","borderColor","textColor"];function AO(Bm){var Bn;var Bl;var Bo;var Bp;for(Bn=0;Bn<AZ.length;Bn++){Bl=AZ[Bn];if(Bl._id==Bm._id&&Bl!==Bm){for(Bo=0;Bo<AS.length;Bo++){Bp=AS[Bo];if(Bm[Bp]!==undefined){Bl[Bp]=Bm[Bp]}}}}}function AR(Bn,Bm){var Bl=AV(Bn);if(Bl){if(!Bl.source){if(Bm){Bc.events.push(Bl);Bl.source=Bc}AZ.push(Bl)}Bj(AZ)}}function A8(Bm){var Bn;var Bl;if(Bm==null){Bm=function(){return true}}else{if(!f.isFunction(Bm)){Bn=Bm+"";Bm=function(Bo){return Bo._id==Bn}}}AZ=f.grep(AZ,Bm,true);for(Bl=0;Bl<A6.length;Bl++){if(f.isArray(A6[Bl].events)){A6[Bl].events=f.grep(A6[Bl].events,Bm,true)}}Bj(AZ)}function Bb(Bl){if(f.isFunction(Bl)){return f.grep(AZ,Bl)}else{if(Bl!=null){Bl+="";return f.grep(AZ,function(Bm){return Bm._id==Bl})}}return AZ}function A3(){if(!(A5++)){A0("loading",null,true,A4())}}function Bk(){if(!(--A5)){A0("loading",null,false,A4())}}function AV(Br,Bp){var Bl={};var Bn;var Bo;var Bq;var Bm;if(AX.eventDataTransform){Br=AX.eventDataTransform(Br)}if(Bp&&Bp.eventDataTransform){Br=Bp.eventDataTransform(Br)}Bn=A1.moment(Br.start||Br.date);if(!Bn.isValid()){return}Bo=null;if(Br.end){Bo=A1.moment(Br.end);if(!Bo.isValid()){return}}Bq=Br.allDay;if(Bq===undefined){Bm=Am(Bp?Bp.allDayDefault:undefined,AX.allDayDefault);if(Bm!==undefined){Bq=Bm}else{Bq=!Bn.hasTime()&&(!Bo||!Bo.hasTime())}}if(Bq){if(Bn.hasTime()){Bn.stripTime()}if(Bo&&Bo.hasTime()){Bo.stripTime()}}else{if(!Bn.hasTime()){Bn=A1.rezoneDate(Bn)}if(Bo&&!Bo.hasTime()){Bo=A1.rezoneDate(Bo)}}f.extend(Bl,Br);if(Bp){Bl.source=Bp}Bl._id=Br._id||(Br.id===undefined?"_fc"+p++:Br.id+"");if(Br.className){if(typeof Br.className=="string"){Bl.className=Br.className.split(/\s+/)}else{Bl.className=Br.className}}else{Bl.className=[]}Bl.allDay=Bq;Bl.start=Bn;Bl.end=Bo;if(AX.forceEventDuration&&!Bl.end){Bl.end=Bi(Bl)}m(Bl);return Bl}function Bf(Bm,Bu,Br){var Bl=Bm._allDay;var Bv=Bm._start;var Bp=Bm._end;var Bn=false;var Bq;var Bs;var Bt;var Bo;if(!Bu&&!Br){Bu=Bm.start;Br=Bm.end}if(Bm.allDay!=Bl){Bq=Bm.allDay}else{Bq=!(Bu||Br).hasTime()}if(Bq){if(Bu){Bu=Bu.clone().stripTime()}if(Br){Br=Br.clone().stripTime()}}if(Bu){if(Bq){Bs=j(Bu,Bv.clone().stripTime())}else{Bs=j(Bu,Bv)}}if(Bq!=Bl){Bn=true}else{if(Br){Bt=j(Br||A1.getDefaultEventEnd(Bq,Bu||Bv),Bu||Bv).subtract(j(Bp||A1.getDefaultEventEnd(Bl,Bv),Bv))}}Bo=AW(Bb(Bm._id),Bn,Bq,Bs,Bt);return{dateDelta:Bs,durationDelta:Bt,undo:Bo}}function AW(Bo,Br,Bm,Bq,Bl){var Bp=A1.getIsAmbigTimezone();var Bn=[];f.each(Bo,function(Bs,Bu){var Bt=Bu._allDay;var Bz=Bu._start;var Bv=Bu._end;var Bw=Bm!=null?Bm:Bt;var By=Bz.clone();var Bx=(!Br&&Bv)?Bv.clone():null;if(Bw){By.stripTime();if(Bx){Bx.stripTime()}}else{if(!By.hasTime()){By=A1.rezoneDate(By)}if(Bx&&!Bx.hasTime()){Bx=A1.rezoneDate(Bx)}}if(!Bx&&(AX.forceEventDuration||+Bl)){Bx=A1.getDefaultEventEnd(Bw,By)}By.add(Bq);if(Bx){Bx.add(Bq).add(Bl)}if(Bp){if(+Bq||+Bl){By.stripZone();if(Bx){Bx.stripZone()}}}Bu.allDay=Bw;Bu.start=By;Bu.end=Bx;m(Bu);Bn.push(function(){Bu.allDay=Bt;Bu.start=Bz;Bu.end=Bv;m(Bu)})});return function(){for(var Bs=0;Bs<Bn.length;Bs++){Bn[Bs]()}}}}function m(AN){AN._allDay=AN.allDay;AN._start=AN.start.clone();AN._end=AN.end?AN.end.clone():null}function B(AN,AO){if(AO.left){AN.css({"border-left-width":1,"margin-left":AO.left-1})}if(AO.right){AN.css({"border-right-width":1,"margin-right":AO.right-1})}}function A(AN){AN.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function As(AQ,AT,AR){var AN=Math.floor(AT/AQ.length);var AV=Math.floor(AT-AN*(AQ.length-1));var AS=[];var AU=[];var AP=[];var AO=0;AJ(AQ);AQ.each(function(AZ,AW){var AY=AZ===AQ.length-1?AV:AN;var AX=f(AW).outerHeight(true);if(AX<AY){AS.push(AW);AU.push(AX);AP.push(f(AW).height())}else{AO+=AX}});if(AR){AT-=AO;AN=Math.floor(AT/AS.length);AV=Math.floor(AT-AN*(AS.length-1))}f(AS).each(function(A0,AX){var AZ=A0===AS.length-1?AV:AN;var AY=AU[A0];var A1=AP[A0];var AW=AZ-(AY-A1);if(AY<AZ){f(AX).height(AW)}})}function AJ(AN){AN.height("")}function g(AO){var AN=0;AO.find("> *").each(function(AR,AP){var AQ=f(AP).outerWidth();if(AQ>AN){AN=AQ}});AN++;AO.width(AN);return AN}function h(AO,AN){AO.height(AN).addClass("fc-scroller");if(AO[0].scrollHeight-1>AO[0].clientHeight){return true}z(AO);return false}function z(AN){AN.height("").removeClass("fc-scroller")}function r(AN){var AP=AN.css("position"),AO=AN.parents().filter(function(){var AQ=f(this);return(/(auto|scroll)/).test(AQ.css("overflow")+AQ.css("overflow-y")+AQ.css("overflow-x"))}).eq(0);return AP==="fixed"||!AO.length?f(AN[0].ownerDocument||document):AO}function Ap(AN){var AQ=AN.offset().left;var AP=AQ+AN.width();var AS=AN.children();var AR=AS.offset().left;var AO=AR+AS.outerWidth();return{left:AR-AQ,right:AP-AO}}function y(AN){return AN.which==1&&!AN.ctrlKey}function D(AR,AU,AO,AP){var AN,AT;var AQ,AS;if(AU>AO&&AR<AP){if(AR>=AO){AN=AR.clone();AQ=true}else{AN=AO.clone();AQ=false}if(AU<=AP){AT=AU.clone();AS=true}else{AT=AP.clone();AS=false}return{start:AN,end:AT,isStart:AQ,isEnd:AS}}}function x(AR,AN){AR=AR||{};if(AR[AN]!==undefined){return AR[AN]}var AQ=AN.split(/(?=[A-Z])/),AO=AQ.length-1,AP;for(;AO>=0;AO--){AP=AR[AQ[AO].toLowerCase()];if(AP!==undefined){return AP}}return AR["default"]}var At=["sun","mon","tue","wed","thu","fri","sat"];function j(AN,AO){return Ab.duration({days:AN.clone().stripTime().diff(AO.clone().stripTime(),"days"),ms:AN.time()-AO.time()})}function u(AN){return Object.prototype.toString.call(AN)==="[object Date]"||AN instanceof Date}function Aj(AN,AO){return AN-AO}C.applyAll=Y;function c(AN){var AO=function(){};AO.prototype=AN;return new AO()}function Au(AN,AO){for(var AP in AO){if(AO.hasOwnProperty(AP)){AN[AP]=AO[AP]}}}function Y(AP,AN,AQ){if(f.isFunction(AP)){AP=[AP]}if(AP){var AO;var AR;for(AO=0;AO<AP.length;AO++){AR=AP[AO].apply(AN,AQ)||AR}return AR}}function Am(){for(var AN=0;AN<arguments.length;AN++){if(arguments[AN]!==undefined){return arguments[AN]}}}function AH(AN){return(AN+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function F(AN){return AN.replace(/&.*?;/g,"")}function q(AN){return AN.charAt(0).toUpperCase()+AN.slice(1)}function AI(AT,AQ){var AP;var AN;var AO;var AR;var AS=function(){var AU=+new Date()-AR;if(AU<AQ&&AU>0){AP=setTimeout(AS,AQ-AU)}else{AP=null;AT.apply(AO,AN);if(!AP){AO=AN=null}}};return function(){AO=this;AN=arguments;AR=+new Date();if(!AP){AP=setTimeout(AS,AQ)}}}var Q=/^\s*\d{4}-\d\d$/;var AL=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/;C.moment=function(){return Ac(arguments)};C.moment.utc=function(){var AN=Ac(arguments,true);if(AN.hasTime()){AN.utc()}return AN};C.moment.parseZone=function(){return Ac(arguments,true,true)};function Ac(AT,AS,AV){var AR=AT[0];var AP=AT.length==1&&typeof AR==="string";var AU;var AN;var AQ;var AO;if(Ab.isMoment(AR)){AO=Ab.apply(null,AT);if(AR._ambigTime){AO._ambigTime=true}if(AR._ambigZone){AO._ambigZone=true}}else{if(u(AR)||AR===undefined){AO=Ab.apply(null,AT)}else{AU=false;AN=false;if(AP){if(Q.test(AR)){AR+="-01";AT=[AR];AU=true;AN=true}else{if((AQ=AL.exec(AR))){AU=!AQ[5];AN=true}}}else{if(f.isArray(AR)){AN=true}}if(AS){AO=Ab.utc.apply(Ab,AT)}else{AO=Ab.apply(null,AT)}if(AU){AO._ambigTime=true;AO._ambigZone=true}else{if(AV){if(AN){AO._ambigZone=true}else{if(AP){AO.zone(AR)}}}}}}return new X(AO)}function X(AN){Au(this,AN)}X.prototype=c(Ab.fn);X.prototype.clone=function(){return Ac([this])};X.prototype.time=function(AO){if(AO==null){return Ab.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()})}else{delete this._ambigTime;if(!Ab.isDuration(AO)&&!Ab.isMoment(AO)){AO=Ab.duration(AO)}var AN=0;if(Ab.isDuration(AO)){AN=Math.floor(AO.asDays())*24}return this.hours(AN+AO.hours()).minutes(AO.minutes()).seconds(AO.seconds()).milliseconds(AO.milliseconds())}};X.prototype.stripTime=function(){var AN=this.toArray();Ab.fn.utc.call(this);this.year(AN[0]).month(AN[1]).date(AN[2]).hours(0).minutes(0).seconds(0).milliseconds(0);this._ambigTime=true;this._ambigZone=true;return this};X.prototype.hasTime=function(){return !this._ambigTime};X.prototype.stripZone=function(){var AN=this.toArray();var AO=this._ambigTime;Ab.fn.utc.call(this);this.year(AN[0]).month(AN[1]).date(AN[2]).hours(AN[3]).minutes(AN[4]).seconds(AN[5]).milliseconds(AN[6]);if(AO){this._ambigTime=true}this._ambigZone=true;return this};X.prototype.hasZone=function(){return !this._ambigZone};X.prototype.zone=function(AN){if(AN!=null){delete this._ambigTime;delete this._ambigZone}return Ab.fn.zone.apply(this,arguments)};X.prototype.local=function(){var AO=this.toArray();var AN=this._ambigZone;delete this._ambigTime;delete this._ambigZone;Ab.fn.local.apply(this,arguments);if(AN){this.year(AO[0]).month(AO[1]).date(AO[2]).hours(AO[3]).minutes(AO[4]).seconds(AO[5]).milliseconds(AO[6])}return this};X.prototype.utc=function(){delete this._ambigTime;delete this._ambigZone;return Ab.fn.utc.apply(this,arguments)};X.prototype.format=function(){if(arguments[0]){return w(this,arguments[0])}if(this._ambigTime){return AM(this,"YYYY-MM-DD")}if(this._ambigZone){return AM(this,"YYYY-MM-DD[T]HH:mm:ss")}return AM(this)};X.prototype.toISOString=function(){if(this._ambigTime){return AM(this,"YYYY-MM-DD")}if(this._ambigZone){return AM(this,"YYYY-MM-DD[T]HH:mm:ss")}return Ab.fn.toISOString.apply(this,arguments)};X.prototype.isWithin=function(AO,AP){var AN=v([this,AO,AP]);return AN[0]>=AN[1]&&AN[0]<AN[2]};X.prototype.isSame=function(AO,AN){var AP;if(AN){AP=v([this,AO],true);return Ab.fn.isSame.call(AP[0],AP[1],AN)}else{AO=C.moment.parseZone(AO);return Ab.fn.isSame.call(this,AO)&&Boolean(this._ambigTime)===Boolean(AO._ambigTime)&&Boolean(this._ambigZone)===Boolean(AO._ambigZone)}};f.each(["isBefore","isAfter"],function(AO,AN){X.prototype[AN]=function(AQ,AP){var AR=v([this,AQ]);return Ab.fn[AN].call(AR[0],AR[1],AP)}});function v(AP,AO){var AS=[];var AN=false;var AQ=false;var AR;for(AR=0;AR<AP.length;AR++){AS.push(C.moment.parseZone(AP[AR]));AN=AN||AS[AR]._ambigTime;AQ=AQ||AS[AR]._ambigZone}for(AR=0;AR<AS.length;AR++){if(AN&&!AO){AS[AR].stripTime()}else{if(AQ){AS[AR].stripZone()}}}return AS}function AM(AN,AO){return Ab.fn.format.call(AN,AO)}function w(AN,AO){return Ak(AN,J(AO))}function Ak(AP,AQ){var AN="";var AO;for(AO=0;AO<AQ.length;AO++){AN+=Ai(AP,AQ[AO])}return AN}var Ag={t:function(AN){return AM(AN,"a").charAt(0)},T:function(AN){return AM(AN,"A").charAt(0)}};function Ai(AO,AP){var AQ;var AN;if(typeof AP==="string"){return AP}else{if((AQ=AP.token)){if(Ag[AQ]){return Ag[AQ](AO)}return AM(AO,AQ)}else{if(AP.maybe){AN=Ak(AO,AP.maybe);if(AN.match(/[1-9]/)){return AN}}}}return""}function d(AS,AQ,AR,AO,AP){var AN;AS=C.moment.parseZone(AS);AQ=C.moment.parseZone(AQ);AN=(AS.localeData||AS.lang).call(AS);AR=AN.longDateFormat(AR)||AR;AO=AO||" - ";return Aq(AS,AQ,J(AR),AO,AP)}C.formatRange=d;function Aq(AV,AS,AN,AX,AU){var AR;var AO;var A0="";var AZ;var AW="";var AT;var AP="";var AQ="";var AY="";for(AO=0;AO<AN.length;AO++){AR=E(AV,AS,AN[AO]);if(AR===false){break}A0+=AR}for(AZ=AN.length-1;AZ>AO;AZ--){AR=E(AV,AS,AN[AZ]);if(AR===false){break}AW=AR+AW}for(AT=AO;AT<=AZ;AT++){AP+=Ai(AV,AN[AT]);AQ+=Ai(AS,AN[AT])}if(AP||AQ){if(AU){AY=AQ+AX+AP}else{AY=AP+AX+AQ}}return A0+AY+AW}var Z={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"};function E(AQ,AO,AP){var AR;var AN;if(typeof AP==="string"){return AP}else{if((AR=AP.token)){AN=Z[AR.charAt(0)];if(AN&&AQ.isSame(AO,AN)){return AM(AQ,AR)}}}return false}var Aa={};function J(AN){if(AN in Aa){return Aa[AN]}return(Aa[AN]=AA(AN))}function AA(AQ){var AO=[];var AN=/\[([^\]]*)\]|\(([^\)]*)\)|(LT|(\w)\4*o?)|([^\w\[\(]+)/g;var AP;while((AP=AN.exec(AQ))){if(AP[1]){AO.push(AP[1])}else{if(AP[2]){AO.push({maybe:AA(AP[2])})}else{if(AP[3]){AO.push({token:AP[3]})}else{if(AP[5]){AO.push(AP[5])}}}}}return AO}function t(AN){this.options=AN||{}}t.prototype={isHidden:true,options:null,el:null,documentMousedownProxy:null,margin:10,show:function(){if(this.isHidden){if(!this.el){this.render()}this.el.show();this.position();this.isHidden=false;this.trigger("show")}},hide:function(){if(!this.isHidden){this.el.hide();this.isHidden=true;this.trigger("hide")}},render:function(){var AO=this;var AN=this.options;this.el=f('<div class="fc-popover"/>').addClass(AN.className||"").css({top:0,left:0}).append(AN.content).appendTo(AN.parentEl);this.el.on("click",".fc-close",function(){AO.hide()});if(AN.autoHide){f(document).on("mousedown",this.documentMousedownProxy=f.proxy(this,"documentMousedown"))}},documentMousedown:function(AN){if(this.el&&!f(AN.target).closest(this.el).length){this.hide()}},destroy:function(){this.hide();if(this.el){this.el.remove();this.el=null}f(document).off("mousedown",this.documentMousedownProxy)},position:function(){var AN=this.options;var AO=this.el.offsetParent().offset();var AP=this.el.outerWidth();var AU=this.el.outerHeight();var AR=f(window);var AX=r(this.el);var AS;var AT;var AV;var AQ;var AW;AQ=AN.top||0;if(AN.left!==undefined){AW=AN.left}else{if(AN.right!==undefined){AW=AN.right-AP}else{AW=0}}if(AX.is(window)||AX.is(document)){AX=AR;AS=0;AT=0}else{AV=AX.offset();AS=AV.top;AT=AV.left}AS+=AR.scrollTop();AT+=AR.scrollLeft();if(AN.viewportConstrain!==false){AQ=Math.min(AQ,AS+AX.outerHeight()-AU-this.margin);AQ=Math.max(AQ,AS+this.margin);AW=Math.min(AW,AT+AX.outerWidth()-AP-this.margin);AW=Math.max(AW,AT+this.margin)}this.el.css({top:AQ-AO.top,left:AW-AO.left})},trigger:function(AN){if(this.options[AN]){this.options[AN].apply(this,Array.prototype.slice.call(arguments,1))}}};function W(AN){this.grid=AN}W.prototype={grid:null,rows:null,cols:null,containerEl:null,minX:null,maxX:null,minY:null,maxY:null,build:function(){this.grid.buildCoords(this.rows=[],this.cols=[]);this.computeBounds()},getCell:function(AP,AQ){var AT=null;var AO=this.rows;var AR=this.cols;var AU=-1;var AS=-1;var AN;if(this.inBounds(AP,AQ)){for(AN=0;AN<AO.length;AN++){if(AQ>=AO[AN][0]&&AQ<AO[AN][1]){AU=AN;break}}for(AN=0;AN<AR.length;AN++){if(AP>=AR[AN][0]&&AP<AR[AN][1]){AS=AN;break}}if(AU>=0&&AS>=0){AT={row:AU,col:AS};AT.grid=this.grid;AT.date=this.grid.getCellDate(AT)}}return AT},computeBounds:function(){var AN;if(this.containerEl){AN=this.containerEl.offset();this.minX=AN.left;this.maxX=AN.left+this.containerEl.outerWidth();this.minY=AN.top;this.maxY=AN.top+this.containerEl.outerHeight()}},inBounds:function(AN,AO){if(this.containerEl){return AN>=this.minX&&AN<this.maxX&&AO>=this.minY&&AO<this.maxY}return true}};function M(AN){this.coordMaps=AN}M.prototype={coordMaps:null,build:function(){var AN=this.coordMaps;var AO;for(AO=0;AO<AN.length;AO++){AN[AO].build()}},getCell:function(AN,AO){var AQ=this.coordMaps;var AR=null;var AP;for(AP=0;AP<AQ.length&&!AR;AP++){AR=AQ[AP].getCell(AN,AO)}return AR}};function Ay(AN,AO){this.coordMap=AN;this.options=AO||{}}Ay.prototype={coordMap:null,options:null,isListening:false,isDragging:false,origCell:null,origDate:null,cell:null,date:null,mouseX0:null,mouseY0:null,mousemoveProxy:null,mouseupProxy:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,mousedown:function(AN){if(y(AN)){AN.preventDefault();this.startListening(AN);if(!this.options.distance){this.startDrag(AN)}}},startListening:function(AN){var AO;var AP;if(!this.isListening){if(AN&&this.options.scroll){AO=r(f(AN.target));if(!AO.is(window)&&!AO.is(document)){this.scrollEl=AO;this.scrollHandlerProxy=AI(f.proxy(this,"scrollHandler"),100);this.scrollEl.on("scroll",this.scrollHandlerProxy)}}this.computeCoords();if(AN){AP=this.getCell(AN);this.origCell=AP;this.origDate=AP?AP.date:null;this.mouseX0=AN.pageX;this.mouseY0=AN.pageY}f(document).on("mousemove",this.mousemoveProxy=f.proxy(this,"mousemove")).on("mouseup",this.mouseupProxy=f.proxy(this,"mouseup")).on("selectstart",this.preventDefault);this.isListening=true;this.trigger("listenStart",AN)}},computeCoords:function(){this.coordMap.build();this.computeScrollBounds()},mousemove:function(AO){var AN;var AP;if(!this.isDragging){AN=this.options.distance||1;AP=Math.pow(AO.pageX-this.mouseX0,2)+Math.pow(AO.pageY-this.mouseY0,2);if(AP>=AN*AN){this.startDrag(AO)}}if(this.isDragging){this.drag(AO)}},startDrag:function(AN){var AO;if(!this.isListening){this.startListening()}if(!this.isDragging){this.isDragging=true;this.trigger("dragStart",AN);AO=this.getCell(AN);if(AO){this.cellOver(AO,true)}}},drag:function(AN){var AO;if(this.isDragging){AO=this.getCell(AN);if(!Ax(AO,this.cell)){if(this.cell){this.cellOut()}if(AO){this.cellOver(AO)}}this.dragScroll(AN)}},cellOver:function(AN){this.cell=AN;this.date=AN.date;this.trigger("cellOver",AN,AN.date)},cellOut:function(){if(this.cell){this.trigger("cellOut",this.cell);this.cell=null;this.date=null}},mouseup:function(AN){this.stopDrag(AN);this.stopListening(AN)},stopDrag:function(AN){if(this.isDragging){this.stopScrolling();this.trigger("dragStop",AN);this.isDragging=false}},stopListening:function(AN){if(this.isListening){if(this.scrollEl){this.scrollEl.off("scroll",this.scrollHandlerProxy);this.scrollHandlerProxy=null}f(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault);this.mousemoveProxy=null;this.mouseupProxy=null;this.isListening=false;this.trigger("listenStop",AN);this.origCell=this.cell=null;this.origDate=this.date=null}},getCell:function(AN){return this.coordMap.getCell(AN.pageX,AN.pageY)},trigger:function(AN){if(this.options[AN]){this.options[AN].apply(this,Array.prototype.slice.call(arguments,1))}},preventDefault:function(AN){AN.preventDefault()},computeScrollBounds:function(){var AN=this.scrollEl;var AO;if(AN){AO=AN.offset();this.scrollBounds={top:AO.top,left:AO.left,bottom:AO.top+AN.outerHeight(),right:AO.left+AN.outerWidth()}}},dragScroll:function(AN){var AU=this.scrollSensitivity;var AS=this.scrollBounds;var AQ,AO;var AP,AT;var AV=0;var AR=0;if(AS){AQ=(AU-(AN.pageY-AS.top))/AU;AO=(AU-(AS.bottom-AN.pageY))/AU;AP=(AU-(AN.pageX-AS.left))/AU;AT=(AU-(AS.right-AN.pageX))/AU;if(AQ>=0&&AQ<=1){AV=AQ*this.scrollSpeed*-1}else{if(AO>=0&&AO<=1){AV=AO*this.scrollSpeed}}if(AP>=0&&AP<=1){AR=AP*this.scrollSpeed*-1}else{if(AT>=0&&AT<=1){AR=AT*this.scrollSpeed}}}this.setScrollVel(AV,AR)},setScrollVel:function(AO,AN){this.scrollTopVel=AO;this.scrollLeftVel=AN;this.constrainScrollVel();if((this.scrollTopVel||this.scrollLeftVel)&&!this.scrollIntervalId){this.scrollIntervalId=setInterval(f.proxy(this,"scrollIntervalFunc"),this.scrollIntervalMs)}},constrainScrollVel:function(){var AN=this.scrollEl;if(this.scrollTopVel<0){if(AN.scrollTop()<=0){this.scrollTopVel=0}}else{if(this.scrollTopVel>0){if(AN.scrollTop()+AN[0].clientHeight>=AN[0].scrollHeight){this.scrollTopVel=0}}}if(this.scrollLeftVel<0){if(AN.scrollLeft()<=0){this.scrollLeftVel=0}}else{if(this.scrollLeftVel>0){if(AN.scrollLeft()+AN[0].clientWidth>=AN[0].scrollWidth){this.scrollLeftVel=0}}}},scrollIntervalFunc:function(){var AO=this.scrollEl;var AN=this.scrollIntervalMs/1000;if(this.scrollTopVel){AO.scrollTop(AO.scrollTop()+this.scrollTopVel*AN)}if(this.scrollLeftVel){AO.scrollLeft(AO.scrollLeft()+this.scrollLeftVel*AN)}this.constrainScrollVel();if(!this.scrollTopVel&&!this.scrollLeftVel){this.stopScrolling()}},stopScrolling:function(){if(this.scrollIntervalId){clearInterval(this.scrollIntervalId);this.scrollIntervalId=null;this.computeCoords()}},scrollHandler:function(){if(!this.scrollIntervalId){this.computeCoords()}}};function Ax(AN,AO){if(!AN&&!AO){return true}if(AN&&AO){return AN.grid===AO.grid&&AN.row===AO.row&&AN.col===AO.col}return false}function L(AN,AO){this.options=AO=AO||{};this.sourceEl=AN;this.parentEl=AO.parentEl?f(AO.parentEl):AN.parent()}L.prototype={options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:false,isHidden:false,isAnimating:false,start:function(AN){if(!this.isFollowing){this.isFollowing=true;this.mouseY0=AN.pageY;this.mouseX0=AN.pageX;this.topDelta=0;this.leftDelta=0;if(!this.isHidden){this.updatePosition()}f(document).on("mousemove",this.mousemoveProxy=f.proxy(this,"mousemove"))}},stop:function(AQ,AR){var AP=this;var AO=this.options.revertDuration;function AN(){this.isAnimating=false;AP.destroyEl();this.top0=this.left0=null;if(AR){AR()}}if(this.isFollowing&&!this.isAnimating){this.isFollowing=false;f(document).off("mousemove",this.mousemoveProxy);if(AQ&&AO&&!this.isHidden){this.isAnimating=true;this.el.animate({top:this.top0,left:this.left0},{duration:AO,complete:AN})}else{AN()}}},getEl:function(){var AN=this.el;if(!AN){this.sourceEl.width();AN=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)}return AN},destroyEl:function(){if(this.el){this.el.remove();this.el=null}},updatePosition:function(){var AN;var AO;this.getEl();if(this.top0===null){this.sourceEl.width();AN=this.sourceEl.offset();AO=this.el.offsetParent().offset();this.top0=AN.top-AO.top;this.left0=AN.left-AO.left}this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(AN){this.topDelta=AN.pageY-this.mouseY0;this.leftDelta=AN.pageX-this.mouseX0;if(!this.isHidden){this.updatePosition()}},hide:function(){if(!this.isHidden){this.isHidden=true;if(this.el){this.el.hide()}}},show:function(){if(this.isHidden){this.isHidden=false;this.updatePosition();this.getEl().show()}}};function AK(AN){this.view=AN}AK.prototype={view:null,cellHtml:"<td/>",rowHtml:function(AO,AS){var AT=this.view;var AP=this.getHtmlRenderer("cell",AO);var AN="";var AQ;var AR;AS=AS||0;for(AQ=0;AQ<AT.colCnt;AQ++){AR=AT.cellToDate(AS,AQ);AN+=AP(AS,AQ,AR)}AN=this.bookendCells(AN,AO,AS);return"<tr>"+AN+"</tr>"},bookendCells:function(AQ,AN,AR){var AU=this.view;var AO=this.getHtmlRenderer("intro",AN)(AR||0);var AP=this.getHtmlRenderer("outro",AN)(AR||0);var AS=AU.opt("isRTL");var AV=AS?AP:AO;var AT=AS?AO:AP;if(typeof AQ==="string"){return AV+AQ+AT}else{return AQ.prepend(AV).append(AT)}},getHtmlRenderer:function(AS,AN){var AT=this.view;var AR;var AO;var AP;var AQ;AR=AS+"Html";if(AN){AO=AN+q(AS)+"Html"}if(AO&&(AQ=AT[AO])){AP=AT}else{if(AO&&(AQ=this[AO])){AP=this}else{if((AQ=AT[AR])){AP=AT}else{if((AQ=this[AR])){AP=this}}}}if(typeof AQ==="function"){return function(AU){return AQ.apply(AP,arguments)||""}}return function(){return AQ||""}}};function Af(AN){AK.call(this,AN);this.coordMap=new W(this)}Af.prototype=c(AK.prototype);f.extend(Af.prototype,{el:null,coordMap:null,cellDuration:null,render:function(){this.bindHandlers()},destroy:function(){},buildCoords:function(AO,AN){},getCellDate:function(AN){},getCellDayEl:function(AN){},rangeToSegs:function(AN,AO){},bindHandlers:function(){var AN=this;this.el.on("mousedown",function(AO){if(!f(AO.target).is(".fc-event-container *, .fc-more")&&!f(AO.target).closest(".fc-popover").length){AN.dayMousedown(AO)}});this.bindSegHandlers()},dayMousedown:function(AO){var AS=this;var AV=this.view;var AR=AV.opt("selectable");var AT=null;var AU;var AP;var AQ;var AN=new Ay(this.coordMap,{scroll:AV.opt("dragScroll"),dragStart:function(){AV.unselect()},cellOver:function(AX,AW){if(AN.origDate){AQ=AS.getCellDayEl(AX);AT=[AW,AN.origDate].sort(Aj);AU=AT[0];AP=AT[1].clone().add(AS.cellDuration);if(AR){AS.renderSelection(AU,AP)}}},cellOut:function(AX,AW){AT=null;AS.destroySelection()},listenStop:function(AW){if(AT){if(AT[0].isSame(AT[1])){AV.trigger("dayClick",AQ[0],AU,AW)}if(AR){AV.reportSelection(AU,AP,AW)}}}});AN.mousedown(AO)},renderDrag:function(AN,AP,AO){},destroyDrag:function(){},renderResize:function(AN,AP,AO){},destroyResize:function(){},renderRangeHelper:function(AO,AQ,AP){var AR=this.view;var AN;if(!AQ&&AR.opt("forceEventDuration")){AQ=AR.calendar.getDefaultEventEnd(!AO.hasTime(),AO)}AN=AP?c(AP.event):{};AN.start=AO;AN.end=AQ;AN.allDay=!(AO.hasTime()||(AQ&&AQ.hasTime()));AN.className=(AN.className||[]).concat("fc-helper");if(!AP){AN.editable=false}this.renderHelper(AN,AP)},renderHelper:function(AN,AO){},destroyHelper:function(){},renderSelection:function(AN,AO){this.renderHighlight(AN,AO)},destroySelection:function(){this.destroyHighlight()},renderHighlight:function(AN,AO){},destroyHighlight:function(){},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(AR,AO,AP){var AS=this.view;var AQ=AS.calendar;var AN=AS.opt("columnFormat");return'<th class="fc-day-header '+AS.widgetHeaderClass+" fc-"+At[AP.day()]+'">'+AH(AQ.formatDate(AP,AN))+"</th>"},bgCellHtml:function(AQ,AO,AP){var AR=this.view;var AN=this.getDayClasses(AP);AN.unshift("fc-day",AR.widgetContentClass);return'<td class="'+AN.join(" ")+'" data-date="'+AP.format()+'"></td>'},getDayClasses:function(AO){var AQ=this.view;var AP=AQ.calendar.getNow().stripTime();var AN=["fc-"+At[AO.day()]];if(AQ.name==="month"&&AO.month()!=AQ.intervalStart.month()){AN.push("fc-other-month")}if(AO.isSame(AP,"day")){AN.push("fc-today",AQ.highlightStateClass)}else{if(AO<AP){AN.push("fc-past")}else{AN.push("fc-future")}}return AN}});f.extend(Af.prototype,{mousedOverSeg:null,isDraggingSeg:false,isResizingSeg:false,renderEvents:function(AN){},getSegs:function(){},destroyEvents:function(){this.triggerSegMouseout()},renderSegs:function(AQ,AP){var AS=this.view;var AN="";var AO=[];var AR;for(AR=0;AR<AQ.length;AR++){AN+=this.renderSegHtml(AQ[AR],AP)}f(AN).each(function(AV,AW){var AU=AQ[AV];var AT=AS.resolveEventEl(AU.event,f(AW));if(AT){AT.data("fc-seg",AU);AU.el=AT;AO.push(AU)}});return AO},renderSegHtml:function(AO,AN){},eventsToSegs:function(AO,AQ,AN){var AP=this;return f.map(AO,function(AR){return AP.eventToSegs(AR,AQ,AN)})},eventToSegs:function(AQ,AP,AU){var AS=AQ.start.clone().stripZone();var AO=this.view.calendar.getEventEnd(AQ).stripZone();var AR;var AN,AT;if(AP&&AU){AT=D(AS,AO,AP,AU);AR=AT?[AT]:[]}else{AR=this.rangeToSegs(AS,AO)}for(AN=0;AN<AR.length;AN++){AT=AR[AN];AT.event=AQ;AT.eventStartMS=+AS;AT.eventDurationMS=AO-AS}return AR},bindSegHandlers:function(){var AO=this;var AN=this.view;f.each({mouseenter:function(AP,AQ){AO.triggerSegMouseover(AP,AQ)},mouseleave:function(AP,AQ){AO.triggerSegMouseout(AP,AQ)},click:function(AP,AQ){return AN.trigger("eventClick",this,AP.event,AQ)},mousedown:function(AP,AQ){if(f(AQ.target).is(".fc-resizer")&&AN.isEventResizable(AP.event)){AO.segResizeMousedown(AP,AQ)}else{if(AN.isEventDraggable(AP.event)){AO.segDragMousedown(AP,AQ)}}}},function(AP,AQ){AO.el.on(AP,".fc-event-container > *",function(AR){var AS=f(this).data("fc-seg");if(AS&&!AO.isDraggingSeg&&!AO.isResizingSeg){return AQ.call(this,AS,AR)}})})},triggerSegMouseover:function(AN,AO){if(!this.mousedOverSeg){this.mousedOverSeg=AN;this.view.trigger("eventMouseover",AN.el[0],AN.event,AO)}},triggerSegMouseout:function(AN,AO){AO=AO||{};if(this.mousedOverSeg){AN=AN||this.mousedOverSeg;this.mousedOverSeg=null;this.view.trigger("eventMouseout",AN.el[0],AN.event,AO)}},segDragMousedown:function(AN,AP){var AT=this;var AU=this.view;var AS=AN.el;var AR=AN.event;var AW,AO;var AV=new L(AN.el,{parentEl:AU.el,opacity:AU.opt("dragOpacity"),revertDuration:AU.opt("dragRevertDuration"),zIndex:2});var AQ=new Ay(AU.coordMap,{distance:5,scroll:AU.opt("dragScroll"),listenStart:function(AX){AV.hide();AV.start(AX)},dragStart:function(AX){AT.triggerSegMouseout(AN,AX);AT.isDraggingSeg=true;AU.hideEvent(AR);AU.trigger("eventDragStart",AS[0],AR,AX,{})},cellOver:function(A0,AX){var AZ=AN.cellDate||AQ.origDate;var AY=AT.computeDraggedEventDates(AN,AZ,AX);AW=AY.start;AO=AY.end;if(AU.renderDrag(AW,AO,AN)){AV.hide()}else{AV.show()}},cellOut:function(){AW=null;AU.destroyDrag();AV.show()},dragStop:function(AX){var AY=AW&&!AW.isSame(AR.start);AV.stop(!AY,function(){AT.isDraggingSeg=false;AU.destroyDrag();AU.showEvent(AR);AU.trigger("eventDragStop",AS[0],AR,AX,{});if(AY){AU.eventDrop(AS[0],AR,AW,AX)}})},listenStop:function(){AV.stop()}});AQ.mousedown(AP)},computeDraggedEventDates:function(AN,AW,AQ){var AT=this.view;var AR=AN.event;var AU=AR.start;var AP=AT.calendar.getEventEnd(AR);var AO;var AV;var AS;if(AQ.hasTime()===AW.hasTime()){AO=j(AQ,AW);AV=AU.clone().add(AO);if(AR.end===null){AS=null}else{AS=AP.clone().add(AO)}}else{AV=AQ;AS=null}return{start:AV,end:AS}},segResizeMousedown:function(AN,AP){var AU=this;var AV=this.view;var AT=AN.el;var AS=AN.event;var AW=AS.start;var AR=AV.calendar.getEventEnd(AS);var AO=null;var AQ;function AX(){AU.destroyResize();AV.showEvent(AS)}AQ=new Ay(this.coordMap,{distance:5,scroll:AV.opt("dragScroll"),dragStart:function(AY){AU.triggerSegMouseout(AN,AY);AU.isResizingSeg=true;AV.trigger("eventResizeStart",AT[0],AS,AY,{})},cellOver:function(AZ,AY){if(AY.isBefore(AW)){AY=AW}AO=AY.clone().add(AU.cellDuration);if(AO.isSame(AR)){AO=null;AX()}else{AU.renderResize(AW,AO,AN);AV.hideEvent(AS)}},cellOut:function(){AO=null;AX()},dragStop:function(AY){AU.isResizingSeg=false;AX();AV.trigger("eventResizeStop",AT[0],AS,AY,{});if(AO){AV.eventResize(AT[0],AS,AO,AY)}}});AQ.mousedown(AP)},getSegClasses:function(AP,AR,AN){var AQ=AP.event;var AO=["fc-event",AP.isStart?"fc-start":"fc-not-start",AP.isEnd?"fc-end":"fc-not-end"].concat(AQ.className,AQ.source?AQ.source.className:[]);if(AR){AO.push("fc-draggable")}if(AN){AO.push("fc-resizable")}return AO},getEventSkinCss:function(AQ){var AT=this.view;var AU=AQ.source||{};var AN=AQ.color;var AR=AU.color;var AW=AT.opt("eventColor");var AV=AQ.backgroundColor||AN||AU.backgroundColor||AR||AT.opt("eventBackgroundColor")||AW;var AO=AQ.borderColor||AN||AU.borderColor||AR||AT.opt("eventBorderColor")||AW;var AS=AQ.textColor||AU.textColor||AT.opt("eventTextColor");var AP=[];if(AV){AP.push("background-color:"+AV)}if(AO){AP.push("border-color:"+AO)}if(AS){AP.push("color:"+AS)}return AP.join(";")}});function S(AO,AN){return AO.eventStartMS-AN.eventStartMS||AN.eventDurationMS-AO.eventDurationMS||AN.event.allDay-AO.event.allDay||(AO.event.title||"").localeCompare(AN.event.title)}function O(AN){Af.call(this,AN)}O.prototype=c(Af.prototype);f.extend(O.prototype,{numbersVisible:false,cellDuration:Ab.duration({days:1}),bottomCoordPadding:0,rowEls:null,dayEls:null,helperEls:null,highlightEls:null,render:function(AQ){var AN=this.view;var AP="";var AO;for(AO=0;AO<AN.rowCnt;AO++){AP+=this.dayRowHtml(AO,AQ)}this.el.html(AP);this.rowEls=this.el.find(".fc-row");this.dayEls=this.el.find(".fc-day");this.dayEls.each(function(AS,AT){var AR=AN.cellToDate(Math.floor(AS/AN.colCnt),AS%AN.colCnt);AN.trigger("dayRender",null,AR,f(AT))});Af.prototype.render.call(this)},destroy:function(){this.destroySegPopover()},dayRowHtml:function(AP,AQ){var AN=this.view;var AO=["fc-row","fc-week",AN.widgetContentClass];if(AQ){AO.push("fc-rigid")}return'<div class="'+AO.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",AP)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",AP)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(AP,AN,AO){return this.bgCellHtml(AP,AN,AO)},buildCoords:function(AS,AQ){var AN=this.view.colCnt;var AR,AO,AP;this.dayEls.slice(0,AN).each(function(AT,AU){AR=f(AU);AO=AR.offset().left;if(AT){AP[1]=AO}AP=[AO];AQ[AT]=AP});AP[1]=AO+AR.outerWidth();this.rowEls.each(function(AT,AU){AR=f(AU);AO=AR.offset().top;if(AT){AP[1]=AO}AP=[AO];AS[AT]=AP});AP[1]=AO+AR.outerHeight()+this.bottomCoordPadding},getCellDate:function(AN){return this.view.cellToDate(AN)},getCellDayEl:function(AN){return this.dayEls.eq(AN.row*this.view.colCnt+AN.col)},rangeToSegs:function(AN,AO){return this.view.rangeToSegments(AN,AO)},renderDrag:function(AO,AQ,AP){var AN;this.renderHighlight(AO,AQ||this.view.calendar.getDefaultEventEnd(true,AO));if(AP&&!AP.el.closest(this.el).length){this.renderRangeHelper(AO,AQ,AP);AN=this.view.opt("dragOpacity");if(AN!==undefined){this.helperEls.css("opacity",AN)}return true}},destroyDrag:function(){this.destroyHighlight();this.destroyHelper()},renderResize:function(AN,AP,AO){this.renderHighlight(AN,AP);this.renderRangeHelper(AN,AP,AO)},destroyResize:function(){this.destroyHighlight();this.destroyHelper()},renderHelper:function(AO,AP){var AN=[];var AQ=this.renderEventRows([AO]);this.rowEls.each(function(AU,AS){var AV=f(AS);var AR=f('<div class="fc-helper-skeleton"><table/></div>');var AT;if(AP&&AP.row===AU){AT=AP.el.position().top}else{AT=AV.find(".fc-content-skeleton tbody").position().top}AR.css("top",AT).find("table").append(AQ[AU].tbodyEl);AV.append(AR);AN.push(AR[0])});this.helperEls=f(AN)},destroyHelper:function(){if(this.helperEls){this.helperEls.remove();this.helperEls=null}},renderHighlight:function(AP,AR){var AQ=this.rangeToSegs(AP,AR);var AN=[];var AS,AT;var AO;for(AS=0;AS<AQ.length;AS++){AT=AQ[AS];AO=f(this.highlightSkeletonHtml(AT.leftCol,AT.rightCol+1));AO.appendTo(this.rowEls[AT.row]);AN.push(AO[0])}this.highlightEls=f(AN)},destroyHighlight:function(){if(this.highlightEls){this.highlightEls.remove();this.highlightEls=null}},highlightSkeletonHtml:function(AQ,AO){var AN=this.view.colCnt;var AP="";if(AQ>0){AP+='<td colspan="'+AQ+'"/>'}if(AO>AQ){AP+='<td colspan="'+(AO-AQ)+'" class="fc-highlight" />'}if(AN>AO){AP+='<td colspan="'+(AN-AO)+'"/>'}AP=this.bookendCells(AP,"highlight");return'<div class="fc-highlight-skeleton"><table><tr>'+AP+"</tr></table></div>"}});f.extend(O.prototype,{segs:null,rowStructs:null,renderEvents:function(AO){var AP=this.rowStructs=this.renderEventRows(AO);var AN=[];this.rowEls.each(function(AR,AQ){f(AQ).find(".fc-content-skeleton > table").append(AP[AR].tbodyEl);AN.push.apply(AN,AP[AR].segs)});this.segs=AN},getSegs:function(){return(this.segs||[]).concat(this.popoverSegs||[])},destroyEvents:function(){var AN;var AO;Af.prototype.destroyEvents.call(this);AN=this.rowStructs||[];while((AO=AN.pop())){AO.tbodyEl.remove()}this.segs=null;this.destroySegPopover()},renderEventRows:function(AO){var AP=this.eventsToSegs(AO);var AR=[];var AN;var AQ;AP=this.renderSegs(AP);AN=this.groupSegRows(AP);for(AQ=0;AQ<AN.length;AQ++){AR.push(this.renderEventRow(AQ,AN[AQ]))}return AR},renderSegHtml:function(AN,AT){var AU=this.view;var AQ=AU.opt("isRTL");var AP=AN.event;var AO=AU.isEventDraggable(AP);var AS=!AT&&AP.allDay&&AN.isEnd&&AU.isEventResizable(AP);var AV=this.getSegClasses(AN,AO,AS);var AX=this.getEventSkinCss(AP);var AR="";var AW;AV.unshift("fc-day-grid-event");if(!AP.allDay&&AN.isStart){AR='<span class="fc-time">'+AH(AU.getEventTimeText(AP))+"</span>"}AW='<span class="fc-title">'+(AH(AP.title||"")||"&nbsp;")+"</span>";return'<a class="'+AV.join(" ")+'"'+(AP.url?' href="'+AH(AP.url)+'"':"")+(AX?' style="'+AX+'"':"")+'><div class="fc-content">'+(AQ?AW+" "+AR:AR+" "+AW)+"</div>"+(AS?'<div class="fc-resizer"/>':"")+"</a>"},renderEventRow:function(A1,AZ){var AO=this.view;var AR=AO.colCnt;var AQ=this.buildSegLevels(AZ);var A3=Math.max(1,AQ.length);var AY=f("<tbody/>");var A2=[];var AN=[];var A0=[];var AU,AW;var A4;var AX;var AT,AS;var AV;function AP(A5){while(A4<A5){AV=(A0[AU-1]||[])[A4];if(AV){AV.attr("rowspan",parseInt(AV.attr("rowspan")||1,10)+1)}else{AV=f("<td/>");AX.append(AV)}AN[AU][A4]=AV;A0[AU][A4]=AV;A4++}}for(AU=0;AU<A3;AU++){AW=AQ[AU];A4=0;AX=f("<tr/>");A2.push([]);AN.push([]);A0.push([]);if(AW){for(AT=0;AT<AW.length;AT++){AS=AW[AT];AP(AS.leftCol);AV=f('<td class="fc-event-container"/>').append(AS.el);if(AS.leftCol!=AS.rightCol){AV.attr("colspan",AS.rightCol-AS.leftCol+1)}else{A0[AU][A4]=AV}while(A4<=AS.rightCol){AN[AU][A4]=AV;A2[AU][A4]=AS;A4++}AX.append(AV)}}AP(AR);this.bookendCells(AX,"eventSkeleton");AY.append(AX)}return{row:A1,tbodyEl:AY,cellMatrix:AN,segMatrix:A2,segLevels:AQ,segs:AZ}},buildSegLevels:function(AP){var AN=[];var AQ,AO;var AR;AP.sort(S);for(AQ=0;AQ<AP.length;AQ++){AO=AP[AQ];for(AR=0;AR<AN.length;AR++){if(!n(AO,AN[AR])){break}}AO.level=AR;(AN[AR]||(AN[AR]=[])).push(AO)}for(AR=0;AR<AN.length;AR++){AN[AR].sort(Ad)}return AN},groupSegRows:function(AO){var AQ=this.view;var AN=[];var AP;for(AP=0;AP<AQ.rowCnt;AP++){AN.push([])}for(AP=0;AP<AO.length;AP++){AN[AO[AP].row].push(AO[AP])}return AN}});function n(AP,AO){var AQ,AN;for(AQ=0;AQ<AO.length;AQ++){AN=AO[AQ];if(AN.leftCol<=AP.rightCol&&AN.rightCol>=AP.leftCol){return true}}return false}function Ad(AN,AO){return AN.leftCol-AO.leftCol}f.extend(O.prototype,{segPopover:null,popoverSegs:null,destroySegPopover:function(){if(this.segPopover){this.segPopover.hide()}},limitRows:function(AQ){var AO=this.rowStructs||[];var AP;var AN;for(AP=0;AP<AO.length;AP++){this.unlimitRow(AP);if(!AQ){AN=false}else{if(typeof AQ==="number"){AN=AQ}else{AN=this.computeRowLevelLimit(AP)}}if(AN!==false){this.limitRow(AP,AN)}}},computeRowLevelLimit:function(AR){var AS=this.rowEls.eq(AR);var AO=AS.height();var AP=this.rowStructs[AR].tbodyEl.children();var AQ,AN;for(AQ=0;AQ<AP.length;AQ++){AN=AP.eq(AQ).removeClass("fc-limited");if(AN.position().top+AN.outerHeight()>AO){return AQ}}return false},limitRow:function(A5,A2){var AR=this;var AO=this.view;var AQ=this.rowStructs[A5];var A1=[];var A8=0;var AX;var A0;var AT;var A6;var AV,AZ;var AS;var AN;var A9;var AY,A7;var AU;var AW;var AP,Ba,A4;function A3(Bb){while(A8<Bb){AX={row:A5,col:A8};AS=AR.getCellSegs(AX,A2);if(AS.length){AY=AT[A2-1][A8];A4=AR.renderMoreLink(AX,AS);Ba=f("<div/>").append(A4);AY.append(Ba);A1.push(Ba[0])}A8++}}if(A2&&A2<AQ.segLevels.length){A0=AQ.segLevels[A2-1];AT=AQ.cellMatrix;A6=AQ.tbodyEl.children().slice(A2).addClass("fc-limited").get();for(AV=0;AV<A0.length;AV++){AZ=A0[AV];A3(AZ.leftCol);A9=[];AN=0;while(A8<=AZ.rightCol){AX={row:A5,col:A8};AS=this.getCellSegs(AX,A2);A9.push(AS);AN+=AS.length;A8++}if(AN){AY=AT[A2-1][AZ.leftCol];A7=AY.attr("rowspan")||1;AU=[];for(AW=0;AW<A9.length;AW++){AP=f('<td class="fc-more-cell"/>').attr("rowspan",A7);AS=A9[AW];AX={row:A5,col:AZ.leftCol+AW};A4=this.renderMoreLink(AX,[AZ].concat(AS));Ba=f("<div/>").append(A4);AP.append(Ba);AU.push(AP[0]);A1.push(AP[0])}AY.addClass("fc-limited").after(f(AU));A6.push(AY[0])}}A3(AO.colCnt);AQ.moreEls=f(A1);AQ.limitedEls=f(A6)}},unlimitRow:function(AO){var AN=this.rowStructs[AO];if(AN.moreEls){AN.moreEls.remove();AN.moreEls=null}if(AN.limitedEls){AN.limitedEls.removeClass("fc-limited");AN.limitedEls=null}},renderMoreLink:function(AQ,AP){var AO=this;var AN=this.view;return f('<a class="fc-more"/>').text(this.getMoreLinkText(AP.length)).on("click",function(AR){var AY=AN.opt("eventLimitClick");var AS=AN.cellToDate(AQ);var AW=f(this);var AV=AO.getCellDayEl(AQ);var AU=AO.getCellSegs(AQ);var AX=AO.resliceDaySegs(AU,AS);var AT=AO.resliceDaySegs(AP,AS);if(typeof AY==="function"){AY=AN.trigger("eventLimitClick",null,{date:AS,dayEl:AV,moreEl:AW,segs:AX,hiddenSegs:AT},AR)}if(AY==="popover"){AO.showSegPopover(AS,AQ,AW,AX)}else{if(typeof AY==="string"){AN.calendar.zoomTo(AS,AY)}}})},showSegPopover:function(AP,AS,AT,AQ){var AU=this;var AV=this.view;var AR=AT.parent();var AO;var AN;if(AV.rowCnt==1){AO=this.view.el}else{AO=this.rowEls.eq(AS.row)}AN={className:"fc-more-popover",content:this.renderSegPopoverContent(AP,AQ),parentEl:this.el,top:AO.offset().top,autoHide:true,viewportConstrain:AV.opt("popoverViewportConstrain"),hide:function(){AU.segPopover.destroy();AU.segPopover=null;AU.popoverSegs=null}};if(AV.opt("isRTL")){AN.right=AR.offset().left+AR.outerWidth()+1}else{AN.left=AR.offset().left-1}this.segPopover=new t(AN);this.segPopover.show()},renderSegPopoverContent:function(AO,AP){var AS=this.view;var AQ=AS.opt("theme");var AR=AO.format(AS.opt("dayPopoverFormat"));var AT=f('<div class="fc-header '+AS.widgetHeaderClass+'"><span class="fc-close '+(AQ?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+AH(AR)+'</span><div class="fc-clear"/></div><div class="fc-body '+AS.widgetContentClass+'"><div class="fc-event-container"></div></div>');var AU=AT.find(".fc-event-container");var AN;AP=this.renderSegs(AP,true);this.popoverSegs=AP;for(AN=0;AN<AP.length;AN++){AP[AN].cellDate=AO;AU.append(AP[AN].el)}return AT},resliceDaySegs:function(AQ,AN){var AP=f.map(AQ,function(AS){return AS.event});var AO=AN.clone().stripTime();var AR=AO.clone().add(1,"days");return this.eventsToSegs(AP,AO,AR)},getMoreLinkText:function(AP){var AN=this.view;var AO=AN.opt("eventLimitText");if(typeof AO==="function"){return AO(AP)}else{return"+"+AP+" "+AO}},getCellSegs:function(AS,AQ){var AO=this.rowStructs[AS.row].segMatrix;var AP=AQ||0;var AN=[];var AR;while(AP<AO.length){AR=AO[AP][AS.col];if(AR){AN.push(AR)}AP++}return AN}});function T(AN){Af.call(this,AN)}T.prototype=c(Af.prototype);f.extend(T.prototype,{slotDuration:null,snapDuration:null,minTime:null,maxTime:null,dayEls:null,slatEls:null,slatTops:null,highlightEl:null,helperEl:null,render:function(){this.processOptions();this.el.html(this.renderHtml());this.dayEls=this.el.find(".fc-day");this.slatEls=this.el.find(".fc-slats tr");this.computeSlatTops();Af.prototype.render.call(this)},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(AP,AN,AO){return this.bgCellHtml(AP,AN,AO)},slatRowHtml:function(){var AS=this.view;var AO=AS.calendar;var AR=AS.opt("isRTL");var AV="";var AU=this.slotDuration.asMinutes()%15===0;var AP=Ab.duration(+this.minTime);var AQ;var AN;var AT;while(AP<this.maxTime){AQ=AS.start.clone().time(AP);AN=AQ.minutes();AT='<td class="fc-axis fc-time '+AS.widgetContentClass+'" '+AS.axisStyleAttr()+">"+((!AU||!AN)?"<span>"+AH(AO.formatDate(AQ,AS.opt("axisFormat")))+"</span>":"")+"</td>";AV+="<tr "+(!AN?"":'class="fc-minor"')+">"+(!AR?AT:"")+'<td class="'+AS.widgetContentClass+'"/>'+(AR?AT:"")+"</tr>";AP.add(this.slotDuration)}return AV},processOptions:function(){var AP=this.view;var AN=AP.opt("slotDuration");var AO=AP.opt("snapDuration");AN=Ab.duration(AN);AO=AO?Ab.duration(AO):AN;this.slotDuration=AN;this.snapDuration=AO;this.cellDuration=AO;this.minTime=Ab.duration(AP.opt("minTime"));this.maxTime=Ab.duration(AP.opt("maxTime"))},rangeToSegs:function(AV,AN){var AR=this.view;var AO=[];var AP;var AQ;var AT;var AS,AU;AV=AV.clone().stripZone();AN=AN.clone().stripZone();for(AQ=0;AQ<AR.colCnt;AQ++){AT=AR.cellToDate(0,AQ);AS=AT.clone().time(this.minTime);AU=AT.clone().time(this.maxTime);AP=D(AV,AN,AS,AU);if(AP){AP.col=AQ;AO.push(AP)}}return AO},resize:function(){this.computeSlatTops();this.updateSegVerticals()},buildCoords:function(AO,AR){var AN=this.view.colCnt;var AQ=this.el.offset().top;var AP=Ab.duration(+this.minTime);var AT=null;var AS,AU;this.dayEls.slice(0,AN).each(function(AV,AW){AS=f(AW);AU=AS.offset().left;if(AT){AT[1]=AU}AT=[AU];AR[AV]=AT});AT[1]=AU+AS.outerWidth();AT=null;while(AP<this.maxTime){AU=AQ+this.computeTimeTop(AP);if(AT){AT[1]=AU}AT=[AU];AO.push(AT);AP.add(this.snapDuration)}AT[1]=AQ+this.computeTimeTop(AP)},getCellDate:function(AP){var AN=this.view;var AO=AN.calendar;return AO.rezoneDate(AN.cellToDate(0,AP.col).time(this.minTime+this.snapDuration*AP.row))},getCellDayEl:function(AN){return this.dayEls.eq(AN.col)},computeDateTop:function(AN,AO){return this.computeTimeTop(Ab.duration(AN.clone().stripZone()-AO.clone().stripTime()))},computeTimeTop:function(AP){var AN=(AP-this.minTime)/this.slotDuration;var AS;var AO;var AR;var AQ;AN=Math.max(0,AN);AN=Math.min(this.slatEls.length,AN);AS=Math.floor(AN);AO=AN-AS;AR=this.slatTops[AS];if(AO){AQ=this.slatTops[AS+1];return AR+(AQ-AR)*AO}else{return AR}},computeSlatTops:function(){var AO=[];var AN;this.slatEls.each(function(AP,AQ){AN=f(AQ).position().top;AO.push(AN)});AO.push(AN+this.slatEls.last().outerHeight());this.slatTops=AO},renderDrag:function(AO,AQ,AP){var AN;if(AP){this.renderRangeHelper(AO,AQ,AP);AN=this.view.opt("dragOpacity");if(AN!==undefined){this.helperEl.css("opacity",AN)}return true}else{this.renderHighlight(AO,AQ||this.view.calendar.getDefaultEventEnd(false,AO))}},destroyDrag:function(){this.destroyHelper();this.destroyHighlight()},renderResize:function(AN,AP,AO){this.renderRangeHelper(AN,AP,AO)},destroyResize:function(){this.destroyHelper()},renderHelper:function(AO,AP){var AN=this.renderEventTable([AO]);var AU=AN.tableEl;var AQ=AN.segs;var AT,AR;var AS;for(AT=0;AT<AQ.length;AT++){AR=AQ[AT];if(AP&&AP.col===AR.col){AS=AP.el;AR.el.css({left:AS.css("left"),right:AS.css("right"),"margin-left":AS.css("margin-left"),"margin-right":AS.css("margin-right")})}}this.helperEl=f('<div class="fc-helper-skeleton"/>').append(AU).appendTo(this.el)},destroyHelper:function(){if(this.helperEl){this.helperEl.remove();this.helperEl=null}},renderSelection:function(AN,AO){if(this.view.opt("selectHelper")){this.renderRangeHelper(AN,AO)}else{this.renderHighlight(AN,AO)}},destroySelection:function(){this.destroyHelper();this.destroyHighlight()},renderHighlight:function(AN,AO){this.highlightEl=f(this.highlightSkeletonHtml(AN,AO)).appendTo(this.el)},destroyHighlight:function(){if(this.highlightEl){this.highlightEl.remove();this.highlightEl=null}},highlightSkeletonHtml:function(AW,AQ){var AU=this.view;var AT=this.rangeToSegs(AW,AQ);var AP="";var AN=0;var AV,AS;var AX;var AO,AR;for(AV=0;AV<AT.length;AV++){AS=AT[AV];if(AN<AS.col){AP+='<td colspan="'+(AS.col-AN)+'"/>';AN=AS.col}AX=AU.cellToDate(0,AN);AO=this.computeDateTop(AS.start,AX);AR=this.computeDateTop(AS.end,AX);AP+='<td><div class="fc-highlight-container"><div class="fc-highlight" style="top:'+AO+"px;bottom:-"+AR+'px"/></div></td>';AN++}if(AN<AU.colCnt){AP+='<td colspan="'+(AU.colCnt-AN)+'"/>'}AP=this.bookendCells(AP,"highlight");return'<div class="fc-highlight-skeleton"><table><tr>'+AP+"</tr></table></div>"}});f.extend(T.prototype,{segs:null,eventSkeletonEl:null,renderEvents:function(AN){var AO=this.renderEventTable(AN);this.eventSkeletonEl=f('<div class="fc-content-skeleton"/>').append(AO.tableEl);this.el.append(this.eventSkeletonEl);this.segs=AO.segs},getSegs:function(){return this.segs||[]},destroyEvents:function(){Af.prototype.destroyEvents.call(this);if(this.eventSkeletonEl){this.eventSkeletonEl.remove();this.eventSkeletonEl=null}this.segs=null},renderEventTable:function(AR){var AU=f("<table><tr/></table>");var AT=AU.find("tr");var AQ=this.eventsToSegs(AR);var AV;var AN,AO;var AW,AS;var AP;AQ=this.renderSegs(AQ);AV=this.groupSegCols(AQ);this.computeSegVerticals(AQ);for(AW=0;AW<AV.length;AW++){AS=AV[AW];k(AS);AP=f('<div class="fc-event-container"/>');for(AN=0;AN<AS.length;AN++){AO=AS[AN];AO.el.css(this.generateSegPositionCss(AO));if(AO.bottom-AO.top<30){AO.el.addClass("fc-short")}AP.append(AO.el)}AT.append(f("<td/>").append(AP))}this.bookendCells(AT,"eventSkeleton");return{tableEl:AU,segs:AQ}},updateSegVerticals:function(){var AN=this.segs;var AO;if(AN){this.computeSegVerticals(AN);for(AO=0;AO<AN.length;AO++){AN[AO].el.css(this.generateSegVerticalCss(AN[AO]))}}},computeSegVerticals:function(AO){var AP,AN;for(AP=0;AP<AO.length;AP++){AN=AO[AP];AN.top=this.computeDateTop(AN.start,AN.start);AN.bottom=this.computeDateTop(AN.end,AN.start)}},renderSegHtml:function(AN,AT){var AU=this.view;var AQ=AN.event;var AP=AU.isEventDraggable(AQ);var AS=!AT&&AN.isEnd&&AU.isEventResizable(AQ);var AV=this.getSegClasses(AN,AP,AS);var AX=this.getEventSkinCss(AQ);var AW;var AR;var AO;AV.unshift("fc-time-grid-event");if(AU.isMultiDayEvent(AQ)){if(AN.isStart||AN.isEnd){AW=AU.getEventTimeText(AN.start,AN.end);AR=AU.getEventTimeText(AN.start,AN.end,"LT");AO=AU.getEventTimeText(AN.start,null)}}else{AW=AU.getEventTimeText(AQ);AR=AU.getEventTimeText(AQ,"LT");AO=AU.getEventTimeText(AQ.start,null)}return'<a class="'+AV.join(" ")+'"'+(AQ.url?' href="'+AH(AQ.url)+'"':"")+(AX?' style="'+AX+'"':"")+'><div class="fc-content">'+(AW?'<div class="fc-time" data-start="'+AH(AO)+'" data-full="'+AH(AR)+'"><span>'+AH(AW)+"</span></div>":"")+(AQ.title?'<div class="fc-title">'+AH(AQ.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(AS?'<div class="fc-resizer"/>':"")+"</a>"},generateSegPositionCss:function(AN){var AT=this.view;var AS=AT.opt("isRTL");var AR=AT.opt("slotEventOverlap");var AU=AN.backwardCoord;var AO=AN.forwardCoord;var AP=this.generateSegVerticalCss(AN);var AQ;var AV;if(AR){AO=Math.min(1,AU+(AO-AU)*2)}if(AS){AQ=1-AO;AV=AU}else{AQ=AU;AV=1-AO}AP.zIndex=AN.level+1;AP.left=AQ*100+"%";AP.right=AV*100+"%";if(AR&&AN.forwardPressure){AP[AS?"marginLeft":"marginRight"]=10*2}return AP},generateSegVerticalCss:function(AN){return{top:AN.top,bottom:-AN.bottom}},groupSegCols:function(AO){var AQ=this.view;var AN=[];var AP;for(AP=0;AP<AQ.colCnt;AP++){AN.push([])}for(AP=0;AP<AO.length;AP++){AN[AO[AP].col].push(AO[AP])}return AN}});function k(AP){var AN;var AO;var AQ;AP.sort(S);AN=Ae(AP);Ao(AN);if((AO=AN[0])){for(AQ=0;AQ<AO.length;AQ++){P(AO[AQ])}for(AQ=0;AQ<AO.length;AQ++){AF(AO[AQ],0,0)}}}function Ae(AP){var AN=[];var AQ,AO;var AR;for(AQ=0;AQ<AP.length;AQ++){AO=AP[AQ];for(AR=0;AR<AN.length;AR++){if(!Az(AO,AN[AR]).length){break}}AO.level=AR;(AN[AR]||(AN[AR]=[])).push(AO)}return AN}function Ao(AN){var AQ,AP;var AR,AO;var AS;for(AQ=0;AQ<AN.length;AQ++){AP=AN[AQ];for(AR=0;AR<AP.length;AR++){AO=AP[AR];AO.forwardSegs=[];for(AS=AQ+1;AS<AN.length;AS++){Az(AO,AN[AS],AO.forwardSegs)}}}}function P(AO){var AQ=AO.forwardSegs;var AP=0;var AR,AN;if(AO.forwardPressure===undefined){for(AR=0;AR<AQ.length;AR++){AN=AQ[AR];P(AN);AP=Math.max(AP,1+AN.forwardPressure)}AO.forwardPressure=AP}}function AF(AO,AN,AQ){var AP=AO.forwardSegs;var AR;if(AO.forwardCoord===undefined){if(!AP.length){AO.forwardCoord=1}else{AP.sort(K);AF(AP[0],AN+1,AQ);AO.forwardCoord=AP[0].backwardCoord}AO.backwardCoord=AO.forwardCoord-(AO.forwardCoord-AQ)/(AN+1);for(AR=0;AR<AP.length;AR++){AF(AP[AR],0,AO.forwardCoord)}}}function Az(AO,AN,AQ){AQ=AQ||[];for(var AP=0;AP<AN.length;AP++){if(R(AO,AN[AP])){AQ.push(AN[AP])}}return AQ}function R(AO,AN){return AO.bottom>AN.top&&AO.top<AN.bottom}function K(AO,AN){return AN.forwardPressure-AO.forwardPressure||(AO.backwardCoord||0)-(AN.backwardCoord||0)||S(AO,AN)}H.prototype={calendar:null,coordMap:null,el:null,start:null,end:null,intervalStart:null,intervalEnd:null,rowCnt:null,colCnt:null,isSelected:false,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,documentMousedownProxy:null,documentDragStartProxy:null,init:function(){var AN=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=AN+"-widget-header";this.widgetContentClass=AN+"-widget-content";this.highlightStateClass=AN+"-state-highlight";this.documentMousedownProxy=f.proxy(this,"documentMousedown");this.documentDragStartProxy=f.proxy(this,"documentDragStart")},render:function(){this.updateSize();this.trigger("viewRender",this,this,this.el);f(document).on("mousedown",this.documentMousedownProxy).on("dragstart",this.documentDragStartProxy)},destroy:function(){this.unselect();this.trigger("viewDestroy",this,this,this.el);this.destroyEvents();this.el.empty();f(document).off("mousedown",this.documentMousedownProxy).off("dragstart",this.documentDragStartProxy)},incrementDate:function(AN,AO){},updateSize:function(AN){if(AN){this.recordScroll()}this.updateHeight();this.updateWidth()},updateWidth:function(){},updateHeight:function(){var AN=this.calendar;this.setHeight(AN.getSuggestedViewHeight(),AN.isHeightAuto())},setHeight:function(AN,AO){},computeScrollerHeight:function(AP){var AO=this.el.add(this.scrollerEl);var AN;AO.css({position:"relative",left:-1});AN=this.el.outerHeight()-this.scrollerEl.height();AO.css({position:"",left:""});return AP-AN},recordScroll:function(){if(this.scrollerEl){this.scrollTop=this.scrollerEl.scrollTop()}},restoreScroll:function(){if(this.scrollTop!==null){this.scrollerEl.scrollTop(this.scrollTop)}},renderEvents:function(AN){this.segEach(function(AO){this.trigger("eventAfterRender",AO.event,AO.event,AO.el)});this.trigger("eventAfterAllRender")},destroyEvents:function(){this.segEach(function(AN){this.trigger("eventDestroy",AN.event,AN.event,AN.el)})},resolveEventEl:function(AO,AN){var AP=this.trigger("eventRender",AO,AO,AN);if(AP===false){AN=null}else{if(AP&&AP!==true){AN=f(AP)}}return AN},showEvent:function(AN){this.segEach(function(AO){AO.el.css("visibility","")},AN)},hideEvent:function(AN){this.segEach(function(AO){AO.el.css("visibility","hidden")},AN)},segEach:function(AQ,AO){var AN=this.getSegs();var AP;for(AP=0;AP<AN.length;AP++){if(!AO||AN[AP].event._id===AO._id){AQ.call(this,AN[AP])}}},getSegs:function(){},renderDrag:function(AN,AP,AO){},destroyDrag:function(){},documentDragStart:function(AO,AQ){var AR=this;var AN=null;var AP;if(this.opt("droppable")){AP=new Ay(this.coordMap,{cellOver:function(AT,AS){AN=AS;AR.renderDrag(AS)},cellOut:function(){AN=null;AR.destroyDrag()}});f(document).one("dragstop",function(AS,AT){AR.destroyDrag();if(AN){AR.trigger("drop",AS.target,AN,AS,AT)}});AP.startDrag(AO)}},select:function(AN,AO,AP){this.unselect(AP);this.renderSelection(AN,AO);this.reportSelection(AN,AO,AP)},renderSelection:function(AN,AO){},reportSelection:function(AN,AO,AP){this.isSelected=true;this.trigger("select",null,AN,AO,AP)},unselect:function(AN){if(this.isSelected){this.isSelected=false;this.destroySelection();this.trigger("unselect",null,AN)}},destroySelection:function(){},documentMousedown:function(AN){var AO;if(this.isSelected&&this.opt("unselectAuto")&&y(AN)){AO=this.opt("unselectCancel");if(!AO||!f(AN.target).closest(AO).length){this.unselect(AN)}}}};function H(AZ){var AV=this;AV.calendar=AZ;AV.opt=A1;AV.trigger=A9;AV.isEventDraggable=Ba;AV.isEventResizable=A8;AV.eventDrop=AU;AV.eventResize=Bb;var Bf=AZ.reportEventChange;var AY=AZ.options;var Be=Ab.duration(AY.nextDayThreshold);AV.init();function A1(Bi){var Bj=AY[Bi];if(f.isPlainObject(Bj)&&!Aw(Bi)){return x(Bj,AV.name)}return Bj}function A9(Bi,Bj){return AZ.trigger.apply(AZ,[Bi,Bj||AV].concat(Array.prototype.slice.call(arguments,2),[AV]))}function Ba(Bi){var Bj=Bi.source||{};return Am(Bi.startEditable,Bj.startEditable,A1("eventStartEditable"),Bi.editable,Bj.editable,A1("editable"))}function A8(Bi){var Bj=Bi.source||{};return Am(Bi.durationEditable,Bj.durationEditable,A1("eventDurationEditable"),Bi.editable,Bj.editable,A1("editable"))}AV.getEventTimeText=function(Bj,Bl){var Bi;var Bk;if(typeof Bj==="object"&&typeof Bl==="object"){Bi=Bj;Bk=Bl;Bl=arguments[2]}else{Bi=Bj.start;Bk=Bj.end}Bl=Bl||A1("timeFormat");if(Bk&&A1("displayEventEnd")){return AZ.formatRange(Bi,Bk,Bl)}else{return AZ.formatDate(Bi,Bl)}};function AU(Bj,Bl,Bi,Bk){var Bm=AZ.mutateEvent(Bl,Bi,null);A9("eventDrop",Bj,Bl,Bm.dateDelta,function(){Bm.undo();Bf()},Bk,{});Bf()}function Bb(Bj,Bl,Bi,Bk){var Bm=AZ.mutateEvent(Bl,null,Bi);A9("eventResize",Bj,Bl,Bm.durationDelta,function(){Bm.undo();Bf()},Bk,{});Bf()}AV.isHiddenDay=A4;AV.skipHiddenDays=A3;AV.getCellsPerWeek=AQ;AV.dateToCell=A5;AV.dateToDayOffset=A7;AV.dayOffsetToCellOffset=Bd;AV.cellOffsetToCell=AR;AV.cellToDate=A2;AV.cellToCellOffset=AT;AV.cellOffsetToDayOffset=Bc;AV.dayOffsetToDate=AW;AV.rangeToSegments=Bh;AV.isMultiDayEvent=Bg;var AN=A1("hiddenDays")||[];var AS=[];var AO;var A0=[];var A6=[];var AP=A1("isRTL");(function(){if(A1("weekends")===false){AN.push(0,6)}for(var Bj=0,Bi=0;Bj<7;Bj++){A0[Bj]=Bi;AS[Bj]=f.inArray(Bj,AN)!=-1;if(!AS[Bj]){A6[Bi]=Bj;Bi++}}AO=Bi;if(!AO){throw"invalid hiddenDays"}})();function A4(Bi){if(Ab.isMoment(Bi)){Bi=Bi.day()}return AS[Bi]}function AQ(){return AO}function A3(Bl,Bj,Bk){var Bi=Bl.clone();Bj=Bj||1;while(AS[(Bi.day()+(Bk?Bj:0)+7)%7]){Bi.add(Bj,"days")}return Bi}function A2(){var Bi=AT.apply(null,arguments);var Bk=Bc(Bi);var Bj=AW(Bk);return Bj}function AT(Bm,Bl){var Bi=AV.colCnt;var Bj=AP?-1:1;var Bn=AP?Bi-1:0;if(typeof Bm=="object"){Bl=Bm.col;Bm=Bm.row}var Bk=Bm*Bi+(Bl*Bj+Bn);return Bk}function Bc(Bi){var Bj=AV.start.day();Bi+=A0[Bj];return Math.floor(Bi/AO)*7+A6[(Bi%AO+AO)%AO]-Bj}function AW(Bi){return AV.start.clone().add(Bi,"days")}function A5(Bj){var Bk=A7(Bj);var Bi=Bd(Bk);var Bl=AR(Bi);return Bl}function A7(Bi){return Bi.clone().stripTime().diff(AV.start,"days")}function Bd(Bj){var Bi=AV.start.day();Bj+=Bi;return Math.floor(Bj/7)*AO+A0[(Bj%7+7)%7]-A0[Bi]}function AR(Bi){var Bl=AV.colCnt;var Bj=AP?-1:1;var Bn=AP?Bl-1:0;var Bm=Math.floor(Bi/Bl);var Bk=((Bi%Bl+Bl)%Bl)*Bj+Bn;return{row:Bm,col:Bk}}function Bh(Bp,Bl){var Bx=AV.rowCnt;var Bz=AV.colCnt;var Bu=[];var Bw=AX(Bp,Bl);var Bi=A7(Bw.start);var Bm=A7(Bw.end);var Bk=Bd(Bi);var Bt=Bd(Bm)-1;for(var Bv=0;Bv<Bx;Bv++){var Br=Bv*Bz;var Bq=Br+Bz-1;var Bn=Math.max(Bk,Br);var Bo=Math.min(Bt,Bq);if(Bn<=Bo){var By=AR(Bn);var BA=AR(Bo);var BB=[By.col,BA.col].sort();var Bj=Bc(Bn)==Bi;var Bs=Bc(Bo)+1==Bm;Bu.push({row:Bv,leftCol:BB[0],rightCol:BB[1],isStart:Bj,isEnd:Bs})}}return Bu}function AX(Bj,Bk){var Bm=Bj.clone().stripTime();var Bi;var Bl;if(Bk){Bi=Bk.clone().stripTime();Bl=+Bk.time();if(Bl&&Bl>=Be){Bi.add(1,"days")}}if(!Bk||Bi<=Bm){Bi=Bm.clone().add(1,"days")}return{start:Bm,end:Bi}}function Bg(Bj){var Bi=AX(Bj.start,Bj.end);return Bi.end.diff(Bi.start,"days")>1}}function AD(AN){H.call(this,AN);this.dayGrid=new O(this);this.coordMap=this.dayGrid.coordMap}AD.prototype=c(H.prototype);f.extend(AD.prototype,{dayGrid:null,dayNumbersVisible:false,weekNumbersVisible:false,weekNumberWidth:null,headRowEl:null,render:function(AO,AN,AP){this.rowCnt=AO;this.colCnt=AN;this.dayNumbersVisible=AP;this.weekNumbersVisible=this.opt("weekNumbers");this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderHtml());this.headRowEl=this.el.find("thead .fc-row");this.scrollerEl=this.el.find(".fc-day-grid-container");this.dayGrid.coordMap.containerEl=this.scrollerEl;this.dayGrid.el=this.el.find(".fc-day-grid");this.dayGrid.render(this.hasRigidRows());H.prototype.render.call(this)},destroy:function(){this.dayGrid.destroy();H.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){if(this.weekNumbersVisible){return'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+AH(this.opt("weekNumberTitle"))+"</span></th>"}},numberIntroHtml:function(AN){if(this.weekNumbersVisible){return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.calendar.calculateWeekNumber(this.cellToDate(AN,0))+"</span></td>"}},dayIntroHtml:function(){if(this.weekNumbersVisible){return'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>"}},introHtml:function(){if(this.weekNumbersVisible){return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>"}},numberCellHtml:function(AQ,AO,AP){var AN;if(!this.dayNumbersVisible){return"<td/>"}AN=this.dayGrid.getDayClasses(AP);AN.unshift("fc-day-number");return'<td class="'+AN.join(" ")+'" data-date="'+AP.format()+'">'+AP.date()+"</td>"},weekNumberStyleAttr:function(){if(this.weekNumberWidth!==null){return'style="width:'+this.weekNumberWidth+'px"'}return""},hasRigidRows:function(){var AN=this.opt("eventLimit");return AN&&typeof AN!=="number"},updateWidth:function(){if(this.weekNumbersVisible){this.weekNumberWidth=g(this.el.find(".fc-week-number"))}},setHeight:function(AQ,AN){var AP=this.opt("eventLimit");var AO;z(this.scrollerEl);A(this.headRowEl);this.dayGrid.destroySegPopover();if(AP&&typeof AP==="number"){this.dayGrid.limitRows(AP)}AO=this.computeScrollerHeight(AQ);this.setGridHeight(AO,AN);if(AP&&typeof AP!=="number"){this.dayGrid.limitRows(AP)}if(!AN&&h(this.scrollerEl,AO)){B(this.headRowEl,Ap(this.scrollerEl));AO=this.computeScrollerHeight(AQ);this.scrollerEl.height(AO);this.restoreScroll()}},setGridHeight:function(AN,AO){if(AO){AJ(this.dayGrid.rowEls)}else{As(this.dayGrid.rowEls,AN,true)}},renderEvents:function(AN){this.dayGrid.renderEvents(AN);this.updateHeight();H.prototype.renderEvents.call(this,AN)},getSegs:function(){return this.dayGrid.getSegs()},destroyEvents:function(){H.prototype.destroyEvents.call(this);this.recordScroll();this.dayGrid.destroyEvents()},renderDrag:function(AN,AP,AO){return this.dayGrid.renderDrag(AN,AP,AO)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(AN,AO){this.dayGrid.renderSelection(AN,AO)},destroySelection:function(){this.dayGrid.destroySelection()}});AE({fixedWeekCount:true});b.month=e;function e(AN){AD.call(this,AN)}e.prototype=c(AD.prototype);f.extend(e.prototype,{name:"month",incrementDate:function(AN,AO){return AN.clone().stripTime().add(AO,"months").startOf("month")},render:function(AO){var AN;this.intervalStart=AO.clone().stripTime().startOf("month");this.intervalEnd=this.intervalStart.clone().add(1,"months");this.start=this.intervalStart.clone();this.start=this.skipHiddenDays(this.start);this.start.startOf("week");this.start=this.skipHiddenDays(this.start);this.end=this.intervalEnd.clone();this.end=this.skipHiddenDays(this.end,-1,true);this.end.add((7-this.end.weekday())%7,"days");this.end=this.skipHiddenDays(this.end,-1,true);AN=Math.ceil(this.end.diff(this.start,"weeks",true));if(this.isFixedWeeks()){this.end.add(6-AN,"weeks");AN=6}this.title=this.calendar.formatDate(this.intervalStart,this.opt("titleFormat"));AD.prototype.render.call(this,AN,this.getCellsPerWeek(),true)},setGridHeight:function(AN,AO){AO=AO||this.opt("weekMode")==="variable";if(AO){AN*=this.rowCnt/6}As(this.dayGrid.rowEls,AN,!AO)},isFixedWeeks:function(){var AN=this.opt("weekMode");if(AN){return AN==="fixed"}return this.opt("fixedWeekCount")}});b.basicWeek=I;function I(AN){AD.call(this,AN)}I.prototype=c(AD.prototype);f.extend(I.prototype,{name:"basicWeek",incrementDate:function(AN,AO){return AN.clone().stripTime().add(AO,"weeks").startOf("week")},render:function(AN){this.intervalStart=AN.clone().stripTime().startOf("week");this.intervalEnd=this.intervalStart.clone().add(1,"weeks");this.start=this.skipHiddenDays(this.intervalStart);this.end=this.skipHiddenDays(this.intervalEnd,-1,true);this.title=this.calendar.formatRange(this.start,this.end.clone().subtract(1),this.opt("titleFormat")," \u2014 ");AD.prototype.render.call(this,1,this.getCellsPerWeek(),false)}});b.basicDay=o;function o(AN){AD.call(this,AN)}o.prototype=c(AD.prototype);f.extend(o.prototype,{name:"basicDay",incrementDate:function(AO,AP){var AN=AO.clone().stripTime().add(AP,"days");AN=this.skipHiddenDays(AN,AP<0?-1:1);return AN},render:function(AN){this.start=this.intervalStart=AN.clone().stripTime();this.end=this.intervalEnd=this.start.clone().add(1,"days");this.title=this.calendar.formatDate(this.start,this.opt("titleFormat"));AD.prototype.render.call(this,1,1,false)}});AE({allDaySlot:true,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",axisFormat:s,timeFormat:{agenda:V},minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:true});var Ah=5;function s(AO,AN){return AN.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")}function V(AO,AN){return AN.longDateFormat("LT").replace(/\s*a$/i,"")}function Al(AN){H.call(this,AN);this.timeGrid=new T(this);if(this.opt("allDaySlot")){this.dayGrid=new O(this);this.coordMap=new M([this.dayGrid.coordMap,this.timeGrid.coordMap])}else{this.coordMap=this.timeGrid.coordMap}}Al.prototype=c(H.prototype);f.extend(Al.prototype,{timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,render:function(AN){this.rowCnt=1;this.colCnt=AN;this.el.addClass("fc-agenda-view").html(this.renderHtml());this.scrollerEl=this.el.find(".fc-time-grid-container");this.timeGrid.coordMap.containerEl=this.scrollerEl;this.timeGrid.el=this.el.find(".fc-time-grid");this.timeGrid.render();this.bottomRuleEl=f('<hr class="'+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);if(this.dayGrid){this.dayGrid.el=this.el.find(".fc-day-grid");this.dayGrid.render();this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()}this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)");H.prototype.render.call(this);this.resetScroll()},destroy:function(){this.timeGrid.destroy();if(this.dayGrid){this.dayGrid.destroy()}H.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="'+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var AO;var AQ;var AN;var AP;if(this.opt("weekNumbers")){AO=this.cellToDate(0,0);AQ=this.calendar.calculateWeekNumber(AO);AN=this.opt("weekNumberTitle");if(this.opt("isRTL")){AP=AQ+AN}else{AP=AN+AQ}return'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+AH(AP)+"</span></th>"}else{return'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"}},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||AH(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){if(this.axisWidth!==null){return'style="width:'+this.axisWidth+'px"'}return""},updateSize:function(AN){if(AN){this.timeGrid.resize()}H.prototype.updateSize.call(this,AN)},updateWidth:function(){this.axisWidth=g(this.el.find(".fc-axis"))},setHeight:function(AQ,AN){var AP;var AO;if(this.bottomRuleHeight===null){this.bottomRuleHeight=this.bottomRuleEl.outerHeight()}this.bottomRuleEl.hide();this.scrollerEl.css("overflow","");z(this.scrollerEl);A(this.noScrollRowEls);if(this.dayGrid){this.dayGrid.destroySegPopover();AP=this.opt("eventLimit");if(AP&&typeof AP!=="number"){AP=Ah}if(AP){this.dayGrid.limitRows(AP)}}if(!AN){AO=this.computeScrollerHeight(AQ);if(h(this.scrollerEl,AO)){B(this.noScrollRowEls,Ap(this.scrollerEl));AO=this.computeScrollerHeight(AQ);this.scrollerEl.height(AO);this.restoreScroll()}else{this.scrollerEl.height(AO).css("overflow","hidden");this.bottomRuleEl.show()}}},resetScroll:function(){var AQ=this;var AO=Ab.duration(this.opt("scrollTime"));var AN=this.timeGrid.computeTimeTop(AO);AN=Math.ceil(AN);if(AN){AN++}function AP(){AQ.scrollerEl.scrollTop(AN)}AP();setTimeout(AP,0)},renderEvents:function(AP){var AQ=[];var AO=[];var AN=[];var AS;var AR;for(AR=0;AR<AP.length;AR++){if(AP[AR].allDay){AQ.push(AP[AR])}else{AO.push(AP[AR])}}AS=this.timeGrid.renderEvents(AO);if(this.dayGrid){AN=this.dayGrid.renderEvents(AQ)}this.updateHeight();H.prototype.renderEvents.call(this,AP)},getSegs:function(){return this.timeGrid.getSegs().concat(this.dayGrid?this.dayGrid.getSegs():[])},destroyEvents:function(){H.prototype.destroyEvents.call(this);this.recordScroll();this.timeGrid.destroyEvents();if(this.dayGrid){this.dayGrid.destroyEvents()}},renderDrag:function(AN,AP,AO){if(AN.hasTime()){return this.timeGrid.renderDrag(AN,AP,AO)}else{if(this.dayGrid){return this.dayGrid.renderDrag(AN,AP,AO)}}},destroyDrag:function(){this.timeGrid.destroyDrag();if(this.dayGrid){this.dayGrid.destroyDrag()}},renderSelection:function(AN,AO){if(AN.hasTime()||AO.hasTime()){this.timeGrid.renderSelection(AN,AO)}else{if(this.dayGrid){this.dayGrid.renderSelection(AN,AO)}}},destroySelection:function(){this.timeGrid.destroySelection();if(this.dayGrid){this.dayGrid.destroySelection()}}});b.agendaWeek=Av;function Av(AN){Al.call(this,AN)}Av.prototype=c(Al.prototype);f.extend(Av.prototype,{name:"agendaWeek",incrementDate:function(AN,AO){return AN.clone().stripTime().add(AO,"weeks").startOf("week")},render:function(AN){this.intervalStart=AN.clone().stripTime().startOf("week");this.intervalEnd=this.intervalStart.clone().add(1,"weeks");this.start=this.skipHiddenDays(this.intervalStart);this.end=this.skipHiddenDays(this.intervalEnd,-1,true);this.title=this.calendar.formatRange(this.start,this.end.clone().subtract(1),this.opt("titleFormat")," \u2014 ");Al.prototype.render.call(this,this.getCellsPerWeek())}});b.agendaDay=G;function G(AN){Al.call(this,AN)}G.prototype=c(Al.prototype);f.extend(G.prototype,{name:"agendaDay",incrementDate:function(AO,AP){var AN=AO.clone().stripTime().add(AP,"days");AN=this.skipHiddenDays(AN,AP<0?-1:1);return AN},render:function(AN){this.start=this.intervalStart=AN.clone().stripTime();this.end=this.intervalEnd=this.start.clone().add(1,"days");this.title=this.calendar.formatDate(this.start,this.opt("titleFormat"));Al.prototype.render.call(this,1)}})});